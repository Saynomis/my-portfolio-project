(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function i(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=i(s);fetch(s.href,r)}})();const S_="modulepreload",x_=function(e){return"/my-portfolio-project/"+e},m0={},iu=function(t,i,n){let s=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),a=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));s=Promise.all(i.map(o=>{if(o=x_(o),o in m0)return;m0[o]=!0;const c=o.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":S_,c||(h.as="script",h.crossOrigin=""),h.href=o,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((d,f)=>{h.addEventListener("load",d),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})}))}return s.then(()=>t()).catch(r=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=r,window.dispatchEvent(a),!a.defaultPrevented)throw r})};var E_=Object.defineProperty,Iy=e=>{throw TypeError(e)},C_=(e,t,i)=>t in e?E_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,X=(e,t,i)=>C_(e,typeof t!="symbol"?t+"":t,i),uv=(e,t,i)=>t.has(e)||Iy("Cannot "+i),l=(e,t,i)=>(uv(e,t,"read from private field"),i?i.call(e):t.get(e)),k=(e,t,i)=>t.has(e)?Iy("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,i),y=(e,t,i,n)=>(uv(e,t,"write to private field"),t.set(e,i),i),w=(e,t,i)=>(uv(e,t,"access private method"),i),bi=(e,t,i,n)=>({set _(s){y(e,t,s)},get _(){return l(e,t,n)}});function M_(e,t){for(var i=0;i<t.length;i++){const n=t[i];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const r=Object.getOwnPropertyDescriptor(n,s);r&&Object.defineProperty(e,s,r.get?r:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}})();function Ny(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Dy={exports:{}},Rf={},Fy={exports:{}},Z={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var $c=Symbol.for("react.element"),T_=Symbol.for("react.portal"),R_=Symbol.for("react.fragment"),P_=Symbol.for("react.strict_mode"),L_=Symbol.for("react.profiler"),I_=Symbol.for("react.provider"),N_=Symbol.for("react.context"),D_=Symbol.for("react.forward_ref"),F_=Symbol.for("react.suspense"),O_=Symbol.for("react.memo"),W_=Symbol.for("react.lazy"),v0=Symbol.iterator;function j_(e){return e===null||typeof e!="object"?null:(e=v0&&e[v0]||e["@@iterator"],typeof e=="function"?e:null)}var Oy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wy=Object.assign,jy={};function Po(e,t,i){this.props=e,this.context=t,this.refs=jy,this.updater=i||Oy}Po.prototype.isReactComponent={};Po.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Po.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zy(){}zy.prototype=Po.prototype;function hv(e,t,i){this.props=e,this.context=t,this.refs=jy,this.updater=i||Oy}var dv=hv.prototype=new zy;dv.constructor=hv;Wy(dv,Po.prototype);dv.isPureReactComponent=!0;var b0=Array.isArray,By=Object.prototype.hasOwnProperty,fv={current:null},Hy={key:!0,ref:!0,__self:!0,__source:!0};function $y(e,t,i){var n,s={},r=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(r=""+t.key),t)By.call(t,n)&&!Hy.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=i;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:$c,type:e,key:r,ref:a,props:s,_owner:fv.current}}function z_(e,t){return{$$typeof:$c,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function pv(e){return typeof e=="object"&&e!==null&&e.$$typeof===$c}function B_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return t[i]})}var y0=/\/+/g;function up(e,t){return typeof e=="object"&&e!==null&&e.key!=null?B_(""+e.key):t.toString(36)}function ju(e,t,i,n,s){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(r){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case $c:case T_:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+up(a,0):n,b0(s)?(i="",e!=null&&(i=e.replace(y0,"$&/")+"/"),ju(s,t,i,"",function(u){return u})):s!=null&&(pv(s)&&(s=z_(s,i+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(y0,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",b0(e))for(var o=0;o<e.length;o++){r=e[o];var c=n+up(r,o);a+=ju(r,t,i,c,s)}else if(c=j_(e),typeof c=="function")for(e=c.call(e),o=0;!(r=e.next()).done;)r=r.value,c=n+up(r,o++),a+=ju(r,t,i,c,s);else if(r==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function nu(e,t,i){if(e==null)return e;var n=[],s=0;return ju(e,n,"","",function(r){return t.call(i,r,s++)}),n}function H_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Te={current:null},zu={transition:null},$_={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:zu,ReactCurrentOwner:fv};function Uy(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:nu,forEach:function(e,t,i){nu(e,function(){t.apply(this,arguments)},i)},count:function(e){var t=0;return nu(e,function(){t++}),t},toArray:function(e){return nu(e,function(t){return t})||[]},only:function(e){if(!pv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=Po;Z.Fragment=R_;Z.Profiler=L_;Z.PureComponent=hv;Z.StrictMode=P_;Z.Suspense=F_;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$_;Z.act=Uy;Z.cloneElement=function(e,t,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Wy({},e.props),s=e.key,r=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(r=t.ref,a=fv.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)By.call(t,c)&&!Hy.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=i;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:$c,type:e.type,key:s,ref:r,props:n,_owner:a}};Z.createContext=function(e){return e={$$typeof:N_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:I_,_context:e},e.Consumer=e};Z.createElement=$y;Z.createFactory=function(e){var t=$y.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:D_,render:e}};Z.isValidElement=pv;Z.lazy=function(e){return{$$typeof:W_,_payload:{_status:-1,_result:e},_init:H_}};Z.memo=function(e,t){return{$$typeof:O_,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=zu.transition;zu.transition={};try{e()}finally{zu.transition=t}};Z.unstable_act=Uy;Z.useCallback=function(e,t){return Te.current.useCallback(e,t)};Z.useContext=function(e){return Te.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return Te.current.useDeferredValue(e)};Z.useEffect=function(e,t){return Te.current.useEffect(e,t)};Z.useId=function(){return Te.current.useId()};Z.useImperativeHandle=function(e,t,i){return Te.current.useImperativeHandle(e,t,i)};Z.useInsertionEffect=function(e,t){return Te.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return Te.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return Te.current.useMemo(e,t)};Z.useReducer=function(e,t,i){return Te.current.useReducer(e,t,i)};Z.useRef=function(e){return Te.current.useRef(e)};Z.useState=function(e){return Te.current.useState(e)};Z.useSyncExternalStore=function(e,t,i){return Te.current.useSyncExternalStore(e,t,i)};Z.useTransition=function(){return Te.current.useTransition()};Z.version="18.3.1";Fy.exports=Z;var R=Fy.exports;const On=Ny(R),U_=M_({__proto__:null,default:On},[R]);/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var V_=R,G_=Symbol.for("react.element"),q_=Symbol.for("react.fragment"),K_=Object.prototype.hasOwnProperty,X_=V_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Y_={key:!0,ref:!0,__self:!0,__source:!0};function Vy(e,t,i){var n,s={},r=null,a=null;i!==void 0&&(r=""+i),t.key!==void 0&&(r=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)K_.call(t,n)&&!Y_.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:G_,type:e,key:r,ref:a,props:s,_owner:X_.current}}Rf.Fragment=q_;Rf.jsx=Vy;Rf.jsxs=Vy;Dy.exports=Rf;var E=Dy.exports,Zp={},Gy={exports:{}},ti={},qy={exports:{}},Ky={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(e){function t(N,H){var G=N.length;N.push(H);t:for(;0<G;){var at=G-1>>>1,Q=N[at];if(0<s(Q,H))N[at]=H,N[G]=Q,G=at;else break t}}function i(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var H=N[0],G=N.pop();if(G!==H){N[0]=G;t:for(var at=0,Q=N.length,ht=Q>>>1;at<ht;){var Jt=2*(at+1)-1,Zt=N[Jt],yt=Jt+1,et=N[yt];if(0>s(Zt,G))yt<Q&&0>s(et,Zt)?(N[at]=et,N[yt]=G,at=yt):(N[at]=Zt,N[Jt]=G,at=Jt);else if(yt<Q&&0>s(et,G))N[at]=et,N[yt]=G,at=yt;else break t}}return H}function s(N,H){var G=N.sortIndex-H.sortIndex;return G!==0?G:N.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var c=[],u=[],h=1,d=null,f=3,p=!1,g=!1,b=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(N){for(var H=i(u);H!==null;){if(H.callback===null)n(u);else if(H.startTime<=N)n(u),H.sortIndex=H.expirationTime,t(c,H);else break;H=i(u)}}function S(N){if(b=!1,A(N),!g)if(i(c)!==null)g=!0,D(x);else{var H=i(u);H!==null&&W(S,H.startTime-N)}}function x(N,H){g=!1,b&&(b=!1,v(M),M=-1),p=!0;var G=f;try{for(A(H),d=i(c);d!==null&&(!(d.expirationTime>H)||N&&!O());){var at=d.callback;if(typeof at=="function"){d.callback=null,f=d.priorityLevel;var Q=at(d.expirationTime<=H);H=e.unstable_now(),typeof Q=="function"?d.callback=Q:d===i(c)&&n(c),A(H)}else n(c);d=i(c)}if(d!==null)var ht=!0;else{var Jt=i(u);Jt!==null&&W(S,Jt.startTime-H),ht=!1}return ht}finally{d=null,f=G,p=!1}}var C=!1,T=null,M=-1,I=5,P=-1;function O(){return!(e.unstable_now()-P<I)}function Y(){if(T!==null){var N=e.unstable_now();P=N;var H=!0;try{H=T(!0,N)}finally{H?B():(C=!1,T=null)}}else C=!1}var B;if(typeof m=="function")B=function(){m(Y)};else if(typeof MessageChannel<"u"){var ut=new MessageChannel,tt=ut.port2;ut.port1.onmessage=Y,B=function(){tt.postMessage(null)}}else B=function(){_(Y,0)};function D(N){T=N,C||(C=!0,B())}function W(N,H){M=_(function(){N(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,D(x))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return i(c)},e.unstable_next=function(N){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var G=f;f=H;try{return N()}finally{f=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,H){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var G=f;f=N;try{return H()}finally{f=G}},e.unstable_scheduleCallback=function(N,H,G){var at=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?at+G:at):G=at,N){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=G+Q,N={id:h++,callback:H,priorityLevel:N,startTime:G,expirationTime:Q,sortIndex:-1},G>at?(N.sortIndex=G,t(u,N),i(c)===null&&N===i(u)&&(b?(v(M),M=-1):b=!0,W(S,G-at))):(N.sortIndex=Q,t(c,N),g||p||(g=!0,D(x))),N},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(N){var H=f;return function(){var G=f;f=H;try{return N.apply(this,arguments)}finally{f=G}}}})(Ky);qy.exports=Ky;var Q_=qy.exports;/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var J_=R,Ze=Q_;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xy=new Set,kc={};function Br(e,t){Ao(e,t),Ao(e+"Capture",t)}function Ao(e,t){for(kc[e]=t,e=0;e<t.length;e++)Xy.add(t[e])}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tg=Object.prototype.hasOwnProperty,Z_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w0={},A0={};function tS(e){return tg.call(A0,e)?!0:tg.call(w0,e)?!1:Z_.test(e)?A0[e]=!0:(w0[e]=!0,!1)}function eS(e,t,i,n){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function iS(e,t,i,n){if(t===null||typeof t>"u"||eS(e,t,i,n))return!0;if(n)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Re(e,t,i,n,s,r,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=a}var re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){re[e]=new Re(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];re[t]=new Re(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){re[e]=new Re(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){re[e]=new Re(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){re[e]=new Re(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){re[e]=new Re(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){re[e]=new Re(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){re[e]=new Re(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){re[e]=new Re(e,5,!1,e.toLowerCase(),null,!1,!1)});var gv=/[\-:]([a-z])/g;function mv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gv,mv);re[t]=new Re(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gv,mv);re[t]=new Re(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gv,mv);re[t]=new Re(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){re[e]=new Re(e,1,!1,e.toLowerCase(),null,!1,!1)});re.xlinkHref=new Re("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){re[e]=new Re(e,1,!1,e.toLowerCase(),null,!0,!0)});function vv(e,t,i,n){var s=re.hasOwnProperty(t)?re[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(iS(t,i,s,n)&&(i=null),n||s===null?tS(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):s.mustUseProperty?e[s.propertyName]=i===null?s.type===3?!1:"":i:(t=s.attributeName,n=s.attributeNamespace,i===null?e.removeAttribute(t):(s=s.type,i=s===3||s===4&&i===!0?"":""+i,n?e.setAttributeNS(n,t,i):e.setAttribute(t,i))))}var Un=J_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,su=Symbol.for("react.element"),Pa=Symbol.for("react.portal"),La=Symbol.for("react.fragment"),bv=Symbol.for("react.strict_mode"),eg=Symbol.for("react.profiler"),Yy=Symbol.for("react.provider"),Qy=Symbol.for("react.context"),yv=Symbol.for("react.forward_ref"),ig=Symbol.for("react.suspense"),ng=Symbol.for("react.suspense_list"),wv=Symbol.for("react.memo"),ss=Symbol.for("react.lazy"),Jy=Symbol.for("react.offscreen"),k0=Symbol.iterator;function Fo(e){return e===null||typeof e!="object"?null:(e=k0&&e[k0]||e["@@iterator"],typeof e=="function"?e:null)}var Ct=Object.assign,hp;function nl(e){if(hp===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);hp=t&&t[1]||""}return`
`+hp+e}var dp=!1;function fp(e,t){if(!e||dp)return"";dp=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),r=n.stack.split(`
`),a=s.length-1,o=r.length-1;1<=a&&0<=o&&s[a]!==r[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==r[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==r[o]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=o);break}}}finally{dp=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?nl(e):""}function nS(e){switch(e.tag){case 5:return nl(e.type);case 16:return nl("Lazy");case 13:return nl("Suspense");case 19:return nl("SuspenseList");case 0:case 2:case 15:return e=fp(e.type,!1),e;case 11:return e=fp(e.type.render,!1),e;case 1:return e=fp(e.type,!0),e;default:return""}}function sg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case La:return"Fragment";case Pa:return"Portal";case eg:return"Profiler";case bv:return"StrictMode";case ig:return"Suspense";case ng:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Qy:return(e.displayName||"Context")+".Consumer";case Yy:return(e._context.displayName||"Context")+".Provider";case yv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wv:return t=e.displayName||null,t!==null?t:sg(e.type)||"Memo";case ss:t=e._payload,e=e._init;try{return sg(e(t))}catch{}}return null}function sS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sg(t);case 8:return t===bv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Fs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rS(e){var t=Zy(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,r=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,r.call(this,a)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ru(e){e._valueTracker||(e._valueTracker=rS(e))}function t1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),n="";return e&&(n=Zy(e)?e.checked?"true":"false":e.value),e=n,e!==i?(t.setValue(e),!0):!1}function kd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function rg(e,t){var i=t.checked;return Ct({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function _0(e,t){var i=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;i=Fs(t.value!=null?t.value:i),e._wrapperState={initialChecked:n,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function e1(e,t){t=t.checked,t!=null&&vv(e,"checked",t,!1)}function ag(e,t){e1(e,t);var i=Fs(t.value),n=t.type;if(i!=null)n==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?og(e,t.type,i):t.hasOwnProperty("defaultValue")&&og(e,t.type,Fs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function S0(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function og(e,t,i){(t!=="number"||kd(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var sl=Array.isArray;function ro(e,t,i,n){if(e=e.options,t){t={};for(var s=0;s<i.length;s++)t["$"+i[s]]=!0;for(i=0;i<e.length;i++)s=t.hasOwnProperty("$"+e[i].value),e[i].selected!==s&&(e[i].selected=s),s&&n&&(e[i].defaultSelected=!0)}else{for(i=""+Fs(i),t=null,s=0;s<e.length;s++){if(e[s].value===i){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function lg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return Ct({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function x0(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(L(92));if(sl(i)){if(1<i.length)throw Error(L(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:Fs(i)}}function i1(e,t){var i=Fs(t.value),n=Fs(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),n!=null&&(e.defaultValue=""+n)}function E0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function n1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?n1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var au,s1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,i,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(au=au||document.createElement("div"),au.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=au.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _c(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Ql={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aS=["Webkit","ms","Moz","O"];Object.keys(Ql).forEach(function(e){aS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ql[t]=Ql[e]})});function r1(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||Ql.hasOwnProperty(e)&&Ql[e]?(""+t).trim():t+"px"}function a1(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var n=i.indexOf("--")===0,s=r1(i,t[i],n);i==="float"&&(i="cssFloat"),n?e.setProperty(i,s):e[i]=s}}var oS=Ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ug(e,t){if(t){if(oS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function hg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dg=null;function Av(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fg=null,ao=null,oo=null;function C0(e){if(e=Gc(e)){if(typeof fg!="function")throw Error(L(280));var t=e.stateNode;t&&(t=Df(t),fg(e.stateNode,e.type,t))}}function o1(e){ao?oo?oo.push(e):oo=[e]:ao=e}function l1(){if(ao){var e=ao,t=oo;if(oo=ao=null,C0(e),t)for(e=0;e<t.length;e++)C0(t[e])}}function c1(e,t){return e(t)}function u1(){}var pp=!1;function h1(e,t,i){if(pp)return e(t,i);pp=!0;try{return c1(e,t,i)}finally{pp=!1,(ao!==null||oo!==null)&&(u1(),l1())}}function Sc(e,t){var i=e.stateNode;if(i===null)return null;var n=Df(i);if(n===null)return null;i=n[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break t;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(L(231,t,typeof i));return i}var pg=!1;if(jn)try{var Oo={};Object.defineProperty(Oo,"passive",{get:function(){pg=!0}}),window.addEventListener("test",Oo,Oo),window.removeEventListener("test",Oo,Oo)}catch{pg=!1}function lS(e,t,i,n,s,r,a,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(i,u)}catch(h){this.onError(h)}}var Jl=!1,_d=null,Sd=!1,gg=null,cS={onError:function(e){Jl=!0,_d=e}};function uS(e,t,i,n,s,r,a,o,c){Jl=!1,_d=null,lS.apply(cS,arguments)}function hS(e,t,i,n,s,r,a,o,c){if(uS.apply(this,arguments),Jl){if(Jl){var u=_d;Jl=!1,_d=null}else throw Error(L(198));Sd||(Sd=!0,gg=u)}}function Hr(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function d1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function M0(e){if(Hr(e)!==e)throw Error(L(188))}function dS(e){var t=e.alternate;if(!t){if(t=Hr(e),t===null)throw Error(L(188));return t!==e?null:e}for(var i=e,n=t;;){var s=i.return;if(s===null)break;var r=s.alternate;if(r===null){if(n=s.return,n!==null){i=n;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===i)return M0(s),e;if(r===n)return M0(s),t;r=r.sibling}throw Error(L(188))}if(i.return!==n.return)i=s,n=r;else{for(var a=!1,o=s.child;o;){if(o===i){a=!0,i=s,n=r;break}if(o===n){a=!0,n=s,i=r;break}o=o.sibling}if(!a){for(o=r.child;o;){if(o===i){a=!0,i=r,n=s;break}if(o===n){a=!0,n=r,i=s;break}o=o.sibling}if(!a)throw Error(L(189))}}if(i.alternate!==n)throw Error(L(190))}if(i.tag!==3)throw Error(L(188));return i.stateNode.current===i?e:t}function f1(e){return e=dS(e),e!==null?p1(e):null}function p1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=p1(e);if(t!==null)return t;e=e.sibling}return null}var g1=Ze.unstable_scheduleCallback,T0=Ze.unstable_cancelCallback,fS=Ze.unstable_shouldYield,pS=Ze.unstable_requestPaint,It=Ze.unstable_now,gS=Ze.unstable_getCurrentPriorityLevel,kv=Ze.unstable_ImmediatePriority,m1=Ze.unstable_UserBlockingPriority,xd=Ze.unstable_NormalPriority,mS=Ze.unstable_LowPriority,v1=Ze.unstable_IdlePriority,Pf=null,sn=null;function vS(e){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Pf,e,void 0,(e.current.flags&128)===128)}catch{}}var Li=Math.clz32?Math.clz32:wS,bS=Math.log,yS=Math.LN2;function wS(e){return e>>>=0,e===0?32:31-(bS(e)/yS|0)|0}var ou=64,lu=4194304;function rl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ed(e,t){var i=e.pendingLanes;if(i===0)return 0;var n=0,s=e.suspendedLanes,r=e.pingedLanes,a=i&268435455;if(a!==0){var o=a&~s;o!==0?n=rl(o):(r&=a,r!==0&&(n=rl(r)))}else a=i&~s,a!==0?n=rl(a):r!==0&&(n=rl(r));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,r=t&-t,s>=r||s===16&&(r&4194240)!==0))return t;if(n&4&&(n|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)i=31-Li(t),s=1<<i,n|=e[i],t&=~s;return n}function AS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kS(e,t){for(var i=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,r=e.pendingLanes;0<r;){var a=31-Li(r),o=1<<a,c=s[a];c===-1?(!(o&i)||o&n)&&(s[a]=AS(o,t)):c<=t&&(e.expiredLanes|=o),r&=~o}}function mg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function b1(){var e=ou;return ou<<=1,!(ou&4194240)&&(ou=64),e}function gp(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Uc(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Li(t),e[t]=i}function _S(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<i;){var s=31-Li(i),r=1<<s;t[s]=0,n[s]=-1,e[s]=-1,i&=~r}}function _v(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var n=31-Li(i),s=1<<n;s&t|e[n]&t&&(e[n]|=t),i&=~s}}var ot=0;function y1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var w1,Sv,A1,k1,_1,vg=!1,cu=[],Cs=null,Ms=null,Ts=null,xc=new Map,Ec=new Map,us=[],SS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function R0(e,t){switch(e){case"focusin":case"focusout":Cs=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":xc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ec.delete(t.pointerId)}}function Wo(e,t,i,n,s,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:i,eventSystemFlags:n,nativeEvent:r,targetContainers:[s]},t!==null&&(t=Gc(t),t!==null&&Sv(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function xS(e,t,i,n,s){switch(t){case"focusin":return Cs=Wo(Cs,e,t,i,n,s),!0;case"dragenter":return Ms=Wo(Ms,e,t,i,n,s),!0;case"mouseover":return Ts=Wo(Ts,e,t,i,n,s),!0;case"pointerover":var r=s.pointerId;return xc.set(r,Wo(xc.get(r)||null,e,t,i,n,s)),!0;case"gotpointercapture":return r=s.pointerId,Ec.set(r,Wo(Ec.get(r)||null,e,t,i,n,s)),!0}return!1}function S1(e){var t=Ar(e.target);if(t!==null){var i=Hr(t);if(i!==null){if(t=i.tag,t===13){if(t=d1(i),t!==null){e.blockedOn=t,_1(e.priority,function(){A1(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=bg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var n=new i.constructor(i.type,i);dg=n,i.target.dispatchEvent(n),dg=null}else return t=Gc(i),t!==null&&Sv(t),e.blockedOn=i,!1;t.shift()}return!0}function P0(e,t,i){Bu(e)&&i.delete(t)}function ES(){vg=!1,Cs!==null&&Bu(Cs)&&(Cs=null),Ms!==null&&Bu(Ms)&&(Ms=null),Ts!==null&&Bu(Ts)&&(Ts=null),xc.forEach(P0),Ec.forEach(P0)}function jo(e,t){e.blockedOn===t&&(e.blockedOn=null,vg||(vg=!0,Ze.unstable_scheduleCallback(Ze.unstable_NormalPriority,ES)))}function Cc(e){function t(s){return jo(s,e)}if(0<cu.length){jo(cu[0],e);for(var i=1;i<cu.length;i++){var n=cu[i];n.blockedOn===e&&(n.blockedOn=null)}}for(Cs!==null&&jo(Cs,e),Ms!==null&&jo(Ms,e),Ts!==null&&jo(Ts,e),xc.forEach(t),Ec.forEach(t),i=0;i<us.length;i++)n=us[i],n.blockedOn===e&&(n.blockedOn=null);for(;0<us.length&&(i=us[0],i.blockedOn===null);)S1(i),i.blockedOn===null&&us.shift()}var lo=Un.ReactCurrentBatchConfig,Cd=!0;function CS(e,t,i,n){var s=ot,r=lo.transition;lo.transition=null;try{ot=1,xv(e,t,i,n)}finally{ot=s,lo.transition=r}}function MS(e,t,i,n){var s=ot,r=lo.transition;lo.transition=null;try{ot=4,xv(e,t,i,n)}finally{ot=s,lo.transition=r}}function xv(e,t,i,n){if(Cd){var s=bg(e,t,i,n);if(s===null)xp(e,t,n,Md,i),R0(e,n);else if(xS(s,e,t,i,n))n.stopPropagation();else if(R0(e,n),t&4&&-1<SS.indexOf(e)){for(;s!==null;){var r=Gc(s);if(r!==null&&w1(r),r=bg(e,t,i,n),r===null&&xp(e,t,n,Md,i),r===s)break;s=r}s!==null&&n.stopPropagation()}else xp(e,t,n,null,i)}}var Md=null;function bg(e,t,i,n){if(Md=null,e=Av(n),e=Ar(e),e!==null)if(t=Hr(e),t===null)e=null;else if(i=t.tag,i===13){if(e=d1(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Md=e,null}function x1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gS()){case kv:return 1;case m1:return 4;case xd:case mS:return 16;case v1:return 536870912;default:return 16}default:return 16}}var ks=null,Ev=null,Hu=null;function E1(){if(Hu)return Hu;var e,t=Ev,i=t.length,n,s="value"in ks?ks.value:ks.textContent,r=s.length;for(e=0;e<i&&t[e]===s[e];e++);var a=i-e;for(n=1;n<=a&&t[i-n]===s[r-n];n++);return Hu=s.slice(e,1<n?1-n:void 0)}function $u(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function uu(){return!0}function L0(){return!1}function ei(e){function t(i,n,s,r,a){this._reactName=i,this._targetInst=s,this.type=n,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(i=e[o],this[o]=i?i(r):r[o]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?uu:L0,this.isPropagationStopped=L0,this}return Ct(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=uu)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=uu)},persist:function(){},isPersistent:uu}),t}var Lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cv=ei(Lo),Vc=Ct({},Lo,{view:0,detail:0}),TS=ei(Vc),mp,vp,zo,Lf=Ct({},Vc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zo&&(zo&&e.type==="mousemove"?(mp=e.screenX-zo.screenX,vp=e.screenY-zo.screenY):vp=mp=0,zo=e),mp)},movementY:function(e){return"movementY"in e?e.movementY:vp}}),I0=ei(Lf),RS=Ct({},Lf,{dataTransfer:0}),PS=ei(RS),LS=Ct({},Vc,{relatedTarget:0}),bp=ei(LS),IS=Ct({},Lo,{animationName:0,elapsedTime:0,pseudoElement:0}),NS=ei(IS),DS=Ct({},Lo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),FS=ei(DS),OS=Ct({},Lo,{data:0}),N0=ei(OS),WS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zS[e])?!!t[e]:!1}function Mv(){return BS}var HS=Ct({},Vc,{key:function(e){if(e.key){var t=WS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$u(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mv,charCode:function(e){return e.type==="keypress"?$u(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$u(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$S=ei(HS),US=Ct({},Lf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D0=ei(US),VS=Ct({},Vc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mv}),GS=ei(VS),qS=Ct({},Lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),KS=ei(qS),XS=Ct({},Lf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),YS=ei(XS),QS=[9,13,27,32],Tv=jn&&"CompositionEvent"in window,Zl=null;jn&&"documentMode"in document&&(Zl=document.documentMode);var JS=jn&&"TextEvent"in window&&!Zl,C1=jn&&(!Tv||Zl&&8<Zl&&11>=Zl),F0=" ",O0=!1;function M1(e,t){switch(e){case"keyup":return QS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function T1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ia=!1;function ZS(e,t){switch(e){case"compositionend":return T1(t);case"keypress":return t.which!==32?null:(O0=!0,F0);case"textInput":return e=t.data,e===F0&&O0?null:e;default:return null}}function tx(e,t){if(Ia)return e==="compositionend"||!Tv&&M1(e,t)?(e=E1(),Hu=Ev=ks=null,Ia=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return C1&&t.locale!=="ko"?null:t.data;default:return null}}var ex={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function W0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ex[e.type]:t==="textarea"}function R1(e,t,i,n){o1(n),t=Td(t,"onChange"),0<t.length&&(i=new Cv("onChange","change",null,i,n),e.push({event:i,listeners:t}))}var tc=null,Mc=null;function ix(e){B1(e,0)}function If(e){var t=Fa(e);if(t1(t))return e}function nx(e,t){if(e==="change")return t}var P1=!1;if(jn){var yp;if(jn){var wp="oninput"in document;if(!wp){var j0=document.createElement("div");j0.setAttribute("oninput","return;"),wp=typeof j0.oninput=="function"}yp=wp}else yp=!1;P1=yp&&(!document.documentMode||9<document.documentMode)}function z0(){tc&&(tc.detachEvent("onpropertychange",L1),Mc=tc=null)}function L1(e){if(e.propertyName==="value"&&If(Mc)){var t=[];R1(t,Mc,e,Av(e)),h1(ix,t)}}function sx(e,t,i){e==="focusin"?(z0(),tc=t,Mc=i,tc.attachEvent("onpropertychange",L1)):e==="focusout"&&z0()}function rx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return If(Mc)}function ax(e,t){if(e==="click")return If(t)}function ox(e,t){if(e==="input"||e==="change")return If(t)}function lx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ni=typeof Object.is=="function"?Object.is:lx;function Tc(e,t){if(Ni(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++){var s=i[n];if(!tg.call(t,s)||!Ni(e[s],t[s]))return!1}return!0}function B0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function H0(e,t){var i=B0(e);e=0;for(var n;i;){if(i.nodeType===3){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=B0(i)}}function I1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?I1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function N1(){for(var e=window,t=kd();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=kd(e.document)}return t}function Rv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function cx(e){var t=N1(),i=e.focusedElem,n=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&I1(i.ownerDocument.documentElement,i)){if(n!==null&&Rv(i)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=i.textContent.length,r=Math.min(n.start,s);n=n.end===void 0?r:Math.min(n.end,s),!e.extend&&r>n&&(s=n,n=r,r=s),s=H0(i,r);var a=H0(i,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),r>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ux=jn&&"documentMode"in document&&11>=document.documentMode,Na=null,yg=null,ec=null,wg=!1;function $0(e,t,i){var n=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;wg||Na==null||Na!==kd(n)||(n=Na,"selectionStart"in n&&Rv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ec&&Tc(ec,n)||(ec=n,n=Td(yg,"onSelect"),0<n.length&&(t=new Cv("onSelect","select",null,t,i),e.push({event:t,listeners:n}),t.target=Na)))}function hu(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Da={animationend:hu("Animation","AnimationEnd"),animationiteration:hu("Animation","AnimationIteration"),animationstart:hu("Animation","AnimationStart"),transitionend:hu("Transition","TransitionEnd")},Ap={},D1={};jn&&(D1=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function Nf(e){if(Ap[e])return Ap[e];if(!Da[e])return e;var t=Da[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in D1)return Ap[e]=t[i];return e}var F1=Nf("animationend"),O1=Nf("animationiteration"),W1=Nf("animationstart"),j1=Nf("transitionend"),z1=new Map,U0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function js(e,t){z1.set(e,t),Br(t,[e])}for(var kp=0;kp<U0.length;kp++){var _p=U0[kp],hx=_p.toLowerCase(),dx=_p[0].toUpperCase()+_p.slice(1);js(hx,"on"+dx)}js(F1,"onAnimationEnd");js(O1,"onAnimationIteration");js(W1,"onAnimationStart");js("dblclick","onDoubleClick");js("focusin","onFocus");js("focusout","onBlur");js(j1,"onTransitionEnd");Ao("onMouseEnter",["mouseout","mouseover"]);Ao("onMouseLeave",["mouseout","mouseover"]);Ao("onPointerEnter",["pointerout","pointerover"]);Ao("onPointerLeave",["pointerout","pointerover"]);Br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Br("onBeforeInput",["compositionend","keypress","textInput","paste"]);Br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fx=new Set("cancel close invalid load scroll toggle".split(" ").concat(al));function V0(e,t,i){var n=e.type||"unknown-event";e.currentTarget=i,hS(n,t,void 0,e),e.currentTarget=null}function B1(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var n=e[i],s=n.event;n=n.listeners;t:{var r=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==r&&s.isPropagationStopped())break t;V0(s,o,u),r=c}else for(a=0;a<n.length;a++){if(o=n[a],c=o.instance,u=o.currentTarget,o=o.listener,c!==r&&s.isPropagationStopped())break t;V0(s,o,u),r=c}}}if(Sd)throw e=gg,Sd=!1,gg=null,e}function mt(e,t){var i=t[xg];i===void 0&&(i=t[xg]=new Set);var n=e+"__bubble";i.has(n)||(H1(t,e,2,!1),i.add(n))}function Sp(e,t,i){var n=0;t&&(n|=4),H1(i,e,n,t)}var du="_reactListening"+Math.random().toString(36).slice(2);function Rc(e){if(!e[du]){e[du]=!0,Xy.forEach(function(i){i!=="selectionchange"&&(fx.has(i)||Sp(i,!1,e),Sp(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[du]||(t[du]=!0,Sp("selectionchange",!1,t))}}function H1(e,t,i,n){switch(x1(t)){case 1:var s=CS;break;case 4:s=MS;break;default:s=xv}i=s.bind(null,t,i,e),s=void 0,!pg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,i,{capture:!0,passive:s}):e.addEventListener(t,i,!0):s!==void 0?e.addEventListener(t,i,{passive:s}):e.addEventListener(t,i,!1)}function xp(e,t,i,n,s){var r=n;if(!(t&1)&&!(t&2)&&n!==null)t:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Ar(o),a===null)return;if(c=a.tag,c===5||c===6){n=r=a;continue t}o=o.parentNode}}n=n.return}h1(function(){var u=r,h=Av(i),d=[];t:{var f=z1.get(e);if(f!==void 0){var p=Cv,g=e;switch(e){case"keypress":if($u(i)===0)break t;case"keydown":case"keyup":p=$S;break;case"focusin":g="focus",p=bp;break;case"focusout":g="blur",p=bp;break;case"beforeblur":case"afterblur":p=bp;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=I0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=PS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=GS;break;case F1:case O1:case W1:p=NS;break;case j1:p=KS;break;case"scroll":p=TS;break;case"wheel":p=YS;break;case"copy":case"cut":case"paste":p=FS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=D0}var b=(t&4)!==0,_=!b&&e==="scroll",v=b?f!==null?f+"Capture":null:f;b=[];for(var m=u,A;m!==null;){A=m;var S=A.stateNode;if(A.tag===5&&S!==null&&(A=S,v!==null&&(S=Sc(m,v),S!=null&&b.push(Pc(m,S,A)))),_)break;m=m.return}0<b.length&&(f=new p(f,g,null,i,h),d.push({event:f,listeners:b}))}}if(!(t&7)){t:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&i!==dg&&(g=i.relatedTarget||i.fromElement)&&(Ar(g)||g[zn]))break t;if((p||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=i.relatedTarget||i.toElement,p=u,g=g?Ar(g):null,g!==null&&(_=Hr(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(b=I0,S="onMouseLeave",v="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(b=D0,S="onPointerLeave",v="onPointerEnter",m="pointer"),_=p==null?f:Fa(p),A=g==null?f:Fa(g),f=new b(S,m+"leave",p,i,h),f.target=_,f.relatedTarget=A,S=null,Ar(h)===u&&(b=new b(v,m+"enter",g,i,h),b.target=A,b.relatedTarget=_,S=b),_=S,p&&g)e:{for(b=p,v=g,m=0,A=b;A;A=Qr(A))m++;for(A=0,S=v;S;S=Qr(S))A++;for(;0<m-A;)b=Qr(b),m--;for(;0<A-m;)v=Qr(v),A--;for(;m--;){if(b===v||v!==null&&b===v.alternate)break e;b=Qr(b),v=Qr(v)}b=null}else b=null;p!==null&&G0(d,f,p,b,!1),g!==null&&_!==null&&G0(d,_,g,b,!0)}}t:{if(f=u?Fa(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var x=nx;else if(W0(f))if(P1)x=ox;else{x=rx;var C=sx}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(x=ax);if(x&&(x=x(e,u))){R1(d,x,i,h);break t}C&&C(e,f,u),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&og(f,"number",f.value)}switch(C=u?Fa(u):window,e){case"focusin":(W0(C)||C.contentEditable==="true")&&(Na=C,yg=u,ec=null);break;case"focusout":ec=yg=Na=null;break;case"mousedown":wg=!0;break;case"contextmenu":case"mouseup":case"dragend":wg=!1,$0(d,i,h);break;case"selectionchange":if(ux)break;case"keydown":case"keyup":$0(d,i,h)}var T;if(Tv)t:{switch(e){case"compositionstart":var M="onCompositionStart";break t;case"compositionend":M="onCompositionEnd";break t;case"compositionupdate":M="onCompositionUpdate";break t}M=void 0}else Ia?M1(e,i)&&(M="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(M="onCompositionStart");M&&(C1&&i.locale!=="ko"&&(Ia||M!=="onCompositionStart"?M==="onCompositionEnd"&&Ia&&(T=E1()):(ks=h,Ev="value"in ks?ks.value:ks.textContent,Ia=!0)),C=Td(u,M),0<C.length&&(M=new N0(M,e,null,i,h),d.push({event:M,listeners:C}),T?M.data=T:(T=T1(i),T!==null&&(M.data=T)))),(T=JS?ZS(e,i):tx(e,i))&&(u=Td(u,"onBeforeInput"),0<u.length&&(h=new N0("onBeforeInput","beforeinput",null,i,h),d.push({event:h,listeners:u}),h.data=T))}B1(d,t)})}function Pc(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Td(e,t){for(var i=t+"Capture",n=[];e!==null;){var s=e,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=Sc(e,i),r!=null&&n.unshift(Pc(e,r,s)),r=Sc(e,t),r!=null&&n.push(Pc(e,r,s))),e=e.return}return n}function Qr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function G0(e,t,i,n,s){for(var r=t._reactName,a=[];i!==null&&i!==n;){var o=i,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,s?(c=Sc(i,r),c!=null&&a.unshift(Pc(i,c,o))):s||(c=Sc(i,r),c!=null&&a.push(Pc(i,c,o)))),i=i.return}a.length!==0&&e.push({event:t,listeners:a})}var px=/\r\n?/g,gx=/\u0000|\uFFFD/g;function q0(e){return(typeof e=="string"?e:""+e).replace(px,`
`).replace(gx,"")}function fu(e,t,i){if(t=q0(t),q0(e)!==t&&i)throw Error(L(425))}function Rd(){}var Ag=null,kg=null;function _g(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Sg=typeof setTimeout=="function"?setTimeout:void 0,mx=typeof clearTimeout=="function"?clearTimeout:void 0,K0=typeof Promise=="function"?Promise:void 0,vx=typeof queueMicrotask=="function"?queueMicrotask:typeof K0<"u"?function(e){return K0.resolve(null).then(e).catch(bx)}:Sg;function bx(e){setTimeout(function(){throw e})}function Ep(e,t){var i=t,n=0;do{var s=i.nextSibling;if(e.removeChild(i),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(n===0){e.removeChild(s),Cc(t);return}n--}else i!=="$"&&i!=="$?"&&i!=="$!"||n++;i=s}while(i);Cc(t)}function Rs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function X0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var Io=Math.random().toString(36).slice(2),tn="__reactFiber$"+Io,Lc="__reactProps$"+Io,zn="__reactContainer$"+Io,xg="__reactEvents$"+Io,yx="__reactListeners$"+Io,wx="__reactHandles$"+Io;function Ar(e){var t=e[tn];if(t)return t;for(var i=e.parentNode;i;){if(t=i[zn]||i[tn]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=X0(e);e!==null;){if(i=e[tn])return i;e=X0(e)}return t}e=i,i=e.parentNode}return null}function Gc(e){return e=e[tn]||e[zn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function Df(e){return e[Lc]||null}var Eg=[],Oa=-1;function zs(e){return{current:e}}function bt(e){0>Oa||(e.current=Eg[Oa],Eg[Oa]=null,Oa--)}function gt(e,t){Oa++,Eg[Oa]=e.current,e.current=t}var Os={},ke=zs(Os),ze=zs(!1),Ir=Os;function ko(e,t){var i=e.type.contextTypes;if(!i)return Os;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in i)s[r]=t[r];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Be(e){return e=e.childContextTypes,e!=null}function Pd(){bt(ze),bt(ke)}function Y0(e,t,i){if(ke.current!==Os)throw Error(L(168));gt(ke,t),gt(ze,i)}function $1(e,t,i){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return i;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(L(108,sS(e)||"Unknown",s));return Ct({},i,n)}function Ld(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Os,Ir=ke.current,gt(ke,e),gt(ze,ze.current),!0}function Q0(e,t,i){var n=e.stateNode;if(!n)throw Error(L(169));i?(e=$1(e,t,Ir),n.__reactInternalMemoizedMergedChildContext=e,bt(ze),bt(ke),gt(ke,e)):bt(ze),gt(ze,i)}var Cn=null,Ff=!1,Cp=!1;function U1(e){Cn===null?Cn=[e]:Cn.push(e)}function Ax(e){Ff=!0,U1(e)}function Bs(){if(!Cp&&Cn!==null){Cp=!0;var e=0,t=ot;try{var i=Cn;for(ot=1;e<i.length;e++){var n=i[e];do n=n(!0);while(n!==null)}Cn=null,Ff=!1}catch(s){throw Cn!==null&&(Cn=Cn.slice(e+1)),g1(kv,Bs),s}finally{ot=t,Cp=!1}}return null}var Wa=[],ja=0,Id=null,Nd=0,gi=[],mi=0,Nr=null,Dn=1,Fn="";function Ys(e,t){Wa[ja++]=Nd,Wa[ja++]=Id,Id=e,Nd=t}function V1(e,t,i){gi[mi++]=Dn,gi[mi++]=Fn,gi[mi++]=Nr,Nr=e;var n=Dn;e=Fn;var s=32-Li(n)-1;n&=~(1<<s),i+=1;var r=32-Li(t)+s;if(30<r){var a=s-s%5;r=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Dn=1<<32-Li(t)+s|i<<s|n,Fn=r+e}else Dn=1<<r|i<<s|n,Fn=e}function Pv(e){e.return!==null&&(Ys(e,1),V1(e,1,0))}function Lv(e){for(;e===Id;)Id=Wa[--ja],Wa[ja]=null,Nd=Wa[--ja],Wa[ja]=null;for(;e===Nr;)Nr=gi[--mi],gi[mi]=null,Fn=gi[--mi],gi[mi]=null,Dn=gi[--mi],gi[mi]=null}var Je=null,Qe=null,kt=!1,Pi=null;function G1(e,t){var i=vi(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function J0(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,Qe=Rs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,Qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Nr!==null?{id:Dn,overflow:Fn}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=vi(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,Je=e,Qe=null,!0):!1;default:return!1}}function Cg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Mg(e){if(kt){var t=Qe;if(t){var i=t;if(!J0(e,t)){if(Cg(e))throw Error(L(418));t=Rs(i.nextSibling);var n=Je;t&&J0(e,t)?G1(n,i):(e.flags=e.flags&-4097|2,kt=!1,Je=e)}}else{if(Cg(e))throw Error(L(418));e.flags=e.flags&-4097|2,kt=!1,Je=e}}}function Z0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function pu(e){if(e!==Je)return!1;if(!kt)return Z0(e),kt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_g(e.type,e.memoizedProps)),t&&(t=Qe)){if(Cg(e))throw q1(),Error(L(418));for(;t;)G1(e,t),t=Rs(t.nextSibling)}if(Z0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){Qe=Rs(e.nextSibling);break t}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}Qe=null}}else Qe=Je?Rs(e.stateNode.nextSibling):null;return!0}function q1(){for(var e=Qe;e;)e=Rs(e.nextSibling)}function _o(){Qe=Je=null,kt=!1}function Iv(e){Pi===null?Pi=[e]:Pi.push(e)}var kx=Un.ReactCurrentBatchConfig;function Bo(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(L(309));var n=i.stateNode}if(!n)throw Error(L(147,e));var s=n,r=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===r?t.ref:(t=function(a){var o=s.refs;a===null?delete o[r]:o[r]=a},t._stringRef=r,t)}if(typeof e!="string")throw Error(L(284));if(!i._owner)throw Error(L(290,e))}return e}function gu(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tb(e){var t=e._init;return t(e._payload)}function K1(e){function t(v,m){if(e){var A=v.deletions;A===null?(v.deletions=[m],v.flags|=16):A.push(m)}}function i(v,m){if(!e)return null;for(;m!==null;)t(v,m),m=m.sibling;return null}function n(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function s(v,m){return v=Ns(v,m),v.index=0,v.sibling=null,v}function r(v,m,A){return v.index=A,e?(A=v.alternate,A!==null?(A=A.index,A<m?(v.flags|=2,m):A):(v.flags|=2,m)):(v.flags|=1048576,m)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,m,A,S){return m===null||m.tag!==6?(m=Np(A,v.mode,S),m.return=v,m):(m=s(m,A),m.return=v,m)}function c(v,m,A,S){var x=A.type;return x===La?h(v,m,A.props.children,S,A.key):m!==null&&(m.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===ss&&tb(x)===m.type)?(S=s(m,A.props),S.ref=Bo(v,m,A),S.return=v,S):(S=Yu(A.type,A.key,A.props,null,v.mode,S),S.ref=Bo(v,m,A),S.return=v,S)}function u(v,m,A,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==A.containerInfo||m.stateNode.implementation!==A.implementation?(m=Dp(A,v.mode,S),m.return=v,m):(m=s(m,A.children||[]),m.return=v,m)}function h(v,m,A,S,x){return m===null||m.tag!==7?(m=Lr(A,v.mode,S,x),m.return=v,m):(m=s(m,A),m.return=v,m)}function d(v,m,A){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Np(""+m,v.mode,A),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case su:return A=Yu(m.type,m.key,m.props,null,v.mode,A),A.ref=Bo(v,null,m),A.return=v,A;case Pa:return m=Dp(m,v.mode,A),m.return=v,m;case ss:var S=m._init;return d(v,S(m._payload),A)}if(sl(m)||Fo(m))return m=Lr(m,v.mode,A,null),m.return=v,m;gu(v,m)}return null}function f(v,m,A,S){var x=m!==null?m.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return x!==null?null:o(v,m,""+A,S);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case su:return A.key===x?c(v,m,A,S):null;case Pa:return A.key===x?u(v,m,A,S):null;case ss:return x=A._init,f(v,m,x(A._payload),S)}if(sl(A)||Fo(A))return x!==null?null:h(v,m,A,S,null);gu(v,A)}return null}function p(v,m,A,S,x){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(A)||null,o(m,v,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case su:return v=v.get(S.key===null?A:S.key)||null,c(m,v,S,x);case Pa:return v=v.get(S.key===null?A:S.key)||null,u(m,v,S,x);case ss:var C=S._init;return p(v,m,A,C(S._payload),x)}if(sl(S)||Fo(S))return v=v.get(A)||null,h(m,v,S,x,null);gu(m,S)}return null}function g(v,m,A,S){for(var x=null,C=null,T=m,M=m=0,I=null;T!==null&&M<A.length;M++){T.index>M?(I=T,T=null):I=T.sibling;var P=f(v,T,A[M],S);if(P===null){T===null&&(T=I);break}e&&T&&P.alternate===null&&t(v,T),m=r(P,m,M),C===null?x=P:C.sibling=P,C=P,T=I}if(M===A.length)return i(v,T),kt&&Ys(v,M),x;if(T===null){for(;M<A.length;M++)T=d(v,A[M],S),T!==null&&(m=r(T,m,M),C===null?x=T:C.sibling=T,C=T);return kt&&Ys(v,M),x}for(T=n(v,T);M<A.length;M++)I=p(T,v,M,A[M],S),I!==null&&(e&&I.alternate!==null&&T.delete(I.key===null?M:I.key),m=r(I,m,M),C===null?x=I:C.sibling=I,C=I);return e&&T.forEach(function(O){return t(v,O)}),kt&&Ys(v,M),x}function b(v,m,A,S){var x=Fo(A);if(typeof x!="function")throw Error(L(150));if(A=x.call(A),A==null)throw Error(L(151));for(var C=x=null,T=m,M=m=0,I=null,P=A.next();T!==null&&!P.done;M++,P=A.next()){T.index>M?(I=T,T=null):I=T.sibling;var O=f(v,T,P.value,S);if(O===null){T===null&&(T=I);break}e&&T&&O.alternate===null&&t(v,T),m=r(O,m,M),C===null?x=O:C.sibling=O,C=O,T=I}if(P.done)return i(v,T),kt&&Ys(v,M),x;if(T===null){for(;!P.done;M++,P=A.next())P=d(v,P.value,S),P!==null&&(m=r(P,m,M),C===null?x=P:C.sibling=P,C=P);return kt&&Ys(v,M),x}for(T=n(v,T);!P.done;M++,P=A.next())P=p(T,v,M,P.value,S),P!==null&&(e&&P.alternate!==null&&T.delete(P.key===null?M:P.key),m=r(P,m,M),C===null?x=P:C.sibling=P,C=P);return e&&T.forEach(function(Y){return t(v,Y)}),kt&&Ys(v,M),x}function _(v,m,A,S){if(typeof A=="object"&&A!==null&&A.type===La&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case su:t:{for(var x=A.key,C=m;C!==null;){if(C.key===x){if(x=A.type,x===La){if(C.tag===7){i(v,C.sibling),m=s(C,A.props.children),m.return=v,v=m;break t}}else if(C.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===ss&&tb(x)===C.type){i(v,C.sibling),m=s(C,A.props),m.ref=Bo(v,C,A),m.return=v,v=m;break t}i(v,C);break}else t(v,C);C=C.sibling}A.type===La?(m=Lr(A.props.children,v.mode,S,A.key),m.return=v,v=m):(S=Yu(A.type,A.key,A.props,null,v.mode,S),S.ref=Bo(v,m,A),S.return=v,v=S)}return a(v);case Pa:t:{for(C=A.key;m!==null;){if(m.key===C)if(m.tag===4&&m.stateNode.containerInfo===A.containerInfo&&m.stateNode.implementation===A.implementation){i(v,m.sibling),m=s(m,A.children||[]),m.return=v,v=m;break t}else{i(v,m);break}else t(v,m);m=m.sibling}m=Dp(A,v.mode,S),m.return=v,v=m}return a(v);case ss:return C=A._init,_(v,m,C(A._payload),S)}if(sl(A))return g(v,m,A,S);if(Fo(A))return b(v,m,A,S);gu(v,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,m!==null&&m.tag===6?(i(v,m.sibling),m=s(m,A),m.return=v,v=m):(i(v,m),m=Np(A,v.mode,S),m.return=v,v=m),a(v)):i(v,m)}return _}var So=K1(!0),X1=K1(!1),Dd=zs(null),Fd=null,za=null,Nv=null;function Dv(){Nv=za=Fd=null}function Fv(e){var t=Dd.current;bt(Dd),e._currentValue=t}function Tg(e,t,i){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===i)break;e=e.return}}function co(e,t){Fd=e,Nv=za=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(je=!0),e.firstContext=null)}function wi(e){var t=e._currentValue;if(Nv!==e)if(e={context:e,memoizedValue:t,next:null},za===null){if(Fd===null)throw Error(L(308));za=e,Fd.dependencies={lanes:0,firstContext:e}}else za=za.next=e;return t}var kr=null;function Ov(e){kr===null?kr=[e]:kr.push(e)}function Y1(e,t,i,n){var s=t.interleaved;return s===null?(i.next=i,Ov(t)):(i.next=s.next,s.next=i),t.interleaved=i,Bn(e,n)}function Bn(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var rs=!1;function Wv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Q1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ps(e,t,i){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,rt&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Bn(e,i)}return s=n.interleaved,s===null?(t.next=t,Ov(n)):(t.next=s.next,s.next=t),n.interleaved=t,Bn(e,i)}function Uu(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,i|=n,t.lanes=i,_v(e,i)}}function eb(e,t){var i=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,i===n)){var s=null,r=null;if(i=i.firstBaseUpdate,i!==null){do{var a={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};r===null?s=r=a:r=r.next=a,i=i.next}while(i!==null);r===null?s=r=t:r=r.next=t}else s=r=t;i={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:n.shared,effects:n.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Od(e,t,i,n){var s=e.updateQueue;rs=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,a===null?r=u:a.next=u,a=c;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=c))}if(r!==null){var d=s.baseState;a=0,h=u=c=null,o=r;do{var f=o.lane,p=o.eventTime;if((n&f)===f){h!==null&&(h=h.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});t:{var g=e,b=o;switch(f=t,p=i,b.tag){case 1:if(g=b.payload,typeof g=="function"){d=g.call(p,d,f);break t}d=g;break t;case 3:g.flags=g.flags&-65537|128;case 0:if(g=b.payload,f=typeof g=="function"?g.call(p,d,f):g,f==null)break t;d=Ct({},d,f);break t;case 2:rs=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=p,c=d):h=h.next=p,a|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else r===null&&(s.shared.lanes=0);Fr|=a,e.lanes=a,e.memoizedState=d}}function ib(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=i,typeof s!="function")throw Error(L(191,s));s.call(n)}}}var qc={},rn=zs(qc),Ic=zs(qc),Nc=zs(qc);function _r(e){if(e===qc)throw Error(L(174));return e}function jv(e,t){switch(gt(Nc,t),gt(Ic,e),gt(rn,qc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:cg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=cg(t,e)}bt(rn),gt(rn,t)}function xo(){bt(rn),bt(Ic),bt(Nc)}function J1(e){_r(Nc.current);var t=_r(rn.current),i=cg(t,e.type);t!==i&&(gt(Ic,e),gt(rn,i))}function zv(e){Ic.current===e&&(bt(rn),bt(Ic))}var xt=zs(0);function Wd(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mp=[];function Bv(){for(var e=0;e<Mp.length;e++)Mp[e]._workInProgressVersionPrimary=null;Mp.length=0}var Vu=Un.ReactCurrentDispatcher,Tp=Un.ReactCurrentBatchConfig,Dr=0,Et=null,zt=null,Yt=null,jd=!1,ic=!1,Dc=0,_x=0;function oe(){throw Error(L(321))}function Hv(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Ni(e[i],t[i]))return!1;return!0}function $v(e,t,i,n,s,r){if(Dr=r,Et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vu.current=e===null||e.memoizedState===null?Cx:Mx,e=i(n,s),ic){r=0;do{if(ic=!1,Dc=0,25<=r)throw Error(L(301));r+=1,Yt=zt=null,t.updateQueue=null,Vu.current=Tx,e=i(n,s)}while(ic)}if(Vu.current=zd,t=zt!==null&&zt.next!==null,Dr=0,Yt=zt=Et=null,jd=!1,t)throw Error(L(300));return e}function Uv(){var e=Dc!==0;return Dc=0,e}function zi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?Et.memoizedState=Yt=e:Yt=Yt.next=e,Yt}function Ai(){if(zt===null){var e=Et.alternate;e=e!==null?e.memoizedState:null}else e=zt.next;var t=Yt===null?Et.memoizedState:Yt.next;if(t!==null)Yt=t,zt=e;else{if(e===null)throw Error(L(310));zt=e,e={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Yt===null?Et.memoizedState=Yt=e:Yt=Yt.next=e}return Yt}function Fc(e,t){return typeof t=="function"?t(e):t}function Rp(e){var t=Ai(),i=t.queue;if(i===null)throw Error(L(311));i.lastRenderedReducer=e;var n=zt,s=n.baseQueue,r=i.pending;if(r!==null){if(s!==null){var a=s.next;s.next=r.next,r.next=a}n.baseQueue=s=r,i.pending=null}if(s!==null){r=s.next,n=n.baseState;var o=a=null,c=null,u=r;do{var h=u.lane;if((Dr&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=d,a=n):c=c.next=d,Et.lanes|=h,Fr|=h}u=u.next}while(u!==null&&u!==r);c===null?a=n:c.next=o,Ni(n,t.memoizedState)||(je=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,i.lastRenderedState=n}if(e=i.interleaved,e!==null){s=e;do r=s.lane,Et.lanes|=r,Fr|=r,s=s.next;while(s!==e)}else s===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Pp(e){var t=Ai(),i=t.queue;if(i===null)throw Error(L(311));i.lastRenderedReducer=e;var n=i.dispatch,s=i.pending,r=t.memoizedState;if(s!==null){i.pending=null;var a=s=s.next;do r=e(r,a.action),a=a.next;while(a!==s);Ni(r,t.memoizedState)||(je=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),i.lastRenderedState=r}return[r,n]}function Z1(){}function tw(e,t){var i=Et,n=Ai(),s=t(),r=!Ni(n.memoizedState,s);if(r&&(n.memoizedState=s,je=!0),n=n.queue,Vv(nw.bind(null,i,n,e),[e]),n.getSnapshot!==t||r||Yt!==null&&Yt.memoizedState.tag&1){if(i.flags|=2048,Oc(9,iw.bind(null,i,n,s,t),void 0,null),Qt===null)throw Error(L(349));Dr&30||ew(i,t,s)}return s}function ew(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Et.updateQueue,t===null?(t={lastEffect:null,stores:null},Et.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function iw(e,t,i,n){t.value=i,t.getSnapshot=n,sw(t)&&rw(e)}function nw(e,t,i){return i(function(){sw(t)&&rw(e)})}function sw(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Ni(e,i)}catch{return!0}}function rw(e){var t=Bn(e,1);t!==null&&Ii(t,e,1,-1)}function nb(e){var t=zi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fc,lastRenderedState:e},t.queue=e,e=e.dispatch=Ex.bind(null,Et,e),[t.memoizedState,e]}function Oc(e,t,i,n){return e={tag:e,create:t,destroy:i,deps:n,next:null},t=Et.updateQueue,t===null?(t={lastEffect:null,stores:null},Et.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(n=i.next,i.next=e,e.next=n,t.lastEffect=e)),e}function aw(){return Ai().memoizedState}function Gu(e,t,i,n){var s=zi();Et.flags|=e,s.memoizedState=Oc(1|t,i,void 0,n===void 0?null:n)}function Of(e,t,i,n){var s=Ai();n=n===void 0?null:n;var r=void 0;if(zt!==null){var a=zt.memoizedState;if(r=a.destroy,n!==null&&Hv(n,a.deps)){s.memoizedState=Oc(t,i,r,n);return}}Et.flags|=e,s.memoizedState=Oc(1|t,i,r,n)}function sb(e,t){return Gu(8390656,8,e,t)}function Vv(e,t){return Of(2048,8,e,t)}function ow(e,t){return Of(4,2,e,t)}function lw(e,t){return Of(4,4,e,t)}function cw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function uw(e,t,i){return i=i!=null?i.concat([e]):null,Of(4,4,cw.bind(null,t,e),i)}function Gv(){}function hw(e,t){var i=Ai();t=t===void 0?null:t;var n=i.memoizedState;return n!==null&&t!==null&&Hv(t,n[1])?n[0]:(i.memoizedState=[e,t],e)}function dw(e,t){var i=Ai();t=t===void 0?null:t;var n=i.memoizedState;return n!==null&&t!==null&&Hv(t,n[1])?n[0]:(e=e(),i.memoizedState=[e,t],e)}function fw(e,t,i){return Dr&21?(Ni(i,t)||(i=b1(),Et.lanes|=i,Fr|=i,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,je=!0),e.memoizedState=i)}function Sx(e,t){var i=ot;ot=i!==0&&4>i?i:4,e(!0);var n=Tp.transition;Tp.transition={};try{e(!1),t()}finally{ot=i,Tp.transition=n}}function pw(){return Ai().memoizedState}function xx(e,t,i){var n=Is(e);if(i={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null},gw(e))mw(t,i);else if(i=Y1(e,t,i,n),i!==null){var s=Me();Ii(i,e,n,s),vw(i,t,n)}}function Ex(e,t,i){var n=Is(e),s={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null};if(gw(e))mw(t,s);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var a=t.lastRenderedState,o=r(a,i);if(s.hasEagerState=!0,s.eagerState=o,Ni(o,a)){var c=t.interleaved;c===null?(s.next=s,Ov(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}i=Y1(e,t,s,n),i!==null&&(s=Me(),Ii(i,e,n,s),vw(i,t,n))}}function gw(e){var t=e.alternate;return e===Et||t!==null&&t===Et}function mw(e,t){ic=jd=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function vw(e,t,i){if(i&4194240){var n=t.lanes;n&=e.pendingLanes,i|=n,t.lanes=i,_v(e,i)}}var zd={readContext:wi,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useInsertionEffect:oe,useLayoutEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useMutableSource:oe,useSyncExternalStore:oe,useId:oe,unstable_isNewReconciler:!1},Cx={readContext:wi,useCallback:function(e,t){return zi().memoizedState=[e,t===void 0?null:t],e},useContext:wi,useEffect:sb,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Gu(4194308,4,cw.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Gu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gu(4,2,e,t)},useMemo:function(e,t){var i=zi();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var n=zi();return t=i!==void 0?i(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=xx.bind(null,Et,e),[n.memoizedState,e]},useRef:function(e){var t=zi();return e={current:e},t.memoizedState=e},useState:nb,useDebugValue:Gv,useDeferredValue:function(e){return zi().memoizedState=e},useTransition:function(){var e=nb(!1),t=e[0];return e=Sx.bind(null,e[1]),zi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var n=Et,s=zi();if(kt){if(i===void 0)throw Error(L(407));i=i()}else{if(i=t(),Qt===null)throw Error(L(349));Dr&30||ew(n,t,i)}s.memoizedState=i;var r={value:i,getSnapshot:t};return s.queue=r,sb(nw.bind(null,n,r,e),[e]),n.flags|=2048,Oc(9,iw.bind(null,n,r,i,t),void 0,null),i},useId:function(){var e=zi(),t=Qt.identifierPrefix;if(kt){var i=Fn,n=Dn;i=(n&~(1<<32-Li(n)-1)).toString(32)+i,t=":"+t+"R"+i,i=Dc++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=_x++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Mx={readContext:wi,useCallback:hw,useContext:wi,useEffect:Vv,useImperativeHandle:uw,useInsertionEffect:ow,useLayoutEffect:lw,useMemo:dw,useReducer:Rp,useRef:aw,useState:function(){return Rp(Fc)},useDebugValue:Gv,useDeferredValue:function(e){var t=Ai();return fw(t,zt.memoizedState,e)},useTransition:function(){var e=Rp(Fc)[0],t=Ai().memoizedState;return[e,t]},useMutableSource:Z1,useSyncExternalStore:tw,useId:pw,unstable_isNewReconciler:!1},Tx={readContext:wi,useCallback:hw,useContext:wi,useEffect:Vv,useImperativeHandle:uw,useInsertionEffect:ow,useLayoutEffect:lw,useMemo:dw,useReducer:Pp,useRef:aw,useState:function(){return Pp(Fc)},useDebugValue:Gv,useDeferredValue:function(e){var t=Ai();return zt===null?t.memoizedState=e:fw(t,zt.memoizedState,e)},useTransition:function(){var e=Pp(Fc)[0],t=Ai().memoizedState;return[e,t]},useMutableSource:Z1,useSyncExternalStore:tw,useId:pw,unstable_isNewReconciler:!1};function Ci(e,t){if(e&&e.defaultProps){t=Ct({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function Rg(e,t,i,n){t=e.memoizedState,i=i(n,t),i=i==null?t:Ct({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Wf={isMounted:function(e){return(e=e._reactInternals)?Hr(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var n=Me(),s=Is(e),r=Wn(n,s);r.payload=t,i!=null&&(r.callback=i),t=Ps(e,r,s),t!==null&&(Ii(t,e,s,n),Uu(t,e,s))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var n=Me(),s=Is(e),r=Wn(n,s);r.tag=1,r.payload=t,i!=null&&(r.callback=i),t=Ps(e,r,s),t!==null&&(Ii(t,e,s,n),Uu(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Me(),n=Is(e),s=Wn(i,n);s.tag=2,t!=null&&(s.callback=t),t=Ps(e,s,n),t!==null&&(Ii(t,e,n,i),Uu(t,e,n))}};function rb(e,t,i,n,s,r,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,r,a):t.prototype&&t.prototype.isPureReactComponent?!Tc(i,n)||!Tc(s,r):!0}function bw(e,t,i){var n=!1,s=Os,r=t.contextType;return typeof r=="object"&&r!==null?r=wi(r):(s=Be(t)?Ir:ke.current,n=t.contextTypes,r=(n=n!=null)?ko(e,s):Os),t=new t(i,r),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=r),t}function ab(e,t,i,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,n),t.state!==e&&Wf.enqueueReplaceState(t,t.state,null)}function Pg(e,t,i,n){var s=e.stateNode;s.props=i,s.state=e.memoizedState,s.refs={},Wv(e);var r=t.contextType;typeof r=="object"&&r!==null?s.context=wi(r):(r=Be(t)?Ir:ke.current,s.context=ko(e,r)),s.state=e.memoizedState,r=t.getDerivedStateFromProps,typeof r=="function"&&(Rg(e,t,r,i),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Wf.enqueueReplaceState(s,s.state,null),Od(e,i,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Eo(e,t){try{var i="",n=t;do i+=nS(n),n=n.return;while(n);var s=i}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:e,source:t,stack:s,digest:null}}function Lp(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function Lg(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var Rx=typeof WeakMap=="function"?WeakMap:Map;function yw(e,t,i){i=Wn(-1,i),i.tag=3,i.payload={element:null};var n=t.value;return i.callback=function(){Hd||(Hd=!0,Bg=n),Lg(e,t)},i}function ww(e,t,i){i=Wn(-1,i),i.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;i.payload=function(){return n(s)},i.callback=function(){Lg(e,t)}}var r=e.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(i.callback=function(){Lg(e,t),typeof n!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),i}function ob(e,t,i){var n=e.pingCache;if(n===null){n=e.pingCache=new Rx;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(i)||(s.add(i),e=Ux.bind(null,e,t,i),t.then(e,e))}function lb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cb(e,t,i,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Wn(-1,1),t.tag=2,Ps(i,t,1))),i.lanes|=1),e)}var Px=Un.ReactCurrentOwner,je=!1;function Ee(e,t,i,n){t.child=e===null?X1(t,null,i,n):So(t,e.child,i,n)}function ub(e,t,i,n,s){i=i.render;var r=t.ref;return co(t,s),n=$v(e,t,i,n,r,s),i=Uv(),e!==null&&!je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Hn(e,t,s)):(kt&&i&&Pv(t),t.flags|=1,Ee(e,t,n,s),t.child)}function hb(e,t,i,n,s){if(e===null){var r=i.type;return typeof r=="function"&&!t0(r)&&r.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=r,Aw(e,t,r,n,s)):(e=Yu(i.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!(e.lanes&s)){var a=r.memoizedProps;if(i=i.compare,i=i!==null?i:Tc,i(a,n)&&e.ref===t.ref)return Hn(e,t,s)}return t.flags|=1,e=Ns(r,n),e.ref=t.ref,e.return=t,t.child=e}function Aw(e,t,i,n,s){if(e!==null){var r=e.memoizedProps;if(Tc(r,n)&&e.ref===t.ref)if(je=!1,t.pendingProps=n=r,(e.lanes&s)!==0)e.flags&131072&&(je=!0);else return t.lanes=e.lanes,Hn(e,t,s)}return Ig(e,t,i,n,s)}function kw(e,t,i){var n=t.pendingProps,s=n.children,r=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(Ha,Ye),Ye|=i;else{if(!(i&1073741824))return e=r!==null?r.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,gt(Ha,Ye),Ye|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=r!==null?r.baseLanes:i,gt(Ha,Ye),Ye|=n}else r!==null?(n=r.baseLanes|i,t.memoizedState=null):n=i,gt(Ha,Ye),Ye|=n;return Ee(e,t,s,i),t.child}function _w(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Ig(e,t,i,n,s){var r=Be(i)?Ir:ke.current;return r=ko(t,r),co(t,s),i=$v(e,t,i,n,r,s),n=Uv(),e!==null&&!je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Hn(e,t,s)):(kt&&n&&Pv(t),t.flags|=1,Ee(e,t,i,s),t.child)}function db(e,t,i,n,s){if(Be(i)){var r=!0;Ld(t)}else r=!1;if(co(t,s),t.stateNode===null)qu(e,t),bw(t,i,n),Pg(t,i,n,s),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var c=a.context,u=i.contextType;typeof u=="object"&&u!==null?u=wi(u):(u=Be(i)?Ir:ke.current,u=ko(t,u));var h=i.getDerivedStateFromProps,d=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||c!==u)&&ab(t,a,n,u),rs=!1;var f=t.memoizedState;a.state=f,Od(t,n,a,s),c=t.memoizedState,o!==n||f!==c||ze.current||rs?(typeof h=="function"&&(Rg(t,i,h,n),c=t.memoizedState),(o=rs||rb(t,i,o,n,f,c,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Q1(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Ci(t.type,o),a.props=u,d=t.pendingProps,f=a.context,c=i.contextType,typeof c=="object"&&c!==null?c=wi(c):(c=Be(i)?Ir:ke.current,c=ko(t,c));var p=i.getDerivedStateFromProps;(h=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||f!==c)&&ab(t,a,n,c),rs=!1,f=t.memoizedState,a.state=f,Od(t,n,a,s);var g=t.memoizedState;o!==d||f!==g||ze.current||rs?(typeof p=="function"&&(Rg(t,i,p,n),g=t.memoizedState),(u=rs||rb(t,i,u,n,f,g,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),a.props=n,a.state=g,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Ng(e,t,i,n,r,s)}function Ng(e,t,i,n,s,r){_w(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&Q0(t,i,!1),Hn(e,t,r);n=t.stateNode,Px.current=t;var o=a&&typeof i.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=So(t,e.child,null,r),t.child=So(t,null,o,r)):Ee(e,t,o,r),t.memoizedState=n.state,s&&Q0(t,i,!0),t.child}function Sw(e){var t=e.stateNode;t.pendingContext?Y0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Y0(e,t.context,!1),jv(e,t.containerInfo)}function fb(e,t,i,n,s){return _o(),Iv(s),t.flags|=256,Ee(e,t,i,n),t.child}var Dg={dehydrated:null,treeContext:null,retryLane:0};function Fg(e){return{baseLanes:e,cachePool:null,transitions:null}}function xw(e,t,i){var n=t.pendingProps,s=xt.current,r=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(r=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),gt(xt,s&1),e===null)return Mg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,r?(n=t.mode,r=t.child,a={mode:"hidden",children:a},!(n&1)&&r!==null?(r.childLanes=0,r.pendingProps=a):r=Bf(a,n,0,null),e=Lr(e,n,i,null),r.return=t,e.return=t,r.sibling=e,t.child=r,t.child.memoizedState=Fg(i),t.memoizedState=Dg,e):qv(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Lx(e,t,a,n,o,s,i);if(r){r=n.fallback,a=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ns(s,c),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?r=Ns(o,r):(r=Lr(r,a,i,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,n=r,r=t.child,a=e.child.memoizedState,a=a===null?Fg(i):{baseLanes:a.baseLanes|i,cachePool:null,transitions:a.transitions},r.memoizedState=a,r.childLanes=e.childLanes&~i,t.memoizedState=Dg,n}return r=e.child,e=r.sibling,n=Ns(r,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=i),n.return=t,n.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n}function qv(e,t){return t=Bf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function mu(e,t,i,n){return n!==null&&Iv(n),So(t,e.child,null,i),e=qv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lx(e,t,i,n,s,r,a){if(i)return t.flags&256?(t.flags&=-257,n=Lp(Error(L(422))),mu(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(r=n.fallback,s=t.mode,n=Bf({mode:"visible",children:n.children},s,0,null),r=Lr(r,s,a,null),r.flags|=2,n.return=t,r.return=t,n.sibling=r,t.child=n,t.mode&1&&So(t,e.child,null,a),t.child.memoizedState=Fg(a),t.memoizedState=Dg,r);if(!(t.mode&1))return mu(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,r=Error(L(419)),n=Lp(r,n,void 0),mu(e,t,a,n)}if(o=(a&e.childLanes)!==0,je||o){if(n=Qt,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,Bn(e,s),Ii(n,e,s,-1))}return Zv(),n=Lp(Error(L(421))),mu(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Vx.bind(null,e),s._reactRetry=t,null):(e=r.treeContext,Qe=Rs(s.nextSibling),Je=t,kt=!0,Pi=null,e!==null&&(gi[mi++]=Dn,gi[mi++]=Fn,gi[mi++]=Nr,Dn=e.id,Fn=e.overflow,Nr=t),t=qv(t,n.children),t.flags|=4096,t)}function pb(e,t,i){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Tg(e.return,t,i)}function Ip(e,t,i,n,s){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:i,tailMode:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=n,r.tail=i,r.tailMode=s)}function Ew(e,t,i){var n=t.pendingProps,s=n.revealOrder,r=n.tail;if(Ee(e,t,n.children,i),n=xt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pb(e,i,t);else if(e.tag===19)pb(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(gt(xt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(i=t.child,s=null;i!==null;)e=i.alternate,e!==null&&Wd(e)===null&&(s=i),i=i.sibling;i=s,i===null?(s=t.child,t.child=null):(s=i.sibling,i.sibling=null),Ip(t,!1,s,i,r);break;case"backwards":for(i=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Wd(e)===null){t.child=s;break}e=s.sibling,s.sibling=i,i=s,s=e}Ip(t,!0,i,null,r);break;case"together":Ip(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Fr|=t.lanes,!(i&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,i=Ns(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Ns(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Ix(e,t,i){switch(t.tag){case 3:Sw(t),_o();break;case 5:J1(t);break;case 1:Be(t.type)&&Ld(t);break;case 4:jv(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;gt(Dd,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(gt(xt,xt.current&1),t.flags|=128,null):i&t.child.childLanes?xw(e,t,i):(gt(xt,xt.current&1),e=Hn(e,t,i),e!==null?e.sibling:null);gt(xt,xt.current&1);break;case 19:if(n=(i&t.childLanes)!==0,e.flags&128){if(n)return Ew(e,t,i);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),gt(xt,xt.current),n)break;return null;case 22:case 23:return t.lanes=0,kw(e,t,i)}return Hn(e,t,i)}var Cw,Og,Mw,Tw;Cw=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Og=function(){};Mw=function(e,t,i,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,_r(rn.current);var r=null;switch(i){case"input":s=rg(e,s),n=rg(e,n),r=[];break;case"select":s=Ct({},s,{value:void 0}),n=Ct({},n,{value:void 0}),r=[];break;case"textarea":s=lg(e,s),n=lg(e,n),r=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Rd)}ug(i,n);var a;i=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(i||(i={}),i[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(kc.hasOwnProperty(u)?r||(r=[]):(r=r||[]).push(u,null));for(u in n){var c=n[u];if(o=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(i||(i={}),i[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(i||(i={}),i[a]=c[a])}else i||(r||(r=[]),r.push(u,i)),i=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(r=r||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(r=r||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(kc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&mt("scroll",e),r||o===c||(r=[])):(r=r||[]).push(u,c))}i&&(r=r||[]).push("style",i);var u=r;(t.updateQueue=u)&&(t.flags|=4)}};Tw=function(e,t,i,n){i!==n&&(t.flags|=4)};function Ho(e,t){if(!kt)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var n=null;i!==null;)i.alternate!==null&&(n=i),i=i.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function le(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,n=0;if(t)for(var s=e.child;s!==null;)i|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)i|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=i,t}function Nx(e,t,i){var n=t.pendingProps;switch(Lv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(t),null;case 1:return Be(t.type)&&Pd(),le(t),null;case 3:return n=t.stateNode,xo(),bt(ze),bt(ke),Bv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(pu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pi!==null&&(Ug(Pi),Pi=null))),Og(e,t),le(t),null;case 5:zv(t);var s=_r(Nc.current);if(i=t.type,e!==null&&t.stateNode!=null)Mw(e,t,i,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(L(166));return le(t),null}if(e=_r(rn.current),pu(t)){n=t.stateNode,i=t.type;var r=t.memoizedProps;switch(n[tn]=t,n[Lc]=r,e=(t.mode&1)!==0,i){case"dialog":mt("cancel",n),mt("close",n);break;case"iframe":case"object":case"embed":mt("load",n);break;case"video":case"audio":for(s=0;s<al.length;s++)mt(al[s],n);break;case"source":mt("error",n);break;case"img":case"image":case"link":mt("error",n),mt("load",n);break;case"details":mt("toggle",n);break;case"input":_0(n,r),mt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!r.multiple},mt("invalid",n);break;case"textarea":x0(n,r),mt("invalid",n)}ug(i,r),s=null;for(var a in r)if(r.hasOwnProperty(a)){var o=r[a];a==="children"?typeof o=="string"?n.textContent!==o&&(r.suppressHydrationWarning!==!0&&fu(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(r.suppressHydrationWarning!==!0&&fu(n.textContent,o,e),s=["children",""+o]):kc.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&mt("scroll",n)}switch(i){case"input":ru(n),S0(n,r,!0);break;case"textarea":ru(n),E0(n);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(n.onclick=Rd)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=n1(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(i,{is:n.is}):(e=a.createElement(i),i==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,i),e[tn]=t,e[Lc]=n,Cw(e,t,!1,!1),t.stateNode=e;t:{switch(a=hg(i,n),i){case"dialog":mt("cancel",e),mt("close",e),s=n;break;case"iframe":case"object":case"embed":mt("load",e),s=n;break;case"video":case"audio":for(s=0;s<al.length;s++)mt(al[s],e);s=n;break;case"source":mt("error",e),s=n;break;case"img":case"image":case"link":mt("error",e),mt("load",e),s=n;break;case"details":mt("toggle",e),s=n;break;case"input":_0(e,n),s=rg(e,n),mt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Ct({},n,{value:void 0}),mt("invalid",e);break;case"textarea":x0(e,n),s=lg(e,n),mt("invalid",e);break;default:s=n}ug(i,s),o=s;for(r in o)if(o.hasOwnProperty(r)){var c=o[r];r==="style"?a1(e,c):r==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&s1(e,c)):r==="children"?typeof c=="string"?(i!=="textarea"||c!=="")&&_c(e,c):typeof c=="number"&&_c(e,""+c):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(kc.hasOwnProperty(r)?c!=null&&r==="onScroll"&&mt("scroll",e):c!=null&&vv(e,r,c,a))}switch(i){case"input":ru(e),S0(e,n,!1);break;case"textarea":ru(e),E0(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Fs(n.value));break;case"select":e.multiple=!!n.multiple,r=n.value,r!=null?ro(e,!!n.multiple,r,!1):n.defaultValue!=null&&ro(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Rd)}switch(i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break t;case"img":n=!0;break t;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return le(t),null;case 6:if(e&&t.stateNode!=null)Tw(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(L(166));if(i=_r(Nc.current),_r(rn.current),pu(t)){if(n=t.stateNode,i=t.memoizedProps,n[tn]=t,(r=n.nodeValue!==i)&&(e=Je,e!==null))switch(e.tag){case 3:fu(n.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fu(n.nodeValue,i,(e.mode&1)!==0)}r&&(t.flags|=4)}else n=(i.nodeType===9?i:i.ownerDocument).createTextNode(n),n[tn]=t,t.stateNode=n}return le(t),null;case 13:if(bt(xt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(kt&&Qe!==null&&t.mode&1&&!(t.flags&128))q1(),_o(),t.flags|=98560,r=!1;else if(r=pu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!r)throw Error(L(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(L(317));r[tn]=t}else _o(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;le(t),r=!1}else Pi!==null&&(Ug(Pi),Pi=null),r=!0;if(!r)return t.flags&65536?t:null}return t.flags&128?(t.lanes=i,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||xt.current&1?Ht===0&&(Ht=3):Zv())),t.updateQueue!==null&&(t.flags|=4),le(t),null);case 4:return xo(),Og(e,t),e===null&&Rc(t.stateNode.containerInfo),le(t),null;case 10:return Fv(t.type._context),le(t),null;case 17:return Be(t.type)&&Pd(),le(t),null;case 19:if(bt(xt),r=t.memoizedState,r===null)return le(t),null;if(n=(t.flags&128)!==0,a=r.rendering,a===null)if(n)Ho(r,!1);else{if(Ht!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Wd(e),a!==null){for(t.flags|=128,Ho(r,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=i,i=t.child;i!==null;)r=i,e=n,r.flags&=14680066,a=r.alternate,a===null?(r.childLanes=0,r.lanes=e,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,e=a.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return gt(xt,xt.current&1|2),t.child}e=e.sibling}r.tail!==null&&It()>Co&&(t.flags|=128,n=!0,Ho(r,!1),t.lanes=4194304)}else{if(!n)if(e=Wd(a),e!==null){if(t.flags|=128,n=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),Ho(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!kt)return le(t),null}else 2*It()-r.renderingStartTime>Co&&i!==1073741824&&(t.flags|=128,n=!0,Ho(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(i=r.last,i!==null?i.sibling=a:t.child=a,r.last=a)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=It(),t.sibling=null,i=xt.current,gt(xt,n?i&1|2:i&1),t):(le(t),null);case 22:case 23:return Jv(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ye&1073741824&&(le(t),t.subtreeFlags&6&&(t.flags|=8192)):le(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function Dx(e,t){switch(Lv(t),t.tag){case 1:return Be(t.type)&&Pd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xo(),bt(ze),bt(ke),Bv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zv(t),null;case 13:if(bt(xt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));_o()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return bt(xt),null;case 4:return xo(),null;case 10:return Fv(t.type._context),null;case 22:case 23:return Jv(),null;case 24:return null;default:return null}}var vu=!1,ye=!1,Fx=typeof WeakSet=="function"?WeakSet:Set,F=null;function Ba(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(n){Mt(e,t,n)}else i.current=null}function Rw(e,t,i){try{i()}catch(n){Mt(e,t,n)}}var gb=!1;function Ox(e,t){if(Ag=Cd,e=N1(),Rv(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else t:{i=(i=e.ownerDocument)&&i.defaultView||window;var n=i.getSelection&&i.getSelection();if(n&&n.rangeCount!==0){i=n.anchorNode;var s=n.anchorOffset,r=n.focusNode;n=n.focusOffset;try{i.nodeType,r.nodeType}catch{i=null;break t}var a=0,o=-1,c=-1,u=0,h=0,d=e,f=null;e:for(;;){for(var p;d!==i||s!==0&&d.nodeType!==3||(o=a+s),d!==r||n!==0&&d.nodeType!==3||(c=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===e)break e;if(f===i&&++u===s&&(o=a),f===r&&++h===n&&(c=a),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}i=o===-1||c===-1?null:{start:o,end:c}}else i=null}i=i||{start:0,end:0}}else i=null;for(kg={focusedElem:e,selectionRange:i},Cd=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var b=g.memoizedProps,_=g.memoizedState,v=t.stateNode,m=v.getSnapshotBeforeUpdate(t.elementType===t.type?b:Ci(t.type,b),_);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var A=t.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(S){Mt(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return g=gb,gb=!1,g}function nc(e,t,i){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var r=s.destroy;s.destroy=void 0,r!==void 0&&Rw(t,i,r)}s=s.next}while(s!==n)}}function jf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var n=i.create;i.destroy=n()}i=i.next}while(i!==t)}}function Wg(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function Pw(e){var t=e.alternate;t!==null&&(e.alternate=null,Pw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[tn],delete t[Lc],delete t[xg],delete t[yx],delete t[wx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Lw(e){return e.tag===5||e.tag===3||e.tag===4}function mb(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Lw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jg(e,t,i){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Rd));else if(n!==4&&(e=e.child,e!==null))for(jg(e,t,i),e=e.sibling;e!==null;)jg(e,t,i),e=e.sibling}function zg(e,t,i){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(zg(e,t,i),e=e.sibling;e!==null;)zg(e,t,i),e=e.sibling}var ne=null,Ri=!1;function Vn(e,t,i){for(i=i.child;i!==null;)Iw(e,t,i),i=i.sibling}function Iw(e,t,i){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Pf,i)}catch{}switch(i.tag){case 5:ye||Ba(i,t);case 6:var n=ne,s=Ri;ne=null,Vn(e,t,i),ne=n,Ri=s,ne!==null&&(Ri?(e=ne,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):ne.removeChild(i.stateNode));break;case 18:ne!==null&&(Ri?(e=ne,i=i.stateNode,e.nodeType===8?Ep(e.parentNode,i):e.nodeType===1&&Ep(e,i),Cc(e)):Ep(ne,i.stateNode));break;case 4:n=ne,s=Ri,ne=i.stateNode.containerInfo,Ri=!0,Vn(e,t,i),ne=n,Ri=s;break;case 0:case 11:case 14:case 15:if(!ye&&(n=i.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var r=s,a=r.destroy;r=r.tag,a!==void 0&&(r&2||r&4)&&Rw(i,t,a),s=s.next}while(s!==n)}Vn(e,t,i);break;case 1:if(!ye&&(Ba(i,t),n=i.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=i.memoizedProps,n.state=i.memoizedState,n.componentWillUnmount()}catch(o){Mt(i,t,o)}Vn(e,t,i);break;case 21:Vn(e,t,i);break;case 22:i.mode&1?(ye=(n=ye)||i.memoizedState!==null,Vn(e,t,i),ye=n):Vn(e,t,i);break;default:Vn(e,t,i)}}function vb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Fx),t.forEach(function(n){var s=Gx.bind(null,e,n);i.has(n)||(i.add(n),n.then(s,s))})}}function ki(e,t){var i=t.deletions;if(i!==null)for(var n=0;n<i.length;n++){var s=i[n];try{var r=e,a=t,o=a;t:for(;o!==null;){switch(o.tag){case 5:ne=o.stateNode,Ri=!1;break t;case 3:ne=o.stateNode.containerInfo,Ri=!0;break t;case 4:ne=o.stateNode.containerInfo,Ri=!0;break t}o=o.return}if(ne===null)throw Error(L(160));Iw(r,a,s),ne=null,Ri=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Mt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Nw(t,e),t=t.sibling}function Nw(e,t){var i=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ki(t,e),Di(e),n&4){try{nc(3,e,e.return),jf(3,e)}catch(b){Mt(e,e.return,b)}try{nc(5,e,e.return)}catch(b){Mt(e,e.return,b)}}break;case 1:ki(t,e),Di(e),n&512&&i!==null&&Ba(i,i.return);break;case 5:if(ki(t,e),Di(e),n&512&&i!==null&&Ba(i,i.return),e.flags&32){var s=e.stateNode;try{_c(s,"")}catch(b){Mt(e,e.return,b)}}if(n&4&&(s=e.stateNode,s!=null)){var r=e.memoizedProps,a=i!==null?i.memoizedProps:r,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&r.type==="radio"&&r.name!=null&&e1(s,r),hg(o,a);var u=hg(o,r);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];h==="style"?a1(s,d):h==="dangerouslySetInnerHTML"?s1(s,d):h==="children"?_c(s,d):vv(s,h,d,u)}switch(o){case"input":ag(s,r);break;case"textarea":i1(s,r);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var p=r.value;p!=null?ro(s,!!r.multiple,p,!1):f!==!!r.multiple&&(r.defaultValue!=null?ro(s,!!r.multiple,r.defaultValue,!0):ro(s,!!r.multiple,r.multiple?[]:"",!1))}s[Lc]=r}catch(b){Mt(e,e.return,b)}}break;case 6:if(ki(t,e),Di(e),n&4){if(e.stateNode===null)throw Error(L(162));s=e.stateNode,r=e.memoizedProps;try{s.nodeValue=r}catch(b){Mt(e,e.return,b)}}break;case 3:if(ki(t,e),Di(e),n&4&&i!==null&&i.memoizedState.isDehydrated)try{Cc(t.containerInfo)}catch(b){Mt(e,e.return,b)}break;case 4:ki(t,e),Di(e);break;case 13:ki(t,e),Di(e),s=e.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(Yv=It())),n&4&&vb(e);break;case 22:if(h=i!==null&&i.memoizedState!==null,e.mode&1?(ye=(u=ye)||h,ki(t,e),ye=u):ki(t,e),Di(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(F=e,h=e.child;h!==null;){for(d=F=h;F!==null;){switch(f=F,p=f.child,f.tag){case 0:case 11:case 14:case 15:nc(4,f,f.return);break;case 1:Ba(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,i=f.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(b){Mt(n,i,b)}}break;case 5:Ba(f,f.return);break;case 22:if(f.memoizedState!==null){yb(d);continue}}p!==null?(p.return=f,F=p):yb(d)}h=h.sibling}t:for(h=null,d=e;;){if(d.tag===5){if(h===null){h=d;try{s=d.stateNode,u?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(o=d.stateNode,c=d.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=r1("display",a))}catch(b){Mt(e,e.return,b)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(b){Mt(e,e.return,b)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break t;for(;d.sibling===null;){if(d.return===null||d.return===e)break t;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ki(t,e),Di(e),n&4&&vb(e);break;case 21:break;default:ki(t,e),Di(e)}}function Di(e){var t=e.flags;if(t&2){try{t:{for(var i=e.return;i!==null;){if(Lw(i)){var n=i;break t}i=i.return}throw Error(L(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(_c(s,""),n.flags&=-33);var r=mb(e);zg(e,r,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=mb(e);jg(e,o,a);break;default:throw Error(L(161))}}catch(c){Mt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Wx(e,t,i){F=e,Dw(e)}function Dw(e,t,i){for(var n=(e.mode&1)!==0;F!==null;){var s=F,r=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||vu;if(!a){var o=s.alternate,c=o!==null&&o.memoizedState!==null||ye;o=vu;var u=ye;if(vu=a,(ye=c)&&!u)for(F=s;F!==null;)a=F,c=a.child,a.tag===22&&a.memoizedState!==null?wb(s):c!==null?(c.return=a,F=c):wb(s);for(;r!==null;)F=r,Dw(r),r=r.sibling;F=s,vu=o,ye=u}bb(e)}else s.subtreeFlags&8772&&r!==null?(r.return=s,F=r):bb(e)}}function bb(e){for(;F!==null;){var t=F;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ye||jf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ye)if(i===null)n.componentDidMount();else{var s=t.elementType===t.type?i.memoizedProps:Ci(t.type,i.memoizedProps);n.componentDidUpdate(s,i.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;r!==null&&ib(t,r,n);break;case 3:var a=t.updateQueue;if(a!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}ib(t,a,i)}break;case 5:var o=t.stateNode;if(i===null&&t.flags&4){i=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&i.focus();break;case"img":c.src&&(i.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Cc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}ye||t.flags&512&&Wg(t)}catch(f){Mt(t,t.return,f)}}if(t===e){F=null;break}if(i=t.sibling,i!==null){i.return=t.return,F=i;break}F=t.return}}function yb(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var i=t.sibling;if(i!==null){i.return=t.return,F=i;break}F=t.return}}function wb(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{jf(4,t)}catch(c){Mt(t,i,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Mt(t,s,c)}}var r=t.return;try{Wg(t)}catch(c){Mt(t,r,c)}break;case 5:var a=t.return;try{Wg(t)}catch(c){Mt(t,a,c)}}}catch(c){Mt(t,t.return,c)}if(t===e){F=null;break}var o=t.sibling;if(o!==null){o.return=t.return,F=o;break}F=t.return}}var jx=Math.ceil,Bd=Un.ReactCurrentDispatcher,Kv=Un.ReactCurrentOwner,yi=Un.ReactCurrentBatchConfig,rt=0,Qt=null,Ft=null,se=0,Ye=0,Ha=zs(0),Ht=0,Wc=null,Fr=0,zf=0,Xv=0,sc=null,We=null,Yv=0,Co=1/0,Sn=null,Hd=!1,Bg=null,Ls=null,bu=!1,_s=null,$d=0,rc=0,Hg=null,Ku=-1,Xu=0;function Me(){return rt&6?It():Ku!==-1?Ku:Ku=It()}function Is(e){return e.mode&1?rt&2&&se!==0?se&-se:kx.transition!==null?(Xu===0&&(Xu=b1()),Xu):(e=ot,e!==0||(e=window.event,e=e===void 0?16:x1(e.type)),e):1}function Ii(e,t,i,n){if(50<rc)throw rc=0,Hg=null,Error(L(185));Uc(e,i,n),(!(rt&2)||e!==Qt)&&(e===Qt&&(!(rt&2)&&(zf|=i),Ht===4&&hs(e,se)),He(e,n),i===1&&rt===0&&!(t.mode&1)&&(Co=It()+500,Ff&&Bs()))}function He(e,t){var i=e.callbackNode;kS(e,t);var n=Ed(e,e===Qt?se:0);if(n===0)i!==null&&T0(i),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(i!=null&&T0(i),t===1)e.tag===0?Ax(Ab.bind(null,e)):U1(Ab.bind(null,e)),vx(function(){!(rt&6)&&Bs()}),i=null;else{switch(y1(n)){case 1:i=kv;break;case 4:i=m1;break;case 16:i=xd;break;case 536870912:i=v1;break;default:i=xd}i=$w(i,Fw.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function Fw(e,t){if(Ku=-1,Xu=0,rt&6)throw Error(L(327));var i=e.callbackNode;if(uo()&&e.callbackNode!==i)return null;var n=Ed(e,e===Qt?se:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ud(e,n);else{t=n;var s=rt;rt|=2;var r=Ww();(Qt!==e||se!==t)&&(Sn=null,Co=It()+500,Pr(e,t));do try{Hx();break}catch(o){Ow(e,o)}while(!0);Dv(),Bd.current=r,rt=s,Ft!==null?t=0:(Qt=null,se=0,t=Ht)}if(t!==0){if(t===2&&(s=mg(e),s!==0&&(n=s,t=$g(e,s))),t===1)throw i=Wc,Pr(e,0),hs(e,n),He(e,It()),i;if(t===6)hs(e,n);else{if(s=e.current.alternate,!(n&30)&&!zx(s)&&(t=Ud(e,n),t===2&&(r=mg(e),r!==0&&(n=r,t=$g(e,r))),t===1))throw i=Wc,Pr(e,0),hs(e,n),He(e,It()),i;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(L(345));case 2:Qs(e,We,Sn);break;case 3:if(hs(e,n),(n&130023424)===n&&(t=Yv+500-It(),10<t)){if(Ed(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Me(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Sg(Qs.bind(null,e,We,Sn),t);break}Qs(e,We,Sn);break;case 4:if(hs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-Li(n);r=1<<a,a=t[a],a>s&&(s=a),n&=~r}if(n=s,n=It()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*jx(n/1960))-n,10<n){e.timeoutHandle=Sg(Qs.bind(null,e,We,Sn),n);break}Qs(e,We,Sn);break;case 5:Qs(e,We,Sn);break;default:throw Error(L(329))}}}return He(e,It()),e.callbackNode===i?Fw.bind(null,e):null}function $g(e,t){var i=sc;return e.current.memoizedState.isDehydrated&&(Pr(e,t).flags|=256),e=Ud(e,t),e!==2&&(t=We,We=i,t!==null&&Ug(t)),e}function Ug(e){We===null?We=e:We.push.apply(We,e)}function zx(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var n=0;n<i.length;n++){var s=i[n],r=s.getSnapshot;s=s.value;try{if(!Ni(r(),s))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hs(e,t){for(t&=~Xv,t&=~zf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Li(t),n=1<<i;e[i]=-1,t&=~n}}function Ab(e){if(rt&6)throw Error(L(327));uo();var t=Ed(e,0);if(!(t&1))return He(e,It()),null;var i=Ud(e,t);if(e.tag!==0&&i===2){var n=mg(e);n!==0&&(t=n,i=$g(e,n))}if(i===1)throw i=Wc,Pr(e,0),hs(e,t),He(e,It()),i;if(i===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qs(e,We,Sn),He(e,It()),null}function Qv(e,t){var i=rt;rt|=1;try{return e(t)}finally{rt=i,rt===0&&(Co=It()+500,Ff&&Bs())}}function Or(e){_s!==null&&_s.tag===0&&!(rt&6)&&uo();var t=rt;rt|=1;var i=yi.transition,n=ot;try{if(yi.transition=null,ot=1,e)return e()}finally{ot=n,yi.transition=i,rt=t,!(rt&6)&&Bs()}}function Jv(){Ye=Ha.current,bt(Ha)}function Pr(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,mx(i)),Ft!==null)for(i=Ft.return;i!==null;){var n=i;switch(Lv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Pd();break;case 3:xo(),bt(ze),bt(ke),Bv();break;case 5:zv(n);break;case 4:xo();break;case 13:bt(xt);break;case 19:bt(xt);break;case 10:Fv(n.type._context);break;case 22:case 23:Jv()}i=i.return}if(Qt=e,Ft=e=Ns(e.current,null),se=Ye=t,Ht=0,Wc=null,Xv=zf=Fr=0,We=sc=null,kr!==null){for(t=0;t<kr.length;t++)if(i=kr[t],n=i.interleaved,n!==null){i.interleaved=null;var s=n.next,r=i.pending;if(r!==null){var a=r.next;r.next=s,n.next=a}i.pending=n}kr=null}return e}function Ow(e,t){do{var i=Ft;try{if(Dv(),Vu.current=zd,jd){for(var n=Et.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}jd=!1}if(Dr=0,Yt=zt=Et=null,ic=!1,Dc=0,Kv.current=null,i===null||i.return===null){Ht=1,Wc=t,Ft=null;break}t:{var r=e,a=i.return,o=i,c=t;if(t=se,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=o,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=lb(a);if(p!==null){p.flags&=-257,cb(p,a,o,r,t),p.mode&1&&ob(r,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var b=new Set;b.add(c),t.updateQueue=b}else g.add(c);break t}else{if(!(t&1)){ob(r,u,t),Zv();break t}c=Error(L(426))}}else if(kt&&o.mode&1){var _=lb(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),cb(_,a,o,r,t),Iv(Eo(c,o));break t}}r=c=Eo(c,o),Ht!==4&&(Ht=2),sc===null?sc=[r]:sc.push(r),r=a;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t;var v=yw(r,c,t);eb(r,v);break t;case 1:o=c;var m=r.type,A=r.stateNode;if(!(r.flags&128)&&(typeof m.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Ls===null||!Ls.has(A)))){r.flags|=65536,t&=-t,r.lanes|=t;var S=ww(r,o,t);eb(r,S);break t}}r=r.return}while(r!==null)}zw(i)}catch(x){t=x,Ft===i&&i!==null&&(Ft=i=i.return);continue}break}while(!0)}function Ww(){var e=Bd.current;return Bd.current=zd,e===null?zd:e}function Zv(){(Ht===0||Ht===3||Ht===2)&&(Ht=4),Qt===null||!(Fr&268435455)&&!(zf&268435455)||hs(Qt,se)}function Ud(e,t){var i=rt;rt|=2;var n=Ww();(Qt!==e||se!==t)&&(Sn=null,Pr(e,t));do try{Bx();break}catch(s){Ow(e,s)}while(!0);if(Dv(),rt=i,Bd.current=n,Ft!==null)throw Error(L(261));return Qt=null,se=0,Ht}function Bx(){for(;Ft!==null;)jw(Ft)}function Hx(){for(;Ft!==null&&!fS();)jw(Ft)}function jw(e){var t=Hw(e.alternate,e,Ye);e.memoizedProps=e.pendingProps,t===null?zw(e):Ft=t,Kv.current=null}function zw(e){var t=e;do{var i=t.alternate;if(e=t.return,t.flags&32768){if(i=Dx(i,t),i!==null){i.flags&=32767,Ft=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ht=6,Ft=null;return}}else if(i=Nx(i,t,Ye),i!==null){Ft=i;return}if(t=t.sibling,t!==null){Ft=t;return}Ft=t=e}while(t!==null);Ht===0&&(Ht=5)}function Qs(e,t,i){var n=ot,s=yi.transition;try{yi.transition=null,ot=1,$x(e,t,i,n)}finally{yi.transition=s,ot=n}return null}function $x(e,t,i,n){do uo();while(_s!==null);if(rt&6)throw Error(L(327));i=e.finishedWork;var s=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var r=i.lanes|i.childLanes;if(_S(e,r),e===Qt&&(Ft=Qt=null,se=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||bu||(bu=!0,$w(xd,function(){return uo(),null})),r=(i.flags&15990)!==0,i.subtreeFlags&15990||r){r=yi.transition,yi.transition=null;var a=ot;ot=1;var o=rt;rt|=4,Kv.current=null,Ox(e,i),Nw(i,e),cx(kg),Cd=!!Ag,kg=Ag=null,e.current=i,Wx(i),pS(),rt=o,ot=a,yi.transition=r}else e.current=i;if(bu&&(bu=!1,_s=e,$d=s),r=e.pendingLanes,r===0&&(Ls=null),vS(i.stateNode),He(e,It()),t!==null)for(n=e.onRecoverableError,i=0;i<t.length;i++)s=t[i],n(s.value,{componentStack:s.stack,digest:s.digest});if(Hd)throw Hd=!1,e=Bg,Bg=null,e;return $d&1&&e.tag!==0&&uo(),r=e.pendingLanes,r&1?e===Hg?rc++:(rc=0,Hg=e):rc=0,Bs(),null}function uo(){if(_s!==null){var e=y1($d),t=yi.transition,i=ot;try{if(yi.transition=null,ot=16>e?16:e,_s===null)var n=!1;else{if(e=_s,_s=null,$d=0,rt&6)throw Error(L(331));var s=rt;for(rt|=4,F=e.current;F!==null;){var r=F,a=r.child;if(F.flags&16){var o=r.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(F=u;F!==null;){var h=F;switch(h.tag){case 0:case 11:case 15:nc(8,h,r)}var d=h.child;if(d!==null)d.return=h,F=d;else for(;F!==null;){h=F;var f=h.sibling,p=h.return;if(Pw(h),h===u){F=null;break}if(f!==null){f.return=p,F=f;break}F=p}}}var g=r.alternate;if(g!==null){var b=g.child;if(b!==null){g.child=null;do{var _=b.sibling;b.sibling=null,b=_}while(b!==null)}}F=r}}if(r.subtreeFlags&2064&&a!==null)a.return=r,F=a;else t:for(;F!==null;){if(r=F,r.flags&2048)switch(r.tag){case 0:case 11:case 15:nc(9,r,r.return)}var v=r.sibling;if(v!==null){v.return=r.return,F=v;break t}F=r.return}}var m=e.current;for(F=m;F!==null;){a=F;var A=a.child;if(a.subtreeFlags&2064&&A!==null)A.return=a,F=A;else t:for(a=m;F!==null;){if(o=F,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:jf(9,o)}}catch(x){Mt(o,o.return,x)}if(o===a){F=null;break t}var S=o.sibling;if(S!==null){S.return=o.return,F=S;break t}F=o.return}}if(rt=s,Bs(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Pf,e)}catch{}n=!0}return n}finally{ot=i,yi.transition=t}}return!1}function kb(e,t,i){t=Eo(i,t),t=yw(e,t,1),e=Ps(e,t,1),t=Me(),e!==null&&(Uc(e,1,t),He(e,t))}function Mt(e,t,i){if(e.tag===3)kb(e,e,i);else for(;t!==null;){if(t.tag===3){kb(t,e,i);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ls===null||!Ls.has(n))){e=Eo(i,e),e=ww(t,e,1),t=Ps(t,e,1),e=Me(),t!==null&&(Uc(t,1,e),He(t,e));break}}t=t.return}}function Ux(e,t,i){var n=e.pingCache;n!==null&&n.delete(t),t=Me(),e.pingedLanes|=e.suspendedLanes&i,Qt===e&&(se&i)===i&&(Ht===4||Ht===3&&(se&130023424)===se&&500>It()-Yv?Pr(e,0):Xv|=i),He(e,t)}function Bw(e,t){t===0&&(e.mode&1?(t=lu,lu<<=1,!(lu&130023424)&&(lu=4194304)):t=1);var i=Me();e=Bn(e,t),e!==null&&(Uc(e,t,i),He(e,i))}function Vx(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Bw(e,i)}function Gx(e,t){var i=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(i=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(L(314))}n!==null&&n.delete(t),Bw(e,i)}var Hw;Hw=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||ze.current)je=!0;else{if(!(e.lanes&i)&&!(t.flags&128))return je=!1,Ix(e,t,i);je=!!(e.flags&131072)}else je=!1,kt&&t.flags&1048576&&V1(t,Nd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;qu(e,t),e=t.pendingProps;var s=ko(t,ke.current);co(t,i),s=$v(null,t,n,e,s,i);var r=Uv();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Be(n)?(r=!0,Ld(t)):r=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Wv(t),s.updater=Wf,t.stateNode=s,s._reactInternals=t,Pg(t,n,e,i),t=Ng(null,t,n,!0,r,i)):(t.tag=0,kt&&r&&Pv(t),Ee(null,t,s,i),t=t.child),t;case 16:n=t.elementType;t:{switch(qu(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Kx(n),e=Ci(n,e),s){case 0:t=Ig(null,t,n,e,i);break t;case 1:t=db(null,t,n,e,i);break t;case 11:t=ub(null,t,n,e,i);break t;case 14:t=hb(null,t,n,Ci(n.type,e),i);break t}throw Error(L(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ci(n,s),Ig(e,t,n,s,i);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ci(n,s),db(e,t,n,s,i);case 3:t:{if(Sw(t),e===null)throw Error(L(387));n=t.pendingProps,r=t.memoizedState,s=r.element,Q1(e,t),Od(t,n,null,i);var a=t.memoizedState;if(n=a.element,r.isDehydrated)if(r={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){s=Eo(Error(L(423)),t),t=fb(e,t,n,i,s);break t}else if(n!==s){s=Eo(Error(L(424)),t),t=fb(e,t,n,i,s);break t}else for(Qe=Rs(t.stateNode.containerInfo.firstChild),Je=t,kt=!0,Pi=null,i=X1(t,null,n,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(_o(),n===s){t=Hn(e,t,i);break t}Ee(e,t,n,i)}t=t.child}return t;case 5:return J1(t),e===null&&Mg(t),n=t.type,s=t.pendingProps,r=e!==null?e.memoizedProps:null,a=s.children,_g(n,s)?a=null:r!==null&&_g(n,r)&&(t.flags|=32),_w(e,t),Ee(e,t,a,i),t.child;case 6:return e===null&&Mg(t),null;case 13:return xw(e,t,i);case 4:return jv(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=So(t,null,n,i):Ee(e,t,n,i),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ci(n,s),ub(e,t,n,s,i);case 7:return Ee(e,t,t.pendingProps,i),t.child;case 8:return Ee(e,t,t.pendingProps.children,i),t.child;case 12:return Ee(e,t,t.pendingProps.children,i),t.child;case 10:t:{if(n=t.type._context,s=t.pendingProps,r=t.memoizedProps,a=s.value,gt(Dd,n._currentValue),n._currentValue=a,r!==null)if(Ni(r.value,a)){if(r.children===s.children&&!ze.current){t=Hn(e,t,i);break t}}else for(r=t.child,r!==null&&(r.return=t);r!==null;){var o=r.dependencies;if(o!==null){a=r.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(r.tag===1){c=Wn(-1,i&-i),c.tag=2;var u=r.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}r.lanes|=i,c=r.alternate,c!==null&&(c.lanes|=i),Tg(r.return,i,t),o.lanes|=i;break}c=c.next}}else if(r.tag===10)a=r.type===t.type?null:r.child;else if(r.tag===18){if(a=r.return,a===null)throw Error(L(341));a.lanes|=i,o=a.alternate,o!==null&&(o.lanes|=i),Tg(a,i,t),a=r.sibling}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===t){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}Ee(e,t,s.children,i),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,co(t,i),s=wi(s),n=n(s),t.flags|=1,Ee(e,t,n,i),t.child;case 14:return n=t.type,s=Ci(n,t.pendingProps),s=Ci(n.type,s),hb(e,t,n,s,i);case 15:return Aw(e,t,t.type,t.pendingProps,i);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ci(n,s),qu(e,t),t.tag=1,Be(n)?(e=!0,Ld(t)):e=!1,co(t,i),bw(t,n,s),Pg(t,n,s,i),Ng(null,t,n,!0,e,i);case 19:return Ew(e,t,i);case 22:return kw(e,t,i)}throw Error(L(156,t.tag))};function $w(e,t){return g1(e,t)}function qx(e,t,i,n){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vi(e,t,i,n){return new qx(e,t,i,n)}function t0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Kx(e){if(typeof e=="function")return t0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===yv)return 11;if(e===wv)return 14}return 2}function Ns(e,t){var i=e.alternate;return i===null?(i=vi(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Yu(e,t,i,n,s,r){var a=2;if(n=e,typeof e=="function")t0(e)&&(a=1);else if(typeof e=="string")a=5;else t:switch(e){case La:return Lr(i.children,s,r,t);case bv:a=8,s|=8;break;case eg:return e=vi(12,i,t,s|2),e.elementType=eg,e.lanes=r,e;case ig:return e=vi(13,i,t,s),e.elementType=ig,e.lanes=r,e;case ng:return e=vi(19,i,t,s),e.elementType=ng,e.lanes=r,e;case Jy:return Bf(i,s,r,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Yy:a=10;break t;case Qy:a=9;break t;case yv:a=11;break t;case wv:a=14;break t;case ss:a=16,n=null;break t}throw Error(L(130,e==null?e:typeof e,""))}return t=vi(a,i,t,s),t.elementType=e,t.type=n,t.lanes=r,t}function Lr(e,t,i,n){return e=vi(7,e,n,t),e.lanes=i,e}function Bf(e,t,i,n){return e=vi(22,e,n,t),e.elementType=Jy,e.lanes=i,e.stateNode={isHidden:!1},e}function Np(e,t,i){return e=vi(6,e,null,t),e.lanes=i,e}function Dp(e,t,i){return t=vi(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xx(e,t,i,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gp(0),this.expirationTimes=gp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gp(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function e0(e,t,i,n,s,r,a,o,c){return e=new Xx(e,t,i,o,c),t===1?(t=1,r===!0&&(t|=8)):t=0,r=vi(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:n,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wv(r),e}function Yx(e,t,i){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pa,key:n==null?null:""+n,children:e,containerInfo:t,implementation:i}}function Uw(e){if(!e)return Os;e=e._reactInternals;t:{if(Hr(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(Be(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var i=e.type;if(Be(i))return $1(e,i,t)}return t}function Vw(e,t,i,n,s,r,a,o,c){return e=e0(i,n,!0,e,s,r,a,o,c),e.context=Uw(null),i=e.current,n=Me(),s=Is(i),r=Wn(n,s),r.callback=t??null,Ps(i,r,s),e.current.lanes=s,Uc(e,s,n),He(e,n),e}function Hf(e,t,i,n){var s=t.current,r=Me(),a=Is(s);return i=Uw(i),t.context===null?t.context=i:t.pendingContext=i,t=Wn(r,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ps(s,t,a),e!==null&&(Ii(e,s,a,r),Uu(e,s,a)),a}function Vd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _b(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function i0(e,t){_b(e,t),(e=e.alternate)&&_b(e,t)}function Qx(){return null}var Gw=typeof reportError=="function"?reportError:function(e){console.error(e)};function n0(e){this._internalRoot=e}$f.prototype.render=n0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));Hf(e,t,null,null)};$f.prototype.unmount=n0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Or(function(){Hf(null,e,null,null)}),t[zn]=null}};function $f(e){this._internalRoot=e}$f.prototype.unstable_scheduleHydration=function(e){if(e){var t=k1();e={blockedOn:null,target:e,priority:t};for(var i=0;i<us.length&&t!==0&&t<us[i].priority;i++);us.splice(i,0,e),i===0&&S1(e)}};function s0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Uf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Sb(){}function Jx(e,t,i,n,s){if(s){if(typeof n=="function"){var r=n;n=function(){var u=Vd(a);r.call(u)}}var a=Vw(t,n,e,0,null,!1,!1,"",Sb);return e._reactRootContainer=a,e[zn]=a.current,Rc(e.nodeType===8?e.parentNode:e),Or(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var u=Vd(c);o.call(u)}}var c=e0(e,0,!1,null,null,!1,!1,"",Sb);return e._reactRootContainer=c,e[zn]=c.current,Rc(e.nodeType===8?e.parentNode:e),Or(function(){Hf(t,c,i,n)}),c}function Vf(e,t,i,n,s){var r=i._reactRootContainer;if(r){var a=r;if(typeof s=="function"){var o=s;s=function(){var c=Vd(a);o.call(c)}}Hf(t,a,e,s)}else a=Jx(i,t,e,s,n);return Vd(a)}w1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=rl(t.pendingLanes);i!==0&&(_v(t,i|1),He(t,It()),!(rt&6)&&(Co=It()+500,Bs()))}break;case 13:Or(function(){var n=Bn(e,1);if(n!==null){var s=Me();Ii(n,e,1,s)}}),i0(e,1)}};Sv=function(e){if(e.tag===13){var t=Bn(e,134217728);if(t!==null){var i=Me();Ii(t,e,134217728,i)}i0(e,134217728)}};A1=function(e){if(e.tag===13){var t=Is(e),i=Bn(e,t);if(i!==null){var n=Me();Ii(i,e,t,n)}i0(e,t)}};k1=function(){return ot};_1=function(e,t){var i=ot;try{return ot=e,t()}finally{ot=i}};fg=function(e,t,i){switch(t){case"input":if(ag(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var n=i[t];if(n!==e&&n.form===e.form){var s=Df(n);if(!s)throw Error(L(90));t1(n),ag(n,s)}}}break;case"textarea":i1(e,i);break;case"select":t=i.value,t!=null&&ro(e,!!i.multiple,t,!1)}};c1=Qv;u1=Or;var Zx={usingClientEntryPoint:!1,Events:[Gc,Fa,Df,o1,l1,Qv]},$o={findFiberByHostInstance:Ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tE={bundleType:$o.bundleType,version:$o.version,rendererPackageName:$o.rendererPackageName,rendererConfig:$o.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Un.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=f1(e),e===null?null:e.stateNode},findFiberByHostInstance:$o.findFiberByHostInstance||Qx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yu.isDisabled&&yu.supportsFiber)try{Pf=yu.inject(tE),sn=yu}catch{}}ti.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zx;ti.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!s0(t))throw Error(L(200));return Yx(e,t,null,i)};ti.createRoot=function(e,t){if(!s0(e))throw Error(L(299));var i=!1,n="",s=Gw;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=e0(e,1,!1,null,null,i,!1,n,s),e[zn]=t.current,Rc(e.nodeType===8?e.parentNode:e),new n0(t)};ti.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=f1(t),e=e===null?null:e.stateNode,e};ti.flushSync=function(e){return Or(e)};ti.hydrate=function(e,t,i){if(!Uf(t))throw Error(L(200));return Vf(null,e,t,!0,i)};ti.hydrateRoot=function(e,t,i){if(!s0(e))throw Error(L(405));var n=i!=null&&i.hydratedSources||null,s=!1,r="",a=Gw;if(i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onRecoverableError!==void 0&&(a=i.onRecoverableError)),t=Vw(t,null,e,1,i??null,s,!1,r,a),e[zn]=t.current,Rc(e),n)for(e=0;e<n.length;e++)i=n[e],s=i._getVersion,s=s(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,s]:t.mutableSourceEagerHydrationData.push(i,s);return new $f(t)};ti.render=function(e,t,i){if(!Uf(t))throw Error(L(200));return Vf(null,e,t,!1,i)};ti.unmountComponentAtNode=function(e){if(!Uf(e))throw Error(L(40));return e._reactRootContainer?(Or(function(){Vf(null,null,e,!1,function(){e._reactRootContainer=null,e[zn]=null})}),!0):!1};ti.unstable_batchedUpdates=Qv;ti.unstable_renderSubtreeIntoContainer=function(e,t,i,n){if(!Uf(i))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return Vf(e,t,i,!1,n)};ti.version="18.3.1-next-f1338f8080-20240426";function qw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qw)}catch(e){console.error(e)}}qw(),Gy.exports=ti;var eE=Gy.exports,xb=eE;Zp.createRoot=xb.createRoot,Zp.hydrateRoot=xb.hydrateRoot;/**
* @remix-run/router v1.17.1
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function jc(){return jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},jc.apply(this,arguments)}var Ss;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ss||(Ss={}));const Eb="popstate";function iE(e){e===void 0&&(e={});function t(n,s){let{pathname:r,search:a,hash:o}=n.location;return Vg("",{pathname:r,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function i(n,s){return typeof s=="string"?s:Gd(s)}return sE(t,i,null,e)}function Tt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Kw(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nE(){return Math.random().toString(36).substr(2,8)}function Cb(e,t){return{usr:e.state,key:e.key,idx:t}}function Vg(e,t,i,n){return i===void 0&&(i=null),jc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?No(t):t,{state:i,key:t&&t.key||n||nE()})}function Gd(e){let{pathname:t="/",search:i="",hash:n=""}=e;return i&&i!=="?"&&(t+=i.charAt(0)==="?"?i:"?"+i),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function No(e){let t={};if(e){let i=e.indexOf("#");i>=0&&(t.hash=e.substr(i),e=e.substr(0,i));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function sE(e,t,i,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:r=!1}=n,a=s.history,o=Ss.Pop,c=null,u=h();u==null&&(u=0,a.replaceState(jc({},a.state,{idx:u}),""));function h(){return(a.state||{idx:null}).idx}function d(){o=Ss.Pop;let _=h(),v=_==null?null:_-u;u=_,c&&c({action:o,location:b.location,delta:v})}function f(_,v){o=Ss.Push;let m=Vg(b.location,_,v);u=h()+1;let A=Cb(m,u),S=b.createHref(m);try{a.pushState(A,"",S)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;s.location.assign(S)}r&&c&&c({action:o,location:b.location,delta:1})}function p(_,v){o=Ss.Replace;let m=Vg(b.location,_,v);u=h();let A=Cb(m,u),S=b.createHref(m);a.replaceState(A,"",S),r&&c&&c({action:o,location:b.location,delta:0})}function g(_){let v=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof _=="string"?_:Gd(_);return m=m.replace(/ $/,"%20"),Tt(v,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,v)}let b={get action(){return o},get location(){return e(s,a)},listen(_){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Eb,d),c=_,()=>{s.removeEventListener(Eb,d),c=null}},createHref(_){return t(s,_)},createURL:g,encodeLocation(_){let v=g(_);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(_){return a.go(_)}};return b}var Mb;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Mb||(Mb={}));function rE(e,t,i){return i===void 0&&(i="/"),aE(e,t,i,!1)}function aE(e,t,i,n){let s=typeof t=="string"?No(t):t,r=Mo(s.pathname||"/",i);if(r==null)return null;let a=Xw(e);oE(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let u=bE(r);o=mE(a[c],u,n)}return o}function Xw(e,t,i,n){t===void 0&&(t=[]),i===void 0&&(i=[]),n===void 0&&(n="");let s=(r,a,o)=>{let c={relativePath:o===void 0?r.path||"":o,caseSensitive:r.caseSensitive===!0,childrenIndex:a,route:r};c.relativePath.startsWith("/")&&(Tt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Ds([n,c.relativePath]),h=i.concat(c);r.children&&r.children.length>0&&(Tt(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Xw(r.children,t,h,u)),!(r.path==null&&!r.index)&&t.push({path:u,score:pE(u,r.index),routesMeta:h})};return e.forEach((r,a)=>{var o;if(r.path===""||!((o=r.path)!=null&&o.includes("?")))s(r,a);else for(let c of Yw(r.path))s(r,a,c)}),t}function Yw(e){let t=e.split("/");if(t.length===0)return[];let[i,...n]=t,s=i.endsWith("?"),r=i.replace(/\?$/,"");if(n.length===0)return s?[r,""]:[r];let a=Yw(n.join("/")),o=[];return o.push(...a.map(c=>c===""?r:[r,c].join("/"))),s&&o.push(...a),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function oE(e){e.sort((t,i)=>t.score!==i.score?i.score-t.score:gE(t.routesMeta.map(n=>n.childrenIndex),i.routesMeta.map(n=>n.childrenIndex)))}const lE=/^:[\w-]+$/,cE=3,uE=2,hE=1,dE=10,fE=-2,Tb=e=>e==="*";function pE(e,t){let i=e.split("/"),n=i.length;return i.some(Tb)&&(n+=fE),t&&(n+=uE),i.filter(s=>!Tb(s)).reduce((s,r)=>s+(lE.test(r)?cE:r===""?hE:dE),n)}function gE(e,t){return e.length===t.length&&e.slice(0,-1).every((i,n)=>i===t[n])?e[e.length-1]-t[t.length-1]:0}function mE(e,t,i){let{routesMeta:n}=e,s={},r="/",a=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,h=r==="/"?t:t.slice(r.length)||"/",d=qd({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),f=c.route;if(!d&&u&&i&&!n[n.length-1].route.index&&(d=qd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!d)return null;Object.assign(s,d.params),a.push({params:s,pathname:Ds([r,d.pathname]),pathnameBase:kE(Ds([r,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(r=Ds([r,d.pathnameBase]))}return a}function qd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[i,n]=vE(e.path,e.caseSensitive,e.end),s=t.match(i);if(!s)return null;let r=s[0],a=r.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((c,u,h)=>{let{paramName:d,isOptional:f}=u;if(d==="*"){let g=o[h]||"";a=r.slice(0,r.length-g.length).replace(/(.)\/+$/,"$1")}const p=o[h];return f&&!p?c[d]=void 0:c[d]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:r,pathnameBase:a,pattern:e}}function vE(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=!0),Kw(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(r,a,o)=>(n.push({paramName:a,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function bE(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Kw(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Mo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,n=e.charAt(i);return n&&n!=="/"?null:e.slice(i)||"/"}function yE(e,t){t===void 0&&(t="/");let{pathname:i,search:n="",hash:s=""}=typeof e=="string"?No(e):e;return{pathname:i?i.startsWith("/")?i:wE(i,t):t,search:_E(n),hash:SE(s)}}function wE(e,t){let i=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?i.length>1&&i.pop():n!=="."&&i.push(n)}),i.length>1?i.join("/"):"/"}function Fp(e,t,i,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function AE(e){return e.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function Qw(e,t){let i=AE(e);return t?i.map((n,s)=>s===i.length-1?n.pathname:n.pathnameBase):i.map(n=>n.pathnameBase)}function Jw(e,t,i,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=No(e):(s=jc({},e),Tt(!s.pathname||!s.pathname.includes("?"),Fp("?","pathname","search",s)),Tt(!s.pathname||!s.pathname.includes("#"),Fp("#","pathname","hash",s)),Tt(!s.search||!s.search.includes("#"),Fp("#","search","hash",s)));let r=e===""||s.pathname==="",a=r?"/":s.pathname,o;if(a==null)o=i;else{let d=t.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}o=d>=0?t[d]:"/"}let c=yE(s,o),u=a&&a!=="/"&&a.endsWith("/"),h=(r||a===".")&&i.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const Ds=e=>e.join("/").replace(/\/\/+/g,"/"),kE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_E=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,SE=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function xE(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Zw=["post","put","patch","delete"];new Set(Zw);const EE=["get",...Zw];new Set(EE);/**
* React Router v6.24.1
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function zc(){return zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},zc.apply(this,arguments)}const Gf=R.createContext(null),tA=R.createContext(null),Hs=R.createContext(null),qf=R.createContext(null),$r=R.createContext({outlet:null,matches:[],isDataRoute:!1}),eA=R.createContext(null);function CE(e,t){let{relative:i}=t===void 0?{}:t;Kc()||Tt(!1);let{basename:n,navigator:s}=R.useContext(Hs),{hash:r,pathname:a,search:o}=Kf(e,{relative:i}),c=a;return n!=="/"&&(c=a==="/"?n:Ds([n,a])),s.createHref({pathname:c,search:o,hash:r})}function Kc(){return R.useContext(qf)!=null}function Xc(){return Kc()||Tt(!1),R.useContext(qf).location}function iA(e){R.useContext(Hs).static||R.useLayoutEffect(e)}function ME(){let{isDataRoute:e}=R.useContext($r);return e?BE():TE()}function TE(){Kc()||Tt(!1);let e=R.useContext(Gf),{basename:t,future:i,navigator:n}=R.useContext(Hs),{matches:s}=R.useContext($r),{pathname:r}=Xc(),a=JSON.stringify(Qw(s,i.v7_relativeSplatPath)),o=R.useRef(!1);return iA(()=>{o.current=!0}),R.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=Jw(c,JSON.parse(a),r,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Ds([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,a,r,e])}function Kf(e,t){let{relative:i}=t===void 0?{}:t,{future:n}=R.useContext(Hs),{matches:s}=R.useContext($r),{pathname:r}=Xc(),a=JSON.stringify(Qw(s,n.v7_relativeSplatPath));return R.useMemo(()=>Jw(e,JSON.parse(a),r,i==="path"),[e,a,r,i])}function RE(e,t){return PE(e,t)}function PE(e,t,i,n){Kc()||Tt(!1);let{navigator:s}=R.useContext(Hs),{matches:r}=R.useContext($r),a=r[r.length-1],o=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Xc(),h;if(t){var d;let _=typeof t=="string"?No(t):t;c==="/"||(d=_.pathname)!=null&&d.startsWith(c)||Tt(!1),h=_}else h=u;let f=h.pathname||"/",p=f;if(c!=="/"){let _=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(_.length).join("/")}let g=rE(e,{pathname:p}),b=FE(g&&g.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:Ds([c,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:Ds([c,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),r,i,n);return t&&b?R.createElement(qf.Provider,{value:{location:zc({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ss.Pop}},b):b}function LE(){let e=zE(),t=xE(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},t),i?R.createElement("pre",{style:n},i):null,null)}const IE=R.createElement(LE,null);class NE extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,i){return i.location!==t.location||i.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:i.error,location:i.location,revalidation:t.revalidation||i.revalidation}}componentDidCatch(t,i){console.error("React Router caught the following error during render",t,i)}render(){return this.state.error!==void 0?R.createElement($r.Provider,{value:this.props.routeContext},R.createElement(eA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function DE(e){let{routeContext:t,match:i,children:n}=e,s=R.useContext(Gf);return s&&s.static&&s.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=i.route.id),R.createElement($r.Provider,{value:t},n)}function FE(e,t,i,n){var s;if(t===void 0&&(t=[]),i===void 0&&(i=null),n===void 0&&(n=null),e==null){var r;if((r=i)!=null&&r.errors)e=i.matches;else return null}let a=e,o=(s=i)==null?void 0:s.errors;if(o!=null){let h=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);h>=0||Tt(!1),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,u=-1;if(i&&n&&n.v7_partialHydration)for(let h=0;h<a.length;h++){let d=a[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:f,errors:p}=i,g=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,d,f)=>{let p,g=!1,b=null,_=null;i&&(p=o&&d.route.id?o[d.route.id]:void 0,b=d.route.errorElement||IE,c&&(u<0&&f===0?(g=!0,_=null):u===f&&(g=!0,_=d.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,f+1)),m=()=>{let A;return p?A=b:g?A=_:d.route.Component?A=R.createElement(d.route.Component,null):d.route.element?A=d.route.element:A=h,R.createElement(DE,{match:d,routeContext:{outlet:h,matches:v,isDataRoute:i!=null},children:A})};return i&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?R.createElement(NE,{location:i.location,revalidation:i.revalidation,component:b,error:p,children:m(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):m()},null)}var nA=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(nA||{}),Kd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Kd||{});function OE(e){let t=R.useContext(Gf);return t||Tt(!1),t}function WE(e){let t=R.useContext(tA);return t||Tt(!1),t}function jE(e){let t=R.useContext($r);return t||Tt(!1),t}function sA(e){let t=jE(),i=t.matches[t.matches.length-1];return i.route.id||Tt(!1),i.route.id}function zE(){var e;let t=R.useContext(eA),i=WE(Kd.UseRouteError),n=sA(Kd.UseRouteError);return t!==void 0?t:(e=i.errors)==null?void 0:e[n]}function BE(){let{router:e}=OE(nA.UseNavigateStable),t=sA(Kd.UseNavigateStable),i=R.useRef(!1);return iA(()=>{i.current=!0}),R.useCallback(function(n,s){s===void 0&&(s={}),i.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,zc({fromRouteId:t},s)))},[e,t])}function ol(e){Tt(!1)}function HE(e){let{basename:t="/",children:i=null,location:n,navigationType:s=Ss.Pop,navigator:r,static:a=!1,future:o}=e;Kc()&&Tt(!1);let c=t.replace(/^\/*/,"/"),u=R.useMemo(()=>({basename:c,navigator:r,static:a,future:zc({v7_relativeSplatPath:!1},o)}),[c,o,r,a]);typeof n=="string"&&(n=No(n));let{pathname:h="/",search:d="",hash:f="",state:p=null,key:g="default"}=n,b=R.useMemo(()=>{let _=Mo(h,c);return _==null?null:{location:{pathname:_,search:d,hash:f,state:p,key:g},navigationType:s}},[c,h,d,f,p,g,s]);return b==null?null:R.createElement(Hs.Provider,{value:u},R.createElement(qf.Provider,{children:i,value:b}))}function $E(e){let{children:t,location:i}=e;return RE(Gg(t),i)}new Promise(()=>{});function Gg(e,t){t===void 0&&(t=[]);let i=[];return R.Children.forEach(e,(n,s)=>{if(!R.isValidElement(n))return;let r=[...t,s];if(n.type===R.Fragment){i.push.apply(i,Gg(n.props.children,r));return}n.type!==ol&&Tt(!1),!n.props.index||!n.props.children||Tt(!1);let a={id:n.props.id||r.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Gg(n.props.children,r)),i.push(a)}),i}/**
* React Router DOM v6.24.1
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function Xd(){return Xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Xd.apply(this,arguments)}function rA(e,t){if(e==null)return{};var i={},n=Object.keys(e),s,r;for(r=0;r<n.length;r++)s=n[r],!(t.indexOf(s)>=0)&&(i[s]=e[s]);return i}function UE(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function VE(e,t){return e.button===0&&(!t||t==="_self")&&!UE(e)}const GE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],qE=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],KE="6";try{window.__reactRouterVersion=KE}catch{}const XE=R.createContext({isTransitioning:!1}),YE="startTransition",Rb=U_[YE];function QE(e){let{basename:t,children:i,future:n,window:s}=e,r=R.useRef();r.current==null&&(r.current=iE({window:s,v5Compat:!0}));let a=r.current,[o,c]=R.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},h=R.useCallback(d=>{u&&Rb?Rb(()=>c(d)):c(d)},[c,u]);return R.useLayoutEffect(()=>a.listen(h),[a,h]),R.createElement(HE,{basename:t,children:i,location:o.location,navigationType:o.action,navigator:a,future:n})}const JE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tC=R.forwardRef(function(e,t){let{onClick:i,relative:n,reloadDocument:s,replace:r,state:a,target:o,to:c,preventScrollReset:u,unstable_viewTransition:h}=e,d=rA(e,GE),{basename:f}=R.useContext(Hs),p,g=!1;if(typeof c=="string"&&ZE.test(c)&&(p=c,JE))try{let m=new URL(window.location.href),A=c.startsWith("//")?new URL(m.protocol+c):new URL(c),S=Mo(A.pathname,f);A.origin===m.origin&&S!=null?c=S+A.search+A.hash:g=!0}catch{}let b=CE(c,{relative:n}),_=iC(c,{replace:r,state:a,target:o,preventScrollReset:u,relative:n,unstable_viewTransition:h});function v(m){i&&i(m),m.defaultPrevented||_(m)}return R.createElement("a",Xd({},d,{href:p||b,onClick:g||s?i:v,ref:t,target:o}))}),wu=R.forwardRef(function(e,t){let{"aria-current":i="page",caseSensitive:n=!1,className:s="",end:r=!1,style:a,to:o,unstable_viewTransition:c,children:u}=e,h=rA(e,qE),d=Kf(o,{relative:h.relative}),f=Xc(),p=R.useContext(tA),{navigator:g,basename:b}=R.useContext(Hs),_=p!=null&&nC(d)&&c===!0,v=g.encodeLocation?g.encodeLocation(d).pathname:d.pathname,m=f.pathname,A=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(m=m.toLowerCase(),A=A?A.toLowerCase():null,v=v.toLowerCase()),A&&b&&(A=Mo(A,b)||A);const S=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let x=m===v||!r&&m.startsWith(v)&&m.charAt(S)==="/",C=A!=null&&(A===v||!r&&A.startsWith(v)&&A.charAt(v.length)==="/"),T={isActive:x,isPending:C,isTransitioning:_},M=x?i:void 0,I;typeof s=="function"?I=s(T):I=[s,x?"active":null,C?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let P=typeof a=="function"?a(T):a;return R.createElement(tC,Xd({},h,{"aria-current":M,className:I,ref:t,style:P,to:o,unstable_viewTransition:c}),typeof u=="function"?u(T):u)});var qg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(qg||(qg={}));var Pb;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Pb||(Pb={}));function eC(e){let t=R.useContext(Gf);return t||Tt(!1),t}function iC(e,t){let{target:i,replace:n,state:s,preventScrollReset:r,relative:a,unstable_viewTransition:o}=t===void 0?{}:t,c=ME(),u=Xc(),h=Kf(e,{relative:a});return R.useCallback(d=>{if(VE(d,i)){d.preventDefault();let f=n!==void 0?n:Gd(u)===Gd(h);c(e,{replace:f,state:s,preventScrollReset:r,relative:a,unstable_viewTransition:o})}},[u,c,h,n,s,i,e,r,a,o])}function nC(e,t){t===void 0&&(t={});let i=R.useContext(XE);i==null&&Tt(!1);let{basename:n}=eC(qg.useViewTransitionState),s=Kf(e,{relative:t.relative});if(!i.isTransitioning)return!1;let r=Mo(i.currentLocation.pathname,n)||i.currentLocation.pathname,a=Mo(i.nextLocation.pathname,n)||i.nextLocation.pathname;return qd(s.pathname,a)!=null||qd(s.pathname,r)!=null}function sC(){return E.jsx("div",{className:"nav-bar-container",children:E.jsxs("ul",{children:[E.jsx("li",{className:"nav-link",children:E.jsx(wu,{to:"/",children:"Home"})}),E.jsx("li",{className:"nav-link",children:E.jsx(wu,{to:"/about",children:"About"})}),E.jsx("li",{className:"logo",children:E.jsx("a",{href:"/",children:"Se"})}),E.jsx("li",{className:"nav-link",children:E.jsx(wu,{to:"/projects",children:"Projects"})}),E.jsx("li",{className:"nav-link",children:E.jsx(wu,{to:"/resume",children:"Resume"})})]})})}function rC(){const e=new Date().getFullYear();return E.jsxs("div",{className:"footer",children:[E.jsx("p",{children:"Designed and Developed by Simon Ehrlich"}),E.jsxs("p",{children:["Copyright © ",e," Se"]})]})}const aC="/assets/profile-picture-wecbxZL_.jpg";var aA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Lb=On.createContext&&On.createContext(aA),oC=["attr","size","title"];function lC(e,t){if(e==null)return{};var i=cC(e,t),n,s;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(s=0;s<r.length;s++)n=r[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cC(e,t){if(e==null)return{};var i={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;i[n]=e[n]}return i}function Yd(){return Yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Yd.apply(this,arguments)}function Ib(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),i.push.apply(i,n)}return i}function Qd(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Ib(Object(i),!0).forEach(function(n){uC(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ib(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function uC(e,t,i){return t=hC(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function hC(e){var t=dC(e,"string");return typeof t=="symbol"?t:t+""}function dC(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oA(e){return e&&e.map((t,i)=>On.createElement(t.tag,Qd({key:i},t.attr),oA(t.child)))}function Ur(e){return t=>On.createElement(fC,Yd({attr:Qd({},e.attr)},t),oA(e.child))}function fC(e){var t=i=>{var{attr:n,size:s,title:r}=e,a=lC(e,oC),o=s||i.size||"1em",c;return i.className&&(c=i.className),e.className&&(c=(c?c+" ":"")+e.className),On.createElement("svg",Yd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,n,a,{className:c,style:Qd(Qd({color:e.color||i.color},i.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),r&&On.createElement("title",null,r),e.children)};return Lb!==void 0?On.createElement(Lb.Consumer,null,i=>t(i)):t(aA)}function pC(e){return Ur({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(e)}function gC(e){return Ur({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(e)}function mC(e){return Ur({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function vC(e){return Ur({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"},child:[]}]})(e)}function bC(e){return Ur({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function yC(e){return Ur({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(e)}function ln(e){return Ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"},child:[]}]})(e)}function wC(){return E.jsx("div",{id:"content-container",children:E.jsxs("main",{className:"main",children:[E.jsx("img",{id:"my-picture",src:aC,alt:""}),E.jsxs("div",{className:"main-content",children:[E.jsxs("h1",{children:["Hi, I","'","m ",E.jsx("span",{className:"blue",children:"Simon"})," ",E.jsx("span",{id:"wave",children:"👋🏻"})]}),E.jsxs("h2",{children:["I","'","m a ",E.jsx("span",{className:"blue",children:"F"}),"rontend"," ",E.jsx("span",{className:"blue",children:"R"}),"eact ",E.jsx("span",{className:"blue",children:"D"}),"eveloper."]}),E.jsxs("ul",{className:"list",children:[E.jsxs("li",{className:"list-element",children:[" ",E.jsx("span",{className:"list-icons",children:"🥛"}),"fueled by Water"]}),E.jsxs("li",{className:"list-element",children:[" ",E.jsx("span",{className:"list-icons",children:"🌍"}),"based in Prague CZ/ Prešov SK"]}),E.jsxs("li",{className:"list-element",children:[" ",E.jsx("span",{className:"list-icons",children:"👨🏻‍💻"}),"junior FE dev"]}),E.jsxs("li",{className:"list-element",children:[" ",E.jsx("span",{className:"list-icons",children:"📧"}),"ehrlich97@gmail.com"]})]}),E.jsxs("div",{className:"social-icons",children:[E.jsx("a",{href:"https://www.facebook.com/simon.ehrlich.10/",children:E.jsx(pC,{})}),E.jsx("a",{href:"https://www.facebook.com/simon.ehrlich.10/",children:E.jsx(mC,{})}),E.jsx("a",{href:"https://github.com/Saynomis",children:E.jsx(gC,{})}),E.jsx("a",{href:"https://www.linkedin.com/in/simon-ehrlich-993151214/",children:E.jsx(vC,{})})]})]})]})})}function AC(){return E.jsxs("div",{className:"main-container",children:[E.jsxs("section",{className:"block-container",children:[E.jsxs("div",{className:"upper-line",children:[E.jsx("i",{className:"red",children:E.jsx(ln,{})}),E.jsx("i",{className:"yellow",children:E.jsx(ln,{})}),E.jsx("i",{className:"green",children:E.jsx(ln,{})})]}),E.jsxs("div",{children:[E.jsxs("p",{children:[" ",E.jsx("span",{className:"super-color",children:"simonehrlich $"})," cat aboutSimon"]}),E.jsxs("p",{children:[E.jsx("span",{className:"super-color",children:"aboutsimon (main) $"})," Hello!"," ","I'm"," Simon 🙋🏻‍♂️. Beginner in web development focused on frontend React, looking to find a job as a junior frontend developer. In the last six months, I have spent time self-learning by completing courses."]})]})]}),E.jsxs("section",{className:"block-container",children:[E.jsxs("div",{className:"upper-line",children:[E.jsx("i",{className:"red",children:E.jsx(ln,{})}),E.jsx("i",{className:"yellow",children:E.jsx(ln,{})}),E.jsx("i",{className:"green",children:E.jsx(ln,{})})]}),E.jsxs("div",{children:[E.jsxs("p",{children:[" ",E.jsx("span",{className:"super-color",children:"simonehrlich $"})," cd skills/tools"]}),E.jsxs("p",{children:[" ",E.jsx("span",{className:"super-color",children:"skills/tools (main) $"})," ls"]}),E.jsxs("ul",{children:[E.jsx("li",{children:"html5"}),E.jsx("li",{children:"css3"}),E.jsx("li",{children:"javascript"}),E.jsx("li",{children:"bootstrap"}),E.jsx("li",{children:"react"}),E.jsx("li",{children:"git"}),E.jsx("li",{children:"github"})]})]})]}),E.jsxs("section",{className:"block-container",children:[E.jsxs("div",{className:"upper-line",children:[E.jsx("i",{className:"red",children:E.jsx(ln,{})}),E.jsx("i",{className:"yellow",children:E.jsx(ln,{})}),E.jsx("i",{className:"green",children:E.jsx(ln,{})})]}),E.jsxs("div",{children:[E.jsxs("p",{children:[" ",E.jsx("span",{className:"super-color",children:"simonehrlich $"})," cd hobbies/interests"]}),E.jsxs("p",{children:[E.jsx("span",{className:"super-color",children:"hobbies/interests (main) $"})," ls"]}),E.jsxs("ul",{children:[E.jsx("li",{children:"🍿 movies"}),E.jsx("li",{children:"👨🏼‍🍳 cooking"}),E.jsx("li",{children:"🎮 gaming"}),E.jsx("li",{children:"🏊🏼‍♂️ swimming"})]})]})]})]})}const kC="modulepreload",_C=function(e){return"/"+e},Nb={},Au=function(e,t,i){let n=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),r=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));n=Promise.all(t.map(a=>{if(a=_C(a),a in Nb)return;Nb[a]=!0;const o=a.endsWith(".css"),c=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":kC,o||(u.as="script",u.crossOrigin=""),u.href=a,r&&u.setAttribute("nonce",r),document.head.appendChild(u),o)return new Promise((h,d)=>{u.addEventListener("load",h),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})}))}return n.then(()=>e()).catch(s=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=s,window.dispatchEvent(r),!r.defaultPrevented)throw s})};var ac={};ac.d=(e,t)=>{for(var i in t)ac.o(t,i)&&!ac.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})};ac.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var q=globalThis.pdfjsLib={};ac.d(q,{AbortException:()=>Gr,AnnotationEditorLayer:()=>DT,AnnotationEditorParamsType:()=>K,AnnotationEditorType:()=>nt,AnnotationEditorUIManager:()=>Bc,AnnotationLayer:()=>RT,AnnotationMode:()=>ds,CMapCompressionType:()=>Xg,ColorPicker:()=>Dk,DOMSVGFactory:()=>o0,DrawLayer:()=>FT,FeatureTest:()=>Ue,GlobalWorkerOptions:()=>Ws,ImageKind:()=>Qu,InvalidPDFException:()=>cA,MissingPDFException:()=>Vr,OPS:()=>Mi,Outliner:()=>Bm,PDFDataRangeTransport:()=>ak,PDFDateString:()=>bA,PDFWorker:()=>Nh,PasswordResponses:()=>CC,PermissionFlag:()=>EC,PixelsPerInch:()=>To,RenderingCancelledException:()=>l0,TextLayer:()=>hf,UnexpectedResponseException:()=>Jf,Util:()=>j,VerbosityLevel:()=>Xf,XfaLayer:()=>ck,build:()=>cT,createValidAbsoluteUrl:()=>PC,fetchData:()=>np,getDocument:()=>JM,getFilenameFromUrl:()=>HC,getPdfFilenameFromUrl:()=>$C,getXfaPageViewport:()=>UC,isDataScheme:()=>c0,isPdfFile:()=>u0,noContextMenu:()=>$e,normalizeUnicode:()=>OC,renderTextLayer:()=>$M,setLayerDimensions:()=>Wr,shadow:()=>st,updateTextLayer:()=>UM,version:()=>lT});const Ae=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),lA=[1,0,0,1,0,0],Kg=[.001,0,0,.001,0,0],SC=1e7,Op=1.35,ci={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},ds={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},xC="pdfjs_internal_editor_",nt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},K={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},EC={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},ue={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Qu={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ot={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Uo={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Xf={ERRORS:0,WARNINGS:1,INFOS:5},Xg={NONE:0,BINARY:1},Mi={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},CC={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Yf=Xf.WARNINGS;function MC(e){Number.isInteger(e)&&(Yf=e)}function TC(){return Yf}function Qf(e){Yf>=Xf.INFOS&&console.log(`Info: ${e}`)}function J(e){Yf>=Xf.WARNINGS&&console.log(`Warning: ${e}`)}function ct(e){throw new Error(e)}function Bt(e,t){e||ct(t)}function RC(e){switch(e==null?void 0:e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function PC(e,t=null,i=null){if(!e)return null;try{if(i&&typeof e=="string"){if(i.addDefaultProtocol&&e.startsWith("www.")){const s=e.match(/\./g);(s==null?void 0:s.length)>=2&&(e=`http://${e}`)}if(i.tryConvertEncoding)try{e=FC(e)}catch{}}const n=t?new URL(e,t):new URL(e);if(RC(n))return n}catch{}return null}function st(e,t,i,n=!1){return Object.defineProperty(e,t,{value:i,enumerable:!n,configurable:!0,writable:!1}),i}const $s=function(){function e(t,i){this.constructor===e&&ct("Cannot initialize BaseException."),this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e}();class Yg extends $s{constructor(t,i){super(t,"PasswordException"),this.code=i}}class Qg extends $s{constructor(t,i){super(t,"UnknownErrorException"),this.details=i}}class cA extends $s{constructor(t){super(t,"InvalidPDFException")}}class Vr extends $s{constructor(t){super(t,"MissingPDFException")}}class Jf extends $s{constructor(t,i){super(t,"UnexpectedResponseException"),this.status=i}}class LC extends $s{constructor(t){super(t,"FormatError")}}class Gr extends $s{constructor(t){super(t,"AbortException")}}function uA(e){(typeof e!="object"||(e==null?void 0:e.length)===void 0)&&ct("Invalid argument for bytesToString");const t=e.length,i=8192;if(t<i)return String.fromCharCode.apply(null,e);const n=[];for(let s=0;s<t;s+=i){const r=Math.min(s+i,t),a=e.subarray(s,r);n.push(String.fromCharCode.apply(null,a))}return n.join("")}function Zf(e){typeof e!="string"&&ct("Invalid argument for stringToBytes");const t=e.length,i=new Uint8Array(t);for(let n=0;n<t;++n)i[n]=e.charCodeAt(n)&255;return i}function IC(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,e&255)}function r0(e){const t=Object.create(null);for(const[i,n]of e)t[i]=n;return t}function NC(){const e=new Uint8Array(4);return e[0]=1,new Uint32Array(e.buffer,0,1)[0]===1}function DC(){try{return new Function(""),!0}catch{return!1}}class Ue{static get isLittleEndian(){return st(this,"isLittleEndian",NC())}static get isEvalSupported(){return st(this,"isEvalSupported",DC())}static get isOffscreenCanvasSupported(){return st(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?st(this,"platform",{isMac:navigator.platform.includes("Mac")}):st(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var t,i;return st(this,"isCSSRoundSupported",(i=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:i.call(t,"width: round(1.5px, 1px)"))}}const Wp=Array.from(Array(256).keys(),e=>e.toString(16).padStart(2,"0"));var pr,ku,Jg;class j{static makeHexColor(t,i,n){return`#${Wp[t]}${Wp[i]}${Wp[n]}`}static scaleMinMax(t,i){let n;t[0]?(t[0]<0&&(n=i[0],i[0]=i[2],i[2]=n),i[0]*=t[0],i[2]*=t[0],t[3]<0&&(n=i[1],i[1]=i[3],i[3]=n),i[1]*=t[3],i[3]*=t[3]):(n=i[0],i[0]=i[1],i[1]=n,n=i[2],i[2]=i[3],i[3]=n,t[1]<0&&(n=i[1],i[1]=i[3],i[3]=n),i[1]*=t[1],i[3]*=t[1],t[2]<0&&(n=i[0],i[0]=i[2],i[2]=n),i[0]*=t[2],i[2]*=t[2]),i[0]+=t[4],i[1]+=t[5],i[2]+=t[4],i[3]+=t[5]}static transform(t,i){return[t[0]*i[0]+t[2]*i[1],t[1]*i[0]+t[3]*i[1],t[0]*i[2]+t[2]*i[3],t[1]*i[2]+t[3]*i[3],t[0]*i[4]+t[2]*i[5]+t[4],t[1]*i[4]+t[3]*i[5]+t[5]]}static applyTransform(t,i){const n=t[0]*i[0]+t[1]*i[2]+i[4],s=t[0]*i[1]+t[1]*i[3]+i[5];return[n,s]}static applyInverseTransform(t,i){const n=i[0]*i[3]-i[1]*i[2],s=(t[0]*i[3]-t[1]*i[2]+i[2]*i[5]-i[4]*i[3])/n,r=(-t[0]*i[1]+t[1]*i[0]+i[4]*i[1]-i[5]*i[0])/n;return[s,r]}static getAxialAlignedBoundingBox(t,i){const n=this.applyTransform(t,i),s=this.applyTransform(t.slice(2,4),i),r=this.applyTransform([t[0],t[3]],i),a=this.applyTransform([t[2],t[1]],i);return[Math.min(n[0],s[0],r[0],a[0]),Math.min(n[1],s[1],r[1],a[1]),Math.max(n[0],s[0],r[0],a[0]),Math.max(n[1],s[1],r[1],a[1])]}static inverseTransform(t){const i=t[0]*t[3]-t[1]*t[2];return[t[3]/i,-t[1]/i,-t[2]/i,t[0]/i,(t[2]*t[5]-t[4]*t[3])/i,(t[4]*t[1]-t[5]*t[0])/i]}static singularValueDecompose2dScale(t){const i=[t[0],t[2],t[1],t[3]],n=t[0]*i[0]+t[1]*i[2],s=t[0]*i[1]+t[1]*i[3],r=t[2]*i[0]+t[3]*i[2],a=t[2]*i[1]+t[3]*i[3],o=(n+a)/2,c=Math.sqrt((n+a)**2-4*(n*a-r*s))/2,u=o+c||1,h=o-c||1;return[Math.sqrt(u),Math.sqrt(h)]}static normalizeRect(t){const i=t.slice(0);return t[0]>t[2]&&(i[0]=t[2],i[2]=t[0]),t[1]>t[3]&&(i[1]=t[3],i[3]=t[1]),i}static intersect(t,i){const n=Math.max(Math.min(t[0],t[2]),Math.min(i[0],i[2])),s=Math.min(Math.max(t[0],t[2]),Math.max(i[0],i[2]));if(n>s)return null;const r=Math.max(Math.min(t[1],t[3]),Math.min(i[1],i[3])),a=Math.min(Math.max(t[1],t[3]),Math.max(i[1],i[3]));return r>a?null:[n,r,s,a]}static bezierBoundingBox(t,i,n,s,r,a,o,c,u){return u?(u[0]=Math.min(u[0],t,o),u[1]=Math.min(u[1],i,c),u[2]=Math.max(u[2],t,o),u[3]=Math.max(u[3],i,c)):u=[Math.min(t,o),Math.min(i,c),Math.max(t,o),Math.max(i,c)],w(this,pr,Jg).call(this,t,n,r,o,i,s,a,c,3*(-t+3*(n-r)+o),6*(t-2*n+r),3*(n-t),u),w(this,pr,Jg).call(this,t,n,r,o,i,s,a,c,3*(-i+3*(s-a)+c),6*(i-2*s+a),3*(s-i),u),u}}pr=new WeakSet,ku=function(e,t,i,n,s,r,a,o,c,u){if(c<=0||c>=1)return;const h=1-c,d=c*c,f=d*c,p=h*(h*(h*e+3*c*t)+3*d*i)+f*n,g=h*(h*(h*s+3*c*r)+3*d*a)+f*o;u[0]=Math.min(u[0],p),u[1]=Math.min(u[1],g),u[2]=Math.max(u[2],p),u[3]=Math.max(u[3],g)},Jg=function(e,t,i,n,s,r,a,o,c,u,h,d){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&w(this,pr,ku).call(this,e,t,i,n,s,r,a,o,-h/u,d);return}const f=u**2-4*h*c;if(f<0)return;const p=Math.sqrt(f),g=2*c;w(this,pr,ku).call(this,e,t,i,n,s,r,a,o,(-u+p)/g,d),w(this,pr,ku).call(this,e,t,i,n,s,r,a,o,(-u-p)/g,d)},k(j,pr);function FC(e){return decodeURIComponent(escape(e))}let jp=null,Db=null;function OC(e){return jp||(jp=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Db=new Map([["ﬅ","ſt"]])),e.replaceAll(jp,(t,i,n)=>i?i.normalize("NFKC"):Db.get(n))}function WC(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const e=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(e);else for(let t=0;t<32;t++)e[t]=Math.floor(Math.random()*255);return uA(e)}const hA="pdfjs_internal_id_",cn={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class tp{constructor(){this.constructor===tp&&ct("Cannot initialize BaseFilterFactory.")}addFilter(t){return"none"}addHCMFilter(t,i){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,i,n,s,r){return"none"}destroy(t=!1){}}var Ju;const jC=class dA{constructor({enableHWA:t=!1}={}){k(this,Ju,!1),this.constructor===dA&&ct("Cannot initialize BaseCanvasFactory."),y(this,Ju,t)}create(t,i){if(t<=0||i<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,i);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!l(this,Ju)})}}reset(t,i,n){if(!t.canvas)throw new Error("Canvas is not specified");if(i<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=i,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,i){ct("Abstract method `_createCanvas` called.")}};Ju=new WeakMap;let fA=jC;class ep{constructor({baseUrl:t=null,isCompressed:i=!0}){this.constructor===ep&&ct("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=t,this.isCompressed=i}async fetch({name:t}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!t)throw new Error("CMap name must be specified.");const i=this.baseUrl+t+(this.isCompressed?".bcmap":""),n=this.isCompressed?Xg.BINARY:Xg.NONE;return this._fetchData(i,n).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${i}`)})}_fetchData(t,i){ct("Abstract method `_fetchData` called.")}}class ip{constructor({baseUrl:t=null}){this.constructor===ip&&ct("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!t)throw new Error("Font filename must be specified.");const i=`${this.baseUrl}${t}`;return this._fetchData(i).catch(n=>{throw new Error(`Unable to load font data at: ${i}`)})}_fetchData(t){ct("Abstract method `_fetchData` called.")}}class a0{constructor(){this.constructor===a0&&ct("Cannot initialize BaseSVGFactory.")}create(t,i,n=!1){if(t<=0||i<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),n||(s.setAttribute("width",`${t}px`),s.setAttribute("height",`${i}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${t} ${i}`),s}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){ct("Abstract method `_createSVG` called.")}}const hn="http://www.w3.org/2000/svg",sa=class{};X(sa,"CSS",96),X(sa,"PDF",72),X(sa,"PDF_TO_CSS_UNITS",sa.CSS/sa.PDF);let To=sa;var Sr,Tn,qn,qe,Zu,ra,U,he,aa,$a,th,pA,Zg,oa,Vo,ll,tm,cl;class zC extends tp{constructor({docId:t,ownerDocument:i=globalThis.document}={}){super(),k(this,U),k(this,Sr),k(this,Tn),k(this,qn),k(this,qe),k(this,Zu),k(this,ra,0),y(this,qn,t),y(this,qe,i)}addFilter(t){if(!t)return"none";let i=l(this,U,he).get(t);if(i)return i;const[n,s,r]=w(this,U,th).call(this,t),a=t.length===1?n:`${n}${s}${r}`;if(i=l(this,U,he).get(a),i)return l(this,U,he).set(t,i),i;const o=`g_${l(this,qn)}_transfer_map_${bi(this,ra)._++}`,c=`url(#${o})`;l(this,U,he).set(t,c),l(this,U,he).set(a,c);const u=w(this,U,oa).call(this,o);return w(this,U,ll).call(this,n,s,r,u),c}addHCMFilter(t,i){var n;const s=`${t}-${i}`,r="base";let a=l(this,U,aa).get(r);if((a==null?void 0:a.key)===s||(a?((n=a.filter)==null||n.remove(),a.key=s,a.url="none",a.filter=null):(a={key:s,url:"none",filter:null},l(this,U,aa).set(r,a)),!t||!i))return a.url;const o=w(this,U,cl).call(this,t);t=j.makeHexColor(...o);const c=w(this,U,cl).call(this,i);if(i=j.makeHexColor(...c),l(this,U,$a).style.color="",t==="#000000"&&i==="#ffffff"||t===i)return a.url;const u=new Array(256);for(let g=0;g<=255;g++){const b=g/255;u[g]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}const h=u.join(","),d=`g_${l(this,qn)}_hcm_filter`,f=a.filter=w(this,U,oa).call(this,d);w(this,U,ll).call(this,h,h,h,f),w(this,U,Zg).call(this,f);const p=(g,b)=>{const _=o[g]/255,v=c[g]/255,m=new Array(b+1);for(let A=0;A<=b;A++)m[A]=_+A/b*(v-_);return m.join(",")};return w(this,U,ll).call(this,p(0,5),p(1,5),p(2,5),f),a.url=`url(#${d})`,a.url}addAlphaFilter(t){let i=l(this,U,he).get(t);if(i)return i;const[n]=w(this,U,th).call(this,[t]),s=`alpha_${n}`;if(i=l(this,U,he).get(s),i)return l(this,U,he).set(t,i),i;const r=`g_${l(this,qn)}_alpha_map_${bi(this,ra)._++}`,a=`url(#${r})`;l(this,U,he).set(t,a),l(this,U,he).set(s,a);const o=w(this,U,oa).call(this,r);return w(this,U,tm).call(this,n,o),a}addLuminosityFilter(t){let i=l(this,U,he).get(t||"luminosity");if(i)return i;let n,s;if(t?([n]=w(this,U,th).call(this,[t]),s=`luminosity_${n}`):s="luminosity",i=l(this,U,he).get(s),i)return l(this,U,he).set(t,i),i;const r=`g_${l(this,qn)}_luminosity_map_${bi(this,ra)._++}`,a=`url(#${r})`;l(this,U,he).set(t,a),l(this,U,he).set(s,a);const o=w(this,U,oa).call(this,r);return w(this,U,pA).call(this,o),t&&w(this,U,tm).call(this,n,o),a}addHighlightHCMFilter(t,i,n,s,r){var a;const o=`${i}-${n}-${s}-${r}`;let c=l(this,U,aa).get(t);if((c==null?void 0:c.key)===o||(c?((a=c.filter)==null||a.remove(),c.key=o,c.url="none",c.filter=null):(c={key:o,url:"none",filter:null},l(this,U,aa).set(t,c)),!i||!n))return c.url;const[u,h]=[i,n].map(w(this,U,cl).bind(this));let d=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),f=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[p,g]=[s,r].map(w(this,U,cl).bind(this));f<d&&([d,f,p,g]=[f,d,g,p]),l(this,U,$a).style.color="";const b=(m,A,S)=>{const x=new Array(256),C=(f-d)/S,T=m/255,M=(A-m)/(255*S);let I=0;for(let P=0;P<=S;P++){const O=Math.round(d+P*C),Y=T+P*M;for(let B=I;B<=O;B++)x[B]=Y;I=O+1}for(let P=I;P<256;P++)x[P]=x[I-1];return x.join(",")},_=`g_${l(this,qn)}_hcm_${t}_filter`,v=c.filter=w(this,U,oa).call(this,_);return w(this,U,Zg).call(this,v),w(this,U,ll).call(this,b(p[0],g[0],5),b(p[1],g[1],5),b(p[2],g[2],5),v),c.url=`url(#${_})`,c.url}destroy(t=!1){t&&l(this,U,aa).size!==0||(l(this,Tn)&&(l(this,Tn).parentNode.parentNode.remove(),y(this,Tn,null)),l(this,Sr)&&(l(this,Sr).clear(),y(this,Sr,null)),y(this,ra,0))}}Sr=new WeakMap,Tn=new WeakMap,qn=new WeakMap,qe=new WeakMap,Zu=new WeakMap,ra=new WeakMap,U=new WeakSet,he=function(){return l(this,Sr)||y(this,Sr,new Map)},aa=function(){return l(this,Zu)||y(this,Zu,new Map)},$a=function(){if(!l(this,Tn)){const e=l(this,qe).createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const i=l(this,qe).createElementNS(hn,"svg");i.setAttribute("width",0),i.setAttribute("height",0),y(this,Tn,l(this,qe).createElementNS(hn,"defs")),e.append(i),i.append(l(this,Tn)),l(this,qe).body.append(e)}return l(this,Tn)},th=function(e){if(e.length===1){const o=e[0],c=new Array(256);for(let h=0;h<256;h++)c[h]=o[h]/255;const u=c.join(",");return[u,u,u]}const[t,i,n]=e,s=new Array(256),r=new Array(256),a=new Array(256);for(let o=0;o<256;o++)s[o]=t[o]/255,r[o]=i[o]/255,a[o]=n[o]/255;return[s.join(","),r.join(","),a.join(",")]},pA=function(e){const t=l(this,qe).createElementNS(hn,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)},Zg=function(e){const t=l(this,qe).createElementNS(hn,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)},oa=function(e){const t=l(this,qe).createElementNS(hn,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),l(this,U,$a).append(t),t},Vo=function(e,t,i){const n=l(this,qe).createElementNS(hn,t);n.setAttribute("type","discrete"),n.setAttribute("tableValues",i),e.append(n)},ll=function(e,t,i,n){const s=l(this,qe).createElementNS(hn,"feComponentTransfer");n.append(s),w(this,U,Vo).call(this,s,"feFuncR",e),w(this,U,Vo).call(this,s,"feFuncG",t),w(this,U,Vo).call(this,s,"feFuncB",i)},tm=function(e,t){const i=l(this,qe).createElementNS(hn,"feComponentTransfer");t.append(i),w(this,U,Vo).call(this,i,"feFuncA",e)},cl=function(e){return l(this,U,$a).style.color=e,h0(getComputedStyle(l(this,U,$a)).getPropertyValue("color"))};class BC extends fA{constructor({ownerDocument:t=globalThis.document,enableHWA:i=!1}={}){super({enableHWA:i}),this._document=t}_createCanvas(t,i){const n=this._document.createElement("canvas");return n.width=t,n.height=i,n}}async function np(e,t="text"){if(ul(e,document.baseURI)){const i=await fetch(e);if(!i.ok)throw new Error(i.statusText);switch(t){case"arraybuffer":return i.arrayBuffer();case"blob":return i.blob();case"json":return i.json()}return i.text()}return new Promise((i,n)=>{const s=new XMLHttpRequest;s.open("GET",e,!0),s.responseType=t,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(t){case"arraybuffer":case"blob":case"json":i(s.response);return}i(s.responseText);return}n(new Error(s.statusText))}},s.send(null)})}class gA extends ep{_fetchData(t,i){return np(t,this.isCompressed?"arraybuffer":"text").then(n=>({cMapData:n instanceof ArrayBuffer?new Uint8Array(n):Zf(n),compressionType:i}))}}class mA extends ip{_fetchData(t){return np(t,"arraybuffer").then(i=>new Uint8Array(i))}}class o0 extends a0{_createSVG(t){return document.createElementNS(hn,t)}}class Yc{constructor({viewBox:t,scale:i,rotation:n,offsetX:s=0,offsetY:r=0,dontFlip:a=!1}){this.viewBox=t,this.scale=i,this.rotation=n,this.offsetX=s,this.offsetY=r;const o=(t[2]+t[0])/2,c=(t[3]+t[1])/2;let u,h,d,f;switch(n%=360,n<0&&(n+=360),n){case 180:u=-1,h=0,d=0,f=1;break;case 90:u=0,h=1,d=1,f=0;break;case 270:u=0,h=-1,d=-1,f=0;break;case 0:u=1,h=0,d=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(d=-d,f=-f);let p,g,b,_;u===0?(p=Math.abs(c-t[1])*i+s,g=Math.abs(o-t[0])*i+r,b=(t[3]-t[1])*i,_=(t[2]-t[0])*i):(p=Math.abs(o-t[0])*i+s,g=Math.abs(c-t[1])*i+r,b=(t[2]-t[0])*i,_=(t[3]-t[1])*i),this.transform=[u*i,h*i,d*i,f*i,p-u*i*o-d*i*c,g-h*i*o-f*i*c],this.width=b,this.height=_}get rawDims(){const{viewBox:t}=this;return st(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:i=this.rotation,offsetX:n=this.offsetX,offsetY:s=this.offsetY,dontFlip:r=!1}={}){return new Yc({viewBox:this.viewBox.slice(),scale:t,rotation:i,offsetX:n,offsetY:s,dontFlip:r})}convertToViewportPoint(t,i){return j.applyTransform([t,i],this.transform)}convertToViewportRectangle(t){const i=j.applyTransform([t[0],t[1]],this.transform),n=j.applyTransform([t[2],t[3]],this.transform);return[i[0],i[1],n[0],n[1]]}convertToPdfPoint(t,i){return j.applyInverseTransform([t,i],this.transform)}}class l0 extends $s{constructor(t,i=0){super(t,"RenderingCancelledException"),this.extraDelay=i}}function c0(e){const t=e.length;let i=0;for(;i<t&&e[i].trim()==="";)i++;return e.substring(i,i+5).toLowerCase()==="data:"}function u0(e){return typeof e=="string"&&/\.pdf$/i.test(e)}function HC(e){return[e]=e.split(/[#?]/,1),e.substring(e.lastIndexOf("/")+1)}function $C(e,t="document.pdf"){if(typeof e!="string")return t;if(c0(e))return J('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const i=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,s=i.exec(e);let r=n.exec(s[1])||n.exec(s[2])||n.exec(s[3]);if(r&&(r=r[0],r.includes("%")))try{r=n.exec(decodeURIComponent(r))[0]}catch{}return r||t}class Fb{constructor(){X(this,"started",Object.create(null)),X(this,"times",[])}time(t){t in this.started&&J(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||J(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let i=0;for(const{name:n}of this.times)i=Math.max(n.length,i);for(const{name:n,start:s,end:r}of this.times)t.push(`${n.padEnd(i)} ${r-s}ms
`);return t.join("")}}function ul(e,t){try{const{protocol:i}=t?new URL(e,t):new URL(e);return i==="http:"||i==="https:"}catch{return!1}}function $e(e){e.preventDefault()}function vA(e){console.log("Deprecated API usage: "+e)}let zp;class bA{static toDateObject(t){if(!t||typeof t!="string")return null;zp||(zp=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const i=zp.exec(t);if(!i)return null;const n=parseInt(i[1],10);let s=parseInt(i[2],10);s=s>=1&&s<=12?s-1:0;let r=parseInt(i[3],10);r=r>=1&&r<=31?r:1;let a=parseInt(i[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(i[5],10);o=o>=0&&o<=59?o:0;let c=parseInt(i[6],10);c=c>=0&&c<=59?c:0;const u=i[7]||"Z";let h=parseInt(i[8],10);h=h>=0&&h<=23?h:0;let d=parseInt(i[9],10)||0;return d=d>=0&&d<=59?d:0,u==="-"?(a+=h,o+=d):u==="+"&&(a-=h,o-=d),new Date(Date.UTC(n,s,r,a,o,c))}}function UC(e,{scale:t=1,rotation:i=0}){const{width:n,height:s}=e.attributes.style,r=[0,0,parseInt(n),parseInt(s)];return new Yc({viewBox:r,scale:t,rotation:i})}function h0(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map(t=>parseInt(t)):e.startsWith("rgba(")?e.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(J(`Not a valid color format: "${e}"`),[0,0,0])}function VC(e){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const i of e.keys()){t.style.color=i;const n=window.getComputedStyle(t).color;e.set(i,h0(n))}t.remove()}function _t(e){const{a:t,b:i,c:n,d:s,e:r,f:a}=e.getTransform();return[t,i,n,s,r,a]}function un(e){const{a:t,b:i,c:n,d:s,e:r,f:a}=e.getTransform().invertSelf();return[t,i,n,s,r,a]}function Wr(e,t,i=!1,n=!0){if(t instanceof Yc){const{pageWidth:s,pageHeight:r}=t.rawDims,{style:a}=e,o=Ue.isCSSRoundSupported,c=`var(--scale-factor) * ${s}px`,u=`var(--scale-factor) * ${r}px`,h=o?`round(${c}, 1px)`:`calc(${c})`,d=o?`round(${u}, 1px)`:`calc(${u})`;!i||t.rotation%180===0?(a.width=h,a.height=d):(a.width=d,a.height=h)}n&&e.setAttribute("data-main-rotation",t.rotation)}var la,ca,pi,Ua,em,yA,Qi,Ob,Wb,Jd,wA,im;const AA=class kA{constructor(t){k(this,Qi),k(this,la,null),k(this,ca,null),k(this,pi),k(this,Ua,null),y(this,pi,t)}render(){const t=y(this,la,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar");const i=l(this,pi)._uiManager._signal;t.addEventListener("contextmenu",$e,{signal:i}),t.addEventListener("pointerdown",w(kA,em,yA),{signal:i});const n=y(this,Ua,document.createElement("div"));n.className="buttons",t.append(n);const s=l(this,pi).toolbarPosition;if(s){const{style:r}=t,a=l(this,pi)._uiManager.direction==="ltr"?1-s[0]:s[0];r.insetInlineEnd=`${100*a}%`,r.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return w(this,Qi,wA).call(this),t}hide(){var t;l(this,la).classList.add("hidden"),(t=l(this,ca))==null||t.hideDropdown()}show(){l(this,la).classList.remove("hidden")}addAltTextButton(t){w(this,Qi,Jd).call(this,t),l(this,Ua).prepend(t,l(this,Qi,im))}addColorPicker(t){y(this,ca,t);const i=t.renderButton();w(this,Qi,Jd).call(this,i),l(this,Ua).prepend(i,l(this,Qi,im))}remove(){var t;l(this,la).remove(),(t=l(this,ca))==null||t.destroy(),y(this,ca,null)}};la=new WeakMap,ca=new WeakMap,pi=new WeakMap,Ua=new WeakMap,em=new WeakSet,yA=function(e){e.stopPropagation()},Qi=new WeakSet,Ob=function(e){l(this,pi)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},Wb=function(e){l(this,pi)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},Jd=function(e){const t=l(this,pi)._uiManager._signal;e.addEventListener("focusin",w(this,Qi,Ob).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",w(this,Qi,Wb).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",$e,{signal:t})},wA=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${l(this,pi).editorType}-button`),w(this,Qi,Jd).call(this,e),e.addEventListener("click",t=>{l(this,pi)._uiManager.delete()},{signal:l(this,pi)._uiManager._signal}),l(this,Ua).append(e)},im=function(){const e=document.createElement("div");return e.className="divider",e},k(AA,em);let GC=AA;var eh,gr,Va,oc,_A,SA,jb;class qC{constructor(t){k(this,oc),k(this,eh,null),k(this,gr,null),k(this,Va),y(this,Va,t)}show(t,i,n){const[s,r]=w(this,oc,SA).call(this,i,n),{style:a}=l(this,gr)||y(this,gr,w(this,oc,_A).call(this));t.append(l(this,gr)),a.insetInlineEnd=`${100*s}%`,a.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){l(this,gr).remove()}}eh=new WeakMap,gr=new WeakMap,Va=new WeakMap,oc=new WeakSet,_A=function(){const e=y(this,gr,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",$e,{signal:l(this,Va)._signal});const t=y(this,eh,document.createElement("div"));return t.className="buttons",e.append(t),w(this,oc,jb).call(this),e},SA=function(e,t){let i=0,n=0;for(const s of e){const r=s.y+s.height;if(r<i)continue;const a=s.x+(t?s.width:0);if(r>i){n=a,i=r;continue}t?a>n&&(n=a):a<n&&(n=a)}return[t?1-n:n,i]},jb=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=l(this,Va)._signal;e.addEventListener("contextmenu",$e,{signal:i}),e.addEventListener("click",()=>{l(this,Va).highlightSelection("floating_button")},{signal:i}),l(this,eh).append(e)};function Zd(e,t,i){for(const n of i)t.addEventListener(n,e[n].bind(e))}function KC(e){return Math.round(Math.min(255,Math.max(1,255*e))).toString(16).padStart(2,"0")}var nm;class XC{constructor(){k(this,nm,0)}get id(){return`${xC}${bi(this,nm)._++}`}}nm=new WeakMap;var tf,sm,Oe,ih,rm;const xA=class{constructor(){k(this,ih),k(this,tf,WC()),k(this,sm,0),k(this,Oe,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),n=new Image;n.src=t;const s=n.decode().then(()=>(i.drawImage(n,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return st(this,"_isSVGFittingCanvas",s)}async getFromFile(t){const{lastModified:i,name:n,size:s,type:r}=t;return w(this,ih,rm).call(this,`${i}_${n}_${s}_${r}`,t)}async getFromUrl(t){return w(this,ih,rm).call(this,t,t)}async getFromId(t){l(this,Oe)||y(this,Oe,new Map);const i=l(this,Oe).get(t);return i?i.bitmap?(i.refCounter+=1,i):i.file?this.getFromFile(i.file):this.getFromUrl(i.url):null}getSvgUrl(t){const i=l(this,Oe).get(t);return i!=null&&i.isSvg?i.svgUrl:null}deleteId(t){l(this,Oe)||y(this,Oe,new Map);const i=l(this,Oe).get(t);i&&(i.refCounter-=1,i.refCounter===0&&(i.bitmap=null))}isValidId(t){return t.startsWith(`image_${l(this,tf)}_`)}};tf=new WeakMap,sm=new WeakMap,Oe=new WeakMap,ih=new WeakSet,rm=async function(e,t){l(this,Oe)||y(this,Oe,new Map);let i=l(this,Oe).get(e);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${l(this,tf)}_${bi(this,sm)._++}`,refCounter:0,isSvg:!1});let n;if(typeof t=="string"?(i.url=t,n=await np(t,"blob")):n=i.file=t,n.type==="image/svg+xml"){const s=xA._isSVGFittingCanvas,r=new FileReader,a=new Image,o=new Promise((c,u)=>{a.onload=()=>{i.bitmap=a,i.isSvg=!0,c()},r.onload=async()=>{const h=i.svgUrl=r.result;a.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},a.onerror=r.onerror=u});r.readAsDataURL(n),await o}else i.bitmap=await createImageBitmap(n);i.refCounter=1}catch(n){console.error(n),i=null}return l(this,Oe).set(e,i),i&&l(this,Oe).set(i.id,i),i};let YC=xA;var te,Js,nh,Wt;class QC{constructor(t=128){k(this,te,[]),k(this,Js,!1),k(this,nh),k(this,Wt,-1),y(this,nh,t)}add({cmd:t,undo:i,post:n,mustExec:s,type:r=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(s&&t(),l(this,Js))return;const c={cmd:t,undo:i,post:n,type:r};if(l(this,Wt)===-1){l(this,te).length>0&&(l(this,te).length=0),y(this,Wt,0),l(this,te).push(c);return}if(a&&l(this,te)[l(this,Wt)].type===r){o&&(c.undo=l(this,te)[l(this,Wt)].undo),l(this,te)[l(this,Wt)]=c;return}const u=l(this,Wt)+1;u===l(this,nh)?l(this,te).splice(0,1):(y(this,Wt,u),u<l(this,te).length&&l(this,te).splice(u)),l(this,te).push(c)}undo(){if(l(this,Wt)===-1)return;y(this,Js,!0);const{undo:t,post:i}=l(this,te)[l(this,Wt)];t(),i==null||i(),y(this,Js,!1),y(this,Wt,l(this,Wt)-1)}redo(){if(l(this,Wt)<l(this,te).length-1){y(this,Wt,l(this,Wt)+1),y(this,Js,!0);const{cmd:t,post:i}=l(this,te)[l(this,Wt)];t(),i==null||i(),y(this,Js,!1)}}hasSomethingToUndo(){return l(this,Wt)!==-1}hasSomethingToRedo(){return l(this,Wt)<l(this,te).length-1}destroy(){y(this,te,null)}}te=new WeakMap,Js=new WeakMap,nh=new WeakMap,Wt=new WeakMap;var am,EA;class Qc{constructor(t){k(this,am),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:i}=Ue.platform;for(const[n,s,r={}]of t)for(const a of n){const o=a.startsWith("mac+");i&&o?(this.callbacks.set(a.slice(4),{callback:s,options:r}),this.allKeys.add(a.split("+").at(-1))):!i&&!o&&(this.callbacks.set(a,{callback:s,options:r}),this.allKeys.add(a.split("+").at(-1)))}}exec(t,i){if(!this.allKeys.has(i.key))return;const n=this.callbacks.get(w(this,am,EA).call(this,i));if(!n)return;const{callback:s,options:{bubbles:r=!1,args:a=[],checker:o=null}}=n;o&&!o(t,i)||(s.bind(t,...a,i)(),r||(i.stopPropagation(),i.preventDefault()))}}am=new WeakSet,EA=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const CA=class MA{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return VC(t),st(this,"_colors",t)}convert(t){const i=h0(t);if(!window.matchMedia("(forced-colors: active)").matches)return i;for(const[n,s]of this._colors)if(s.every((r,a)=>r===i[a]))return MA._colorsMapping.get(n);return i}getHexCode(t){const i=this._colors.get(t);return i?j.makeHexColor(...i):t}};X(CA,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let JC=CA;var hl,ni,qt,pe,dl,Kn,ua,Oi,fl,ha,dn,Wi,da,ef,sh,fn,pl,mr,Gi,om,vr,rh,fa,ah,gl,ve,lt,Xn,pa,ml,oh,lh,ch,uh,hh,dh,fh,ph,gh,mh,vh,bh,Zs,pn,Yn,yh,$,wh,zb,Bb,nf,TA,RA,PA,lm,LA,cm,um,IA,xe,as,NA,DA,hm,FA,vl,dm;const fm=class pm{constructor(t,i,n,s,r,a,o,c,u){k(this,$),k(this,hl,new AbortController),k(this,ni,null),k(this,qt,new Map),k(this,pe,new Map),k(this,dl,null),k(this,Kn,null),k(this,ua,null),k(this,Oi,new QC),k(this,fl,0),k(this,ha,new Set),k(this,dn,null),k(this,Wi,null),k(this,da,new Set),k(this,ef,!1),k(this,sh,null),k(this,fn,null),k(this,pl,null),k(this,mr,!1),k(this,Gi,null),k(this,om,new XC),k(this,vr,!1),k(this,rh,!1),k(this,fa,null),k(this,ah,null),k(this,gl,null),k(this,ve,nt.NONE),k(this,lt,new Set),k(this,Xn,null),k(this,pa,null),k(this,ml,null),k(this,oh,this.blur.bind(this)),k(this,lh,this.focus.bind(this)),k(this,ch,this.copy.bind(this)),k(this,uh,this.cut.bind(this)),k(this,hh,this.paste.bind(this)),k(this,dh,this.keydown.bind(this)),k(this,fh,this.keyup.bind(this)),k(this,ph,this.onEditingAction.bind(this)),k(this,gh,this.onPageChanging.bind(this)),k(this,mh,this.onScaleChanging.bind(this)),k(this,vh,this.onRotationChanging.bind(this)),k(this,bh,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1}),k(this,Zs,[0,0]),k(this,pn,null),k(this,Yn,null),k(this,yh,null),this._signal=l(this,hl).signal,y(this,Yn,t),y(this,yh,i),y(this,dl,n),this._eventBus=s,this._eventBus._on("editingaction",l(this,ph)),this._eventBus._on("pagechanging",l(this,gh)),this._eventBus._on("scalechanging",l(this,mh)),this._eventBus._on("rotationchanging",l(this,vh)),w(this,$,TA).call(this),w(this,$,IA).call(this),w(this,$,lm).call(this),y(this,Kn,r.annotationStorage),y(this,sh,r.filterFactory),y(this,pa,a),y(this,pl,o||null),y(this,ef,c),y(this,gl,u||null),this.viewParameters={realScale:To.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=pm.prototype,i=a=>l(a,Yn).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),n=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:c}=o;return c!=="text"&&c!=="number"}return!0},s=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return st(this,"_keyboardManager",new Qc([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&l(a,Yn).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&l(a,Yn).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:i}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:i}]]))}destroy(){var t,i,n;(t=l(this,hl))==null||t.abort(),y(this,hl,null),this._signal=null,this._eventBus._off("editingaction",l(this,ph)),this._eventBus._off("pagechanging",l(this,gh)),this._eventBus._off("scalechanging",l(this,mh)),this._eventBus._off("rotationchanging",l(this,vh));for(const s of l(this,pe).values())s.destroy();l(this,pe).clear(),l(this,qt).clear(),l(this,da).clear(),y(this,ni,null),l(this,lt).clear(),l(this,Oi).destroy(),(i=l(this,dl))==null||i.destroy(),(n=l(this,Gi))==null||n.hide(),y(this,Gi,null),l(this,fn)&&(clearTimeout(l(this,fn)),y(this,fn,null)),l(this,pn)&&(clearTimeout(l(this,pn)),y(this,pn,null))}async mlGuess(t){var i;return((i=l(this,gl))==null?void 0:i.guess(t))||null}get hasMLManager(){return!!l(this,gl)}get hcmFilter(){return st(this,"hcmFilter",l(this,pa)?l(this,sh).addHCMFilter(l(this,pa).foreground,l(this,pa).background):"none")}get direction(){return st(this,"direction",getComputedStyle(l(this,Yn)).direction)}get highlightColors(){return st(this,"highlightColors",l(this,pl)?new Map(l(this,pl).split(",").map(t=>t.split("=").map(i=>i.trim()))):null)}get highlightColorNames(){return st(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){y(this,ah,t)}editAltText(t){var i;(i=l(this,dl))==null||i.editAltText(this,t)}onPageChanging({pageNumber:t}){y(this,fl,t-1)}focusMainContainer(){l(this,Yn).focus()}findParent(t,i){for(const n of l(this,pe).values()){const{x:s,y:r,width:a,height:o}=n.div.getBoundingClientRect();if(t>=s&&t<=s+a&&i>=r&&i<=r+o)return n}return null}disableUserSelect(t=!1){l(this,yh).classList.toggle("noUserSelect",t)}addShouldRescale(t){l(this,da).add(t)}removeShouldRescale(t){l(this,da).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*To.PDF_TO_CSS_UNITS;for(const i of l(this,da))i.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:n,anchorOffset:s,focusNode:r,focusOffset:a}=i,o=i.toString(),c=w(this,$,wh).call(this,i).closest(".textLayer"),u=this.getSelectionBoxes(c);if(u){i.empty(),l(this,ve)===nt.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:nt.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const h of l(this,pe).values())if(h.hasTextLayer(c)){h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:u,anchorNode:n,anchorOffset:s,focusNode:r,focusOffset:a,text:o});break}}}addToAnnotationStorage(t){!t.isEmpty()&&l(this,Kn)&&!l(this,Kn).has(t.id)&&l(this,Kn).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,l(this,mr)&&(y(this,mr,!1),w(this,$,nf).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const i of l(this,lt))if(i.div.contains(t)){y(this,fa,[i,t]),i._focusEventsAllowed=!1;break}}focus(){if(!l(this,fa))return;const[t,i]=l(this,fa);y(this,fa,null),i.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),i.focus()}addEditListeners(){w(this,$,lm).call(this),w(this,$,cm).call(this)}removeEditListeners(){w(this,$,LA).call(this),w(this,$,um).call(this)}dragOver(t){for(const{type:i}of t.dataTransfer.items)for(const n of l(this,Wi))if(n.isHandlingMimeForPasting(i)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const i of t.dataTransfer.items)for(const n of l(this,Wi))if(n.isHandlingMimeForPasting(i.type)){n.paste(i,this.currentLayer),t.preventDefault();return}}copy(t){var i;if(t.preventDefault(),(i=l(this,ni))==null||i.commitOrRemove(),!this.hasSelection)return;const n=[];for(const s of l(this,lt)){const r=s.serialize(!0);r&&n.push(r)}n.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(t){this.copy(t),this.delete()}paste(t){t.preventDefault();const{clipboardData:i}=t;for(const r of i.items)for(const a of l(this,Wi))if(a.isHandlingMimeForPasting(r.type)){a.paste(r,this.currentLayer);return}let n=i.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(r){J(`paste: "${r.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const s=this.currentLayer;try{const r=[];for(const c of n){const u=s.deserialize(c);if(!u)return;r.push(u)}const a=()=>{for(const c of r)w(this,$,hm).call(this,c);w(this,$,dm).call(this,r)},o=()=>{for(const c of r)c.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(r){J(`paste: "${r.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),l(this,ve)!==nt.NONE&&!this.isEditorHandlingKeyboard&&pm._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,l(this,mr)&&(y(this,mr,!1),w(this,$,nf).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(w(this,$,RA).call(this),w(this,$,cm).call(this),w(this,$,xe).call(this,{isEditing:l(this,ve)!==nt.NONE,isEmpty:w(this,$,vl).call(this),hasSomethingToUndo:l(this,Oi).hasSomethingToUndo(),hasSomethingToRedo:l(this,Oi).hasSomethingToRedo(),hasSelectedEditor:!1})):(w(this,$,PA).call(this),w(this,$,um).call(this),w(this,$,xe).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!l(this,Wi)){y(this,Wi,t);for(const i of l(this,Wi))w(this,$,as).call(this,i.defaultPropertiesToUpdate)}}getId(){return l(this,om).id}get currentLayer(){return l(this,pe).get(l(this,fl))}getLayer(t){return l(this,pe).get(t)}get currentPageIndex(){return l(this,fl)}addLayer(t){l(this,pe).set(t.pageIndex,t),l(this,vr)?t.enable():t.disable()}removeLayer(t){l(this,pe).delete(t.pageIndex)}updateMode(t,i=null,n=!1){if(l(this,ve)!==t){if(y(this,ve,t),t===nt.NONE){this.setEditingState(!1),w(this,$,DA).call(this);return}this.setEditingState(!0),w(this,$,NA).call(this),this.unselectAll();for(const s of l(this,pe).values())s.updateMode(t);if(!i&&n){this.addNewEditorFromKeyboard();return}if(i){for(const s of l(this,qt).values())if(s.annotationElementId===i){this.setSelected(s),s.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==l(this,ve)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,i){var n;if(l(this,Wi)){switch(t){case K.CREATE:this.currentLayer.addNewEditor();return;case K.HIGHLIGHT_DEFAULT_COLOR:(n=l(this,ah))==null||n.updateColor(i);break;case K.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(l(this,ml)||y(this,ml,new Map)).set(t,i),this.showAllEditors("highlight",i);break}for(const s of l(this,lt))s.updateParams(t,i);for(const s of l(this,Wi))s.updateDefaultParams(t,i)}}showAllEditors(t,i,n=!1){var s;for(const r of l(this,qt).values())r.editorType===t&&r.show(i);(((s=l(this,ml))==null?void 0:s.get(K.HIGHLIGHT_SHOW_ALL))??!0)!==i&&w(this,$,as).call(this,[[K.HIGHLIGHT_SHOW_ALL,i]])}enableWaiting(t=!1){if(l(this,rh)!==t){y(this,rh,t);for(const i of l(this,pe).values())t?i.disableClick():i.enableClick(),i.div.classList.toggle("waiting",t)}}getEditors(t){const i=[];for(const n of l(this,qt).values())n.pageIndex===t&&i.push(n);return i}getEditor(t){return l(this,qt).get(t)}addEditor(t){l(this,qt).set(t.id,t)}removeEditor(t){var i;t.div.contains(document.activeElement)&&(l(this,fn)&&clearTimeout(l(this,fn)),y(this,fn,setTimeout(()=>{this.focusMainContainer(),y(this,fn,null)},0))),l(this,qt).delete(t.id),this.unselect(t),(!t.annotationElementId||!l(this,ha).has(t.annotationElementId))&&((i=l(this,Kn))==null||i.remove(t.id))}addDeletedAnnotationElement(t){l(this,ha).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return l(this,ha).has(t)}removeDeletedAnnotationElement(t){l(this,ha).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){l(this,ni)!==t&&(y(this,ni,t),t&&w(this,$,as).call(this,t.propertiesToUpdate))}updateUI(t){l(this,$,FA)===t&&w(this,$,as).call(this,t.propertiesToUpdate)}toggleSelected(t){if(l(this,lt).has(t)){l(this,lt).delete(t),t.unselect(),w(this,$,xe).call(this,{hasSelectedEditor:this.hasSelection});return}l(this,lt).add(t),t.select(),w(this,$,as).call(this,t.propertiesToUpdate),w(this,$,xe).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const i of l(this,lt))i!==t&&i.unselect();l(this,lt).clear(),l(this,lt).add(t),t.select(),w(this,$,as).call(this,t.propertiesToUpdate),w(this,$,xe).call(this,{hasSelectedEditor:!0})}isSelected(t){return l(this,lt).has(t)}get firstSelectedEditor(){return l(this,lt).values().next().value}unselect(t){t.unselect(),l(this,lt).delete(t),w(this,$,xe).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return l(this,lt).size!==0}get isEnterHandled(){return l(this,lt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){l(this,Oi).undo(),w(this,$,xe).call(this,{hasSomethingToUndo:l(this,Oi).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:w(this,$,vl).call(this)})}redo(){l(this,Oi).redo(),w(this,$,xe).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:l(this,Oi).hasSomethingToRedo(),isEmpty:w(this,$,vl).call(this)})}addCommands(t){l(this,Oi).add(t),w(this,$,xe).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:w(this,$,vl).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...l(this,lt)],i=()=>{for(const s of t)s.remove()},n=()=>{for(const s of t)w(this,$,hm).call(this,s)};this.addCommands({cmd:i,undo:n,mustExec:!0})}commitOrRemove(){var t;(t=l(this,ni))==null||t.commitOrRemove()}hasSomethingToControl(){return l(this,ni)||this.hasSelection}selectAll(){for(const t of l(this,lt))t.commit();w(this,$,dm).call(this,l(this,qt).values())}unselectAll(){if(!(l(this,ni)&&(l(this,ni).commitOrRemove(),l(this,ve)!==nt.NONE))&&this.hasSelection){for(const t of l(this,lt))t.unselect();l(this,lt).clear(),w(this,$,xe).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,i,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;l(this,Zs)[0]+=t,l(this,Zs)[1]+=i;const[s,r]=l(this,Zs),a=[...l(this,lt)];l(this,pn)&&clearTimeout(l(this,pn)),y(this,pn,setTimeout(()=>{y(this,pn,null),l(this,Zs)[0]=l(this,Zs)[1]=0,this.addCommands({cmd:()=>{for(const c of a)l(this,qt).has(c.id)&&c.translateInPage(s,r)},undo:()=>{for(const c of a)l(this,qt).has(c.id)&&c.translateInPage(-s,-r)},mustExec:!1})},1e3));for(const c of a)c.translateInPage(t,i)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),y(this,dn,new Map);for(const t of l(this,lt))l(this,dn).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!l(this,dn))return!1;this.disableUserSelect(!1);const t=l(this,dn);y(this,dn,null);let i=!1;for(const[{x:s,y:r,pageIndex:a},o]of t)o.newX=s,o.newY=r,o.newPageIndex=a,i||(i=s!==o.savedX||r!==o.savedY||a!==o.savedPageIndex);if(!i)return!1;const n=(s,r,a,o)=>{if(l(this,qt).has(s.id)){const c=l(this,pe).get(o);c?s._setParentAndPosition(c,r,a):(s.pageIndex=o,s.x=r,s.y=a)}};return this.addCommands({cmd:()=>{for(const[s,{newX:r,newY:a,newPageIndex:o}]of t)n(s,r,a,o)},undo:()=>{for(const[s,{savedX:r,savedY:a,savedPageIndex:o}]of t)n(s,r,a,o)},mustExec:!0}),!0}dragSelectedEditors(t,i){if(l(this,dn))for(const n of l(this,dn).keys())n.drag(t,i)}rebuild(t){if(t.parent===null){const i=this.getLayer(t.pageIndex);i?(i.changeParent(t),i.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||l(this,lt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return l(this,ni)===t}getActive(){return l(this,ni)}getMode(){return l(this,ve)}get imageManager(){return st(this,"imageManager",new YC)}getSelectionBoxes(t){if(!t)return null;const i=document.getSelection();for(let u=0,h=i.rangeCount;u<h;u++)if(!t.contains(i.getRangeAt(u).commonAncestorContainer))return null;const{x:n,y:s,width:r,height:a}=t.getBoundingClientRect();let o;switch(t.getAttribute("data-main-rotation")){case"90":o=(u,h,d,f)=>({x:(h-s)/a,y:1-(u+d-n)/r,width:f/a,height:d/r});break;case"180":o=(u,h,d,f)=>({x:1-(u+d-n)/r,y:1-(h+f-s)/a,width:d/r,height:f/a});break;case"270":o=(u,h,d,f)=>({x:1-(h+f-s)/a,y:(u-n)/r,width:f/a,height:d/r});break;default:o=(u,h,d,f)=>({x:(u-n)/r,y:(h-s)/a,width:d/r,height:f/a});break}const c=[];for(let u=0,h=i.rangeCount;u<h;u++){const d=i.getRangeAt(u);if(!d.collapsed)for(const{x:f,y:p,width:g,height:b}of d.getClientRects())g===0||b===0||c.push(o(f,p,g,b))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:t,id:i}){(l(this,ua)||y(this,ua,new Map)).set(t,i)}removeChangedExistingAnnotation({annotationElementId:t}){var i;(i=l(this,ua))==null||i.delete(t)}renderAnnotationElement(t){var i;const n=(i=l(this,ua))==null?void 0:i.get(t.data.id);if(!n)return;const s=l(this,Kn).getRawValue(n);s&&(l(this,ve)===nt.NONE&&!s.hasBeenModified||s.renderAnnotationElement(t))}};hl=new WeakMap,ni=new WeakMap,qt=new WeakMap,pe=new WeakMap,dl=new WeakMap,Kn=new WeakMap,ua=new WeakMap,Oi=new WeakMap,fl=new WeakMap,ha=new WeakMap,dn=new WeakMap,Wi=new WeakMap,da=new WeakMap,ef=new WeakMap,sh=new WeakMap,fn=new WeakMap,pl=new WeakMap,mr=new WeakMap,Gi=new WeakMap,om=new WeakMap,vr=new WeakMap,rh=new WeakMap,fa=new WeakMap,ah=new WeakMap,gl=new WeakMap,ve=new WeakMap,lt=new WeakMap,Xn=new WeakMap,pa=new WeakMap,ml=new WeakMap,oh=new WeakMap,lh=new WeakMap,ch=new WeakMap,uh=new WeakMap,hh=new WeakMap,dh=new WeakMap,fh=new WeakMap,ph=new WeakMap,gh=new WeakMap,mh=new WeakMap,vh=new WeakMap,bh=new WeakMap,Zs=new WeakMap,pn=new WeakMap,Yn=new WeakMap,yh=new WeakMap,$=new WeakSet,wh=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},zb=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const t=w(this,$,wh).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(t);i&&(l(this,Gi)||y(this,Gi,new qC(this)),l(this,Gi).show(t,i,this.direction==="ltr"))},Bb=function(){var e,t,i;const n=document.getSelection();if(!n||n.isCollapsed){l(this,Xn)&&((e=l(this,Gi))==null||e.hide(),y(this,Xn,null),w(this,$,xe).call(this,{hasSelectedText:!1}));return}const{anchorNode:s}=n;if(s!==l(this,Xn)){if(!w(this,$,wh).call(this,n).closest(".textLayer")){l(this,Xn)&&((t=l(this,Gi))==null||t.hide(),y(this,Xn,null),w(this,$,xe).call(this,{hasSelectedText:!1}));return}if((i=l(this,Gi))==null||i.hide(),y(this,Xn,s),w(this,$,xe).call(this,{hasSelectedText:!0}),!(l(this,ve)!==nt.HIGHLIGHT&&l(this,ve)!==nt.NONE)&&(l(this,ve)===nt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),y(this,mr,this.isShiftKeyDown),!this.isShiftKeyDown)){const r=this._signal,a=o=>{o.type==="pointerup"&&o.button!==0||(window.removeEventListener("pointerup",a),window.removeEventListener("blur",a),o.type==="pointerup"&&w(this,$,nf).call(this,"main_toolbar"))};window.addEventListener("pointerup",a,{signal:r}),window.addEventListener("blur",a,{signal:r})}}},nf=function(e=""){l(this,ve)===nt.HIGHLIGHT?this.highlightSelection(e):l(this,ef)&&w(this,$,zb).call(this)},TA=function(){document.addEventListener("selectionchange",w(this,$,Bb).bind(this),{signal:this._signal})},RA=function(){const e=this._signal;window.addEventListener("focus",l(this,lh),{signal:e}),window.addEventListener("blur",l(this,oh),{signal:e})},PA=function(){window.removeEventListener("focus",l(this,lh)),window.removeEventListener("blur",l(this,oh))},lm=function(){const e=this._signal;window.addEventListener("keydown",l(this,dh),{signal:e}),window.addEventListener("keyup",l(this,fh),{signal:e})},LA=function(){window.removeEventListener("keydown",l(this,dh)),window.removeEventListener("keyup",l(this,fh))},cm=function(){const e=this._signal;document.addEventListener("copy",l(this,ch),{signal:e}),document.addEventListener("cut",l(this,uh),{signal:e}),document.addEventListener("paste",l(this,hh),{signal:e})},um=function(){document.removeEventListener("copy",l(this,ch)),document.removeEventListener("cut",l(this,uh)),document.removeEventListener("paste",l(this,hh))},IA=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},xe=function(e){Object.entries(e).some(([t,i])=>l(this,bh)[t]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(l(this,bh),e)}),l(this,ve)===nt.HIGHLIGHT&&e.hasSelectedEditor===!1&&w(this,$,as).call(this,[[K.HIGHLIGHT_FREE,!0]]))},as=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},NA=function(){if(!l(this,vr)){y(this,vr,!0);for(const e of l(this,pe).values())e.enable();for(const e of l(this,qt).values())e.enable()}},DA=function(){if(this.unselectAll(),l(this,vr)){y(this,vr,!1);for(const e of l(this,pe).values())e.disable();for(const e of l(this,qt).values())e.disable()}},hm=function(e){const t=l(this,pe).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},FA=function(){let e=null;for(e of l(this,lt));return e},vl=function(){if(l(this,qt).size===0)return!0;if(l(this,qt).size===1)for(const e of l(this,qt).values())return e.isEmpty();return!1},dm=function(e){for(const t of l(this,lt))t.unselect();l(this,lt).clear();for(const t of e)t.isEmpty()||(l(this,lt).add(t),t.select());w(this,$,xe).call(this,{hasSelectedEditor:this.hasSelection})},X(fm,"TRANSLATE_SMALL",1),X(fm,"TRANSLATE_BIG",10);let Bc=fm;var fs,ps,Bi,os,ui,bl,en,Ah,gm;const kh=class _h{constructor(t){k(this,Ah),k(this,fs,""),k(this,ps,!1),k(this,Bi,null),k(this,os,null),k(this,ui,null),k(this,bl,!1),k(this,en,null),y(this,en,t)}static initialize(t){_h._l10nPromise||(_h._l10nPromise=t)}async render(){const t=y(this,Bi,document.createElement("button"));t.className="altText";const i=await _h._l10nPromise.get("pdfjs-editor-alt-text-button-label");t.textContent=i,t.setAttribute("aria-label",i),t.tabIndex="0";const n=l(this,en)._uiManager._signal;t.addEventListener("contextmenu",$e,{signal:n}),t.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:n});const s=r=>{r.preventDefault(),l(this,en)._uiManager.editAltText(l(this,en))};return t.addEventListener("click",s,{capture:!0,signal:n}),t.addEventListener("keydown",r=>{r.target===t&&r.key==="Enter"&&(y(this,bl,!0),s(r))},{signal:n}),await w(this,Ah,gm).call(this),t}finish(){l(this,Bi)&&(l(this,Bi).focus({focusVisible:l(this,bl)}),y(this,bl,!1))}isEmpty(){return!l(this,fs)&&!l(this,ps)}get data(){return{altText:l(this,fs),decorative:l(this,ps)}}set data({altText:t,decorative:i}){l(this,fs)===t&&l(this,ps)===i||(y(this,fs,t),y(this,ps,i),w(this,Ah,gm).call(this))}toggle(t=!1){l(this,Bi)&&(!t&&l(this,ui)&&(clearTimeout(l(this,ui)),y(this,ui,null)),l(this,Bi).disabled=!t)}destroy(){var t;(t=l(this,Bi))==null||t.remove(),y(this,Bi,null),y(this,os,null)}};fs=new WeakMap,ps=new WeakMap,Bi=new WeakMap,os=new WeakMap,ui=new WeakMap,bl=new WeakMap,en=new WeakMap,Ah=new WeakSet,gm=async function(){var e;const t=l(this,Bi);if(!t)return;if(!l(this,fs)&&!l(this,ps)){t.classList.remove("done"),(e=l(this,os))==null||e.remove();return}t.classList.add("done"),kh._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(s=>{t.setAttribute("aria-label",s)});let i=l(this,os);if(!i){y(this,os,i=document.createElement("span")),i.className="tooltip",i.setAttribute("role","tooltip");const s=i.id=`alt-text-tooltip-${l(this,en).id}`;t.setAttribute("aria-describedby",s);const r=100,a=l(this,en)._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(l(this,ui)),y(this,ui,null)},{once:!0}),t.addEventListener("mouseenter",()=>{y(this,ui,setTimeout(()=>{y(this,ui,null),l(this,os).classList.add("show"),l(this,en)._reportTelemetry({action:"alt_text_tooltip"})},r))},{signal:a}),t.addEventListener("mouseleave",()=>{var o;l(this,ui)&&(clearTimeout(l(this,ui)),y(this,ui,null)),(o=l(this,os))==null||o.classList.remove("show")},{signal:a})}i.innerText=l(this,ps)?await kh._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):l(this,fs),i.parentNode||t.append(i);const n=l(this,en).getImageForAltText();n==null||n.setAttribute("aria-describedby",i.id)},X(kh,"_l10nPromise",null);let Hb=kh;var ga,qi,Se,yl,ma,be,Ga,wl,Al,_e,sf,qa,gn,Sh,va,xs,mn,kl,_l,si,xh,mm,At,vm,rf,bm,Bp,OA,$b,Hp,ym,wm,WA,jA,zA,BA,Am,lc;const vn=class ee{constructor(t){k(this,At),k(this,ga,null),k(this,qi,null),k(this,Se,null),k(this,yl,!1),k(this,ma,!1),k(this,be,null),k(this,Ga,null),k(this,wl,this.focusin.bind(this)),k(this,Al,this.focusout.bind(this)),k(this,_e,null),k(this,sf,""),k(this,qa,!1),k(this,gn,null),k(this,Sh,!1),k(this,va,!1),k(this,xs,!1),k(this,mn,null),k(this,kl,0),k(this,_l,0),k(this,si,null),X(this,"_initialOptions",Object.create(null)),X(this,"_isVisible",!0),X(this,"_uiManager",null),X(this,"_focusEventsAllowed",!0),X(this,"_l10nPromise",null),k(this,xh,!1),k(this,mm,ee._zIndex++),this.constructor===ee&&ct("Cannot initialize AnnotationEditor."),this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:i,rawDims:{pageWidth:n,pageHeight:s,pageX:r,pageY:a}}=this.parent.viewport;this.rotation=i,this.pageRotation=(360+i-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,s],this.pageTranslation=[r,a];const[o,c]=this.parentDimensions;this.x=t.x/o,this.y=t.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=ee.prototype._resizeWithKeyboard,i=Bc.TRANSLATE_SMALL,n=Bc.TRANSLATE_BIG;return st(this,"_resizerKeyboardManager",new Qc([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-i,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[i,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-i]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,i]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],ee.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return st(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const i=new ZC({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});i.annotationElementId=t.annotationElementId,i.deleted=!0,i._uiManager.addToAnnotationStorage(i)}static initialize(t,i,n){if(ee._l10nPromise||(ee._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(r=>[r,t.get(r.replaceAll(/([A-Z])/g,a=>`-${a.toLowerCase()}`))]))),n!=null&&n.strings)for(const r of n.strings)ee._l10nPromise.set(r,t.get(r));if(ee._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);ee._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,i){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,i){ct("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return l(this,xh)}set _isDraggable(t){var i;y(this,xh,t),(i=this.div)==null||i.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,i]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*i/(t*2),this.y+=this.width*t/(i*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*i/(t*2),this.y-=this.width*t/(i*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=l(this,mm)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):w(this,At,lc).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(l(this,qa)?y(this,qa,!1):this.parent.setSelected(this))}focusout(t){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const n=t.relatedTarget;n!=null&&n.closest(`#${this.id}`)||(t.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,i,n,s){const[r,a]=this.parentDimensions;[n,s]=this.screenToPageTranslation(n,s),this.x=(t+n)/r,this.y=(i+s)/a,this.fixAndSetPosition()}translate(t,i){w(this,At,vm).call(this,this.parentDimensions,t,i)}translateInPage(t,i){l(this,gn)||y(this,gn,[this.x,this.y]),w(this,At,vm).call(this,this.pageDimensions,t,i),this.div.scrollIntoView({block:"nearest"})}drag(t,i){l(this,gn)||y(this,gn,[this.x,this.y]);const[n,s]=this.parentDimensions;if(this.x+=t/n,this.y+=i/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:u,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,u,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:r,y:a}=this;const[o,c]=this.getBaseTranslation();r+=o,a+=c,this.div.style.left=`${(100*r).toFixed(2)}%`,this.div.style.top=`${(100*a).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!l(this,gn)&&(l(this,gn)[0]!==this.x||l(this,gn)[1]!==this.y)}getBaseTranslation(){const[t,i]=this.parentDimensions,{_borderLineWidth:n}=ee,s=n/t,r=n/i;switch(this.rotation){case 90:return[-s,r];case 180:return[s,r];case 270:return[s,-r];default:return[-s,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[i,n]=this.pageDimensions;let{x:s,y:r,width:a,height:o}=this;if(a*=i,o*=n,s*=i,r*=n,this._mustFixPosition)switch(t){case 0:s=Math.max(0,Math.min(i-a,s)),r=Math.max(0,Math.min(n-o,r));break;case 90:s=Math.max(0,Math.min(i-o,s)),r=Math.min(n,Math.max(a,r));break;case 180:s=Math.min(i,Math.max(a,s)),r=Math.min(n,Math.max(o,r));break;case 270:s=Math.min(i,Math.max(o,s)),r=Math.max(0,Math.min(n-a,r));break}this.x=s/=i,this.y=r/=n;const[c,u]=this.getBaseTranslation();s+=c,r+=u;const{style:h}=this.div;h.left=`${(100*s).toFixed(2)}%`,h.top=`${(100*r).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,i){var n;return w(n=ee,rf,bm).call(n,t,i,this.parentRotation)}pageTranslationToScreen(t,i){var n;return w(n=ee,rf,bm).call(n,t,i,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[i,n]}=this,s=i*t,r=n*t;return Ue.isCSSRoundSupported?[Math.round(s),Math.round(r)]:[s,r]}setDims(t,i){const[n,s]=this.parentDimensions;this.div.style.width=`${(100*t/n).toFixed(2)}%`,l(this,ma)||(this.div.style.height=`${(100*i/s).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:i,width:n}=t,s=n.endsWith("%"),r=!l(this,ma)&&i.endsWith("%");if(s&&r)return;const[a,o]=this.parentDimensions;s||(t.width=`${(100*parseFloat(n)/a).toFixed(2)}%`),!l(this,ma)&&!r&&(t.height=`${(100*parseFloat(i)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=l(this,Se))==null||t.finish()}async addEditToolbar(){return l(this,_e)||l(this,va)?l(this,_e):(y(this,_e,new GC(this)),this.div.append(l(this,_e).render()),l(this,Se)&&l(this,_e).addAltTextButton(await l(this,Se).render()),l(this,_e))}removeEditToolbar(){var t;l(this,_e)&&(l(this,_e).remove(),y(this,_e,null),(t=l(this,Se))==null||t.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){l(this,Se)||(Hb.initialize(ee._l10nPromise),y(this,Se,new Hb(this)),l(this,ga)&&(l(this,Se).data=l(this,ga),y(this,ga,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=l(this,Se))==null?void 0:t.data}set altTextData(t){l(this,Se)&&(l(this,Se).data=t)}hasAltText(){var t;return!((t=l(this,Se))!=null&&t.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=l(this,yl)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const t=this._uiManager._signal;this.div.addEventListener("focusin",l(this,wl),{signal:t}),this.div.addEventListener("focusout",l(this,Al),{signal:t});const[i,n]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*n/i).toFixed(2)}%`,this.div.style.maxHeight=`${(100*i/n).toFixed(2)}%`);const[s,r]=this.getInitialTranslation();return this.translate(s,r),Zd(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:i}=Ue.platform;if(t.button!==0||t.ctrlKey&&i){t.preventDefault();return}if(y(this,qa,!0),this._isDraggable){w(this,At,WA).call(this,t);return}w(this,At,wm).call(this,t)}moveInDOM(){l(this,mn)&&clearTimeout(l(this,mn)),y(this,mn,setTimeout(()=>{var t;y(this,mn,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,i,n){t.changeParent(this),this.x=i,this.y=n,this.fixAndSetPosition()}getRect(t,i,n=this.rotation){const s=this.parentScale,[r,a]=this.pageDimensions,[o,c]=this.pageTranslation,u=t/s,h=i/s,d=this.x*r,f=this.y*a,p=this.width*r,g=this.height*a;switch(n){case 0:return[d+u+o,a-f-h-g+c,d+u+p+o,a-f-h+c];case 90:return[d+h+o,a-f+u+c,d+h+g+o,a-f+u+p+c];case 180:return[d-u-p+o,a-f+h+c,d-u+o,a-f+h+g+c];case 270:return[d-h-g+o,a-f-u-p+c,d-h+o,a-f-u+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,i){const[n,s,r,a]=t,o=r-n,c=a-s;switch(this.rotation){case 0:return[n,i-a,o,c];case 90:return[n,i-s,c,o];case 180:return[r,i-s,o,c];case 270:return[r,i-a,c,o];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){y(this,va,!0)}disableEditMode(){y(this,va,!1)}isInEditMode(){return l(this,va)}shouldGetKeyboardEvents(){return l(this,xs)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var t,i;const n=this._uiManager._signal;(t=this.div)==null||t.addEventListener("focusin",l(this,wl),{signal:n}),(i=this.div)==null||i.addEventListener("focusout",l(this,Al),{signal:n})}rotate(t){}serialize(t=!1,i=null){ct("An editor must be serializable")}static deserialize(t,i,n){const s=new this.prototype.constructor({parent:i,id:i.getNextId(),uiManager:n});s.rotation=t.rotation,y(s,ga,t.accessibilityData);const[r,a]=s.pageDimensions,[o,c,u,h]=s.getRectInCurrentCoords(t.rect,a);return s.x=o/r,s.y=c/a,s.width=u/r,s.height=h/a,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",l(this,wl)),this.div.removeEventListener("focusout",l(this,Al)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),l(this,mn)&&(clearTimeout(l(this,mn)),y(this,mn,null)),w(this,At,lc).call(this),this.removeEditToolbar(),l(this,si)){for(const t of l(this,si).values())clearTimeout(t);y(this,si,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(w(this,At,OA).call(this),l(this,be).classList.remove("hidden"),Zd(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),y(this,Ga,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const i=l(this,be).children;if(!l(this,qi)){y(this,qi,Array.from(i));const a=w(this,At,jA).bind(this),o=w(this,At,zA).bind(this),c=this._uiManager._signal;for(const u of l(this,qi)){const h=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",a,{signal:c}),u.addEventListener("blur",o,{signal:c}),u.addEventListener("focus",w(this,At,BA).bind(this,h),{signal:c}),ee._l10nPromise.get(`pdfjs-editor-resizer-label-${h}`).then(d=>u.setAttribute("aria-label",d))}}const n=l(this,qi)[0];let s=0;for(const a of i){if(a===n)break;s++}const r=(360-this.rotation+this.parentRotation)%360/90*(l(this,qi).length/4);if(r!==s){if(r<s)for(let o=0;o<s-r;o++)l(this,be).append(l(this,be).firstChild);else if(r>s)for(let o=0;o<r-s;o++)l(this,be).firstChild.before(l(this,be).lastChild);let a=0;for(const o of i){const c=l(this,qi)[a++].getAttribute("data-resizer-name");ee._l10nPromise.get(`pdfjs-editor-resizer-label-${c}`).then(u=>o.setAttribute("aria-label",u))}}w(this,At,Am).call(this,0),y(this,xs,!0),l(this,be).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,i){l(this,xs)&&w(this,At,ym).call(this,l(this,sf),{movementX:t,movementY:i})}_stopResizingWithKeyboard(){w(this,At,lc).call(this),this.div.focus()}select(){var t,i;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!l(this,_e)){this.addEditToolbar().then(()=>{var n,s;(n=this.div)!=null&&n.classList.contains("selectedEditor")&&((s=l(this,_e))==null||s.show())});return}(i=l(this,_e))==null||i.show()}unselect(){var t,i,n,s;(t=l(this,be))==null||t.classList.add("hidden"),(i=this.div)==null||i.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=l(this,_e))==null||s.hide()}updateParams(t,i){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return l(this,Sh)}set isEditing(t){y(this,Sh,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,i){y(this,ma,!0);const n=t/i,{style:s}=this.div;s.aspectRatio=n,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,i=!1){if(i){l(this,si)||y(this,si,new Map);const{action:n}=t;let s=l(this,si).get(n);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(t),l(this,si).delete(n),l(this,si).size===0&&y(this,si,null)},ee._telemetryTimeout),l(this,si).set(n,s);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),y(this,yl,!1)}disable(){this.div&&(this.div.tabIndex=-1),y(this,yl,!0)}renderAnnotationElement(t){let i=t.container.querySelector(".annotationContent");if(!i)i=document.createElement("div"),i.classList.add("annotationContent",this.editorType),t.container.prepend(i);else if(i.nodeName==="CANVAS"){const n=i;i=document.createElement("div"),i.classList.add("annotationContent",this.editorType),n.before(i)}return i}resetAnnotationElement(t){const{firstChild:i}=t.container;i.nodeName==="DIV"&&i.classList.contains("annotationContent")&&i.remove()}};ga=new WeakMap,qi=new WeakMap,Se=new WeakMap,yl=new WeakMap,ma=new WeakMap,be=new WeakMap,Ga=new WeakMap,wl=new WeakMap,Al=new WeakMap,_e=new WeakMap,sf=new WeakMap,qa=new WeakMap,gn=new WeakMap,Sh=new WeakMap,va=new WeakMap,xs=new WeakMap,mn=new WeakMap,kl=new WeakMap,_l=new WeakMap,si=new WeakMap,xh=new WeakMap,mm=new WeakMap,At=new WeakSet,vm=function([e,t],i,n){[i,n]=this.screenToPageTranslation(i,n),this.x+=i/e,this.y+=n/t,this.fixAndSetPosition()},rf=new WeakSet,bm=function(e,t,i){switch(i){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Bp=function(e){switch(e){case 90:{const[t,i]=this.pageDimensions;return[0,-t/i,i/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,i]=this.pageDimensions;return[0,t/i,-i/t,0]}default:return[1,0,0,1]}},OA=function(){if(l(this,be))return;y(this,be,document.createElement("div")),l(this,be).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const i of e){const n=document.createElement("div");l(this,be).append(n),n.classList.add("resizer",i),n.setAttribute("data-resizer-name",i),n.addEventListener("pointerdown",w(this,At,$b).bind(this,i),{signal:t}),n.addEventListener("contextmenu",$e,{signal:t}),n.tabIndex=-1}this.div.prepend(l(this,be))},$b=function(e,t){var i;t.preventDefault();const{isMac:n}=Ue.platform;if(t.button!==0||t.ctrlKey&&n)return;(i=l(this,Se))==null||i.toggle(!1);const s=w(this,At,ym).bind(this,e),r=this._isDraggable;this._isDraggable=!1;const a=this._uiManager._signal,o={passive:!0,capture:!0,signal:a};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",s,o),window.addEventListener("contextmenu",$e,{signal:a});const c=this.x,u=this.y,h=this.width,d=this.height,f=this.parent.div.style.cursor,p=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const g=()=>{var b;this.parent.togglePointerEvents(!0),(b=l(this,Se))==null||b.toggle(!0),this._isDraggable=r,window.removeEventListener("pointerup",g),window.removeEventListener("blur",g),window.removeEventListener("pointermove",s,o),window.removeEventListener("contextmenu",$e),this.parent.div.style.cursor=f,this.div.style.cursor=p,w(this,At,Hp).call(this,c,u,h,d)};window.addEventListener("pointerup",g,{signal:a}),window.addEventListener("blur",g,{signal:a})},Hp=function(e,t,i,n){const s=this.x,r=this.y,a=this.width,o=this.height;s===e&&r===t&&a===i&&o===n||this.addCommands({cmd:()=>{this.width=a,this.height=o,this.x=s,this.y=r;const[c,u]=this.parentDimensions;this.setDims(c*a,u*o),this.fixAndSetPosition()},undo:()=>{this.width=i,this.height=n,this.x=e,this.y=t;const[c,u]=this.parentDimensions;this.setDims(c*i,u*n),this.fixAndSetPosition()},mustExec:!0})},ym=function(e,t){const[i,n]=this.parentDimensions,s=this.x,r=this.y,a=this.width,o=this.height,c=vn.MIN_SIZE/i,u=vn.MIN_SIZE/n,h=D=>Math.round(D*1e4)/1e4,d=w(this,At,Bp).call(this,this.rotation),f=(D,W)=>[d[0]*D+d[2]*W,d[1]*D+d[3]*W],p=w(this,At,Bp).call(this,360-this.rotation),g=(D,W)=>[p[0]*D+p[2]*W,p[1]*D+p[3]*W];let b,_,v=!1,m=!1;switch(e){case"topLeft":v=!0,b=(D,W)=>[0,0],_=(D,W)=>[D,W];break;case"topMiddle":b=(D,W)=>[D/2,0],_=(D,W)=>[D/2,W];break;case"topRight":v=!0,b=(D,W)=>[D,0],_=(D,W)=>[0,W];break;case"middleRight":m=!0,b=(D,W)=>[D,W/2],_=(D,W)=>[0,W/2];break;case"bottomRight":v=!0,b=(D,W)=>[D,W],_=(D,W)=>[0,0];break;case"bottomMiddle":b=(D,W)=>[D/2,W],_=(D,W)=>[D/2,0];break;case"bottomLeft":v=!0,b=(D,W)=>[0,W],_=(D,W)=>[D,0];break;case"middleLeft":m=!0,b=(D,W)=>[0,W/2],_=(D,W)=>[D,W/2];break}const A=b(a,o),S=_(a,o);let x=f(...S);const C=h(s+x[0]),T=h(r+x[1]);let M=1,I=1,[P,O]=this.screenToPageTranslation(t.movementX,t.movementY);if([P,O]=g(P/i,O/n),v){const D=Math.hypot(a,o);M=I=Math.max(Math.min(Math.hypot(S[0]-A[0]-P,S[1]-A[1]-O)/D,1/a,1/o),c/a,u/o)}else m?M=Math.max(c,Math.min(1,Math.abs(S[0]-A[0]-P)))/a:I=Math.max(u,Math.min(1,Math.abs(S[1]-A[1]-O)))/o;const Y=h(a*M),B=h(o*I);x=f(..._(Y,B));const ut=C-x[0],tt=T-x[1];this.width=Y,this.height=B,this.x=ut,this.y=tt,this.setDims(i*Y,n*B),this.fixAndSetPosition()},wm=function(e){const{isMac:t}=Ue.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},WA=function(e){const t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let i,n;const s=this._uiManager._signal;t&&(this.div.classList.add("moving"),i={passive:!0,capture:!0,signal:s},y(this,kl,e.clientX),y(this,_l,e.clientY),n=a=>{const{clientX:o,clientY:c}=a,[u,h]=this.screenToPageTranslation(o-l(this,kl),c-l(this,_l));y(this,kl,o),y(this,_l,c),this._uiManager.dragSelectedEditors(u,h)},window.addEventListener("pointermove",n,i));const r=()=>{window.removeEventListener("pointerup",r),window.removeEventListener("blur",r),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",n,i)),y(this,qa,!1),this._uiManager.endDragSession()||w(this,At,wm).call(this,e)};window.addEventListener("pointerup",r,{signal:s}),window.addEventListener("blur",r,{signal:s})},jA=function(e){vn._resizerKeyboardManager.exec(this,e)},zA=function(e){var t;l(this,xs)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==l(this,be)&&w(this,At,lc).call(this)},BA=function(e){y(this,sf,l(this,xs)?e:"")},Am=function(e){if(l(this,qi))for(const t of l(this,qi))t.tabIndex=e},lc=function(){if(y(this,xs,!1),w(this,At,Am).call(this,-1),l(this,Ga)){const{savedX:e,savedY:t,savedWidth:i,savedHeight:n}=l(this,Ga);w(this,At,Hp).call(this,e,t,i,n),y(this,Ga,null)}},k(vn,rf),X(vn,"_borderLineWidth",-1),X(vn,"_colorManager",new JC),X(vn,"_zIndex",1),X(vn,"_telemetryTimeout",1e3);let pt=vn;class ZC extends pt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const Ub=3285377520,ii=4294901760,Fi=65535;class HA{constructor(t){this.h1=t?t&4294967295:Ub,this.h2=t?t&4294967295:Ub}update(t){let i,n;if(typeof t=="string"){i=new Uint8Array(t.length*2),n=0;for(let b=0,_=t.length;b<_;b++){const v=t.charCodeAt(b);v<=255?i[n++]=v:(i[n++]=v>>>8,i[n++]=v&255)}}else if(ArrayBuffer.isView(t))i=t.slice(),n=i.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=n>>2,r=n-s*4,a=new Uint32Array(i.buffer,0,s);let o=0,c=0,u=this.h1,h=this.h2;const d=3432918353,f=461845907,p=d&Fi,g=f&Fi;for(let b=0;b<s;b++)b&1?(o=a[b],o=o*d&ii|o*p&Fi,o=o<<15|o>>>17,o=o*f&ii|o*g&Fi,u^=o,u=u<<13|u>>>19,u=u*5+3864292196):(c=a[b],c=c*d&ii|c*p&Fi,c=c<<15|c>>>17,c=c*f&ii|c*g&Fi,h^=c,h=h<<13|h>>>19,h=h*5+3864292196);switch(o=0,r){case 3:o^=i[s*4+2]<<16;case 2:o^=i[s*4+1]<<8;case 1:o^=i[s*4],o=o*d&ii|o*p&Fi,o=o<<15|o>>>17,o=o*f&ii|o*g&Fi,s&1?u^=o:h^=o}this.h1=u,this.h2=h}hexdigest(){let t=this.h1,i=this.h2;return t^=i>>>1,t=t*3981806797&ii|t*36045&Fi,i=i*4283543511&ii|((i<<16|t>>>16)*2950163797&ii)>>>16,t^=i>>>1,t=t*444984403&ii|t*60499&Fi,i=i*3301882366&ii|((i<<16|t>>>16)*3120437893&ii)>>>16,t^=i>>>1,(t>>>0).toString(16).padStart(8,"0")+(i>>>0).toString(16).padStart(8,"0")}}const km=Object.freeze({map:null,hash:"",transfer:void 0});var ho,de,_m,$A;class d0{constructor(){k(this,_m),k(this,ho,!1),k(this,de,new Map),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,i){const n=l(this,de).get(t);return n===void 0?i:Object.assign(i,n)}getRawValue(t){return l(this,de).get(t)}remove(t){if(l(this,de).delete(t),l(this,de).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const i of l(this,de).values())if(i instanceof pt)return;this.onAnnotationEditor(null)}}setValue(t,i){const n=l(this,de).get(t);let s=!1;if(n!==void 0)for(const[r,a]of Object.entries(i))n[r]!==a&&(s=!0,n[r]=a);else s=!0,l(this,de).set(t,i);s&&w(this,_m,$A).call(this),i instanceof pt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(i.constructor._type)}has(t){return l(this,de).has(t)}getAll(){return l(this,de).size>0?r0(l(this,de)):null}setAll(t){for(const[i,n]of Object.entries(t))this.setValue(i,n)}get size(){return l(this,de).size}resetModified(){l(this,ho)&&(y(this,ho,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new UA(this)}get serializable(){if(l(this,de).size===0)return km;const t=new Map,i=new HA,n=[],s=Object.create(null);let r=!1;for(const[a,o]of l(this,de)){const c=o instanceof pt?o.serialize(!1,s):o;c&&(t.set(a,c),i.update(`${a}:${JSON.stringify(c)}`),r||(r=!!c.bitmap))}if(r)for(const a of t.values())a.bitmap&&n.push(a.bitmap);return t.size>0?{map:t,hash:i.hexdigest(),transfer:n}:km}get editorStats(){let t=null;const i=new Map;for(const n of l(this,de).values()){if(!(n instanceof pt))continue;const s=n.telemetryFinalData;if(!s)continue;const{type:r}=s;i.has(r)||i.set(r,Object.getPrototypeOf(n).constructor),t||(t=Object.create(null));const a=t[r]||(t[r]=new Map);for(const[o,c]of Object.entries(s)){if(o==="type")continue;let u=a.get(o);u||(u=new Map,a.set(o,u));const h=u.get(c)??0;u.set(c,h+1)}}for(const[n,s]of i)t[n]=s.computeTelemetryFinalData(t[n]);return t}}ho=new WeakMap,de=new WeakMap,_m=new WeakSet,$A=function(){l(this,ho)||(y(this,ho,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Eh;class UA extends d0{constructor(t){super(),k(this,Eh);const{map:i,hash:n,transfer:s}=t.serializable,r=structuredClone(i,s?{transfer:s}:null);y(this,Eh,{map:r,hash:n,transfer:s})}get print(){ct("Should not call PrintAnnotationStorage.print")}get serializable(){return l(this,Eh)}}Eh=new WeakMap;var Sl;class tM{constructor({ownerDocument:t=globalThis.document,styleElement:i=null}){k(this,Sl,new Set),this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const i=this.styleElement.sheet;i.insertRule(t,i.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),l(this,Sl).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:i}){if(!(!t||l(this,Sl).has(t.loadedName))){if(Bt(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:s,style:r}=t,a=new FontFace(n,s,r);this.addNativeFontFace(a);try{await a.load(),l(this,Sl).add(n),i==null||i(t)}catch{J(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}ct("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(s){throw J(`Failed to load font '${n.family}': '${s}'.`),t.disableFontFace=!0,s}}return}const i=t.createFontFaceRule();if(i){if(this.insertRule(i),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const s=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,s)})}}get isFontLoadingAPISupported(){var t;const i=!!((t=this._document)!=null&&t.fonts);return st(this,"isFontLoadingAPISupported",i)}get isSyncFontLoadingSupported(){let t=!1;return(Ae||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),st(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function i(){for(Bt(!s.done,"completeRequest() cannot be called twice."),s.done=!0;n.length>0&&n[0].done;){const r=n.shift();setTimeout(r.callback,0)}}const{loadingRequests:n}=this,s={done:!1,complete:i,callback:t};return n.push(s),s}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return st(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,i){function n(A,S){return A.charCodeAt(S)<<24|A.charCodeAt(S+1)<<16|A.charCodeAt(S+2)<<8|A.charCodeAt(S+3)&255}function s(A,S,x,C){const T=A.substring(0,S),M=A.substring(S+x);return T+C+M}let r,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const c=o.getContext("2d");let u=0;function h(A,S){if(++u>30){J("Load test font never loaded."),S();return}if(c.font="30px "+A,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){S();return}setTimeout(h.bind(null,A,S))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=s(f,976,d.length,d);const p=16,g=1482184792;let b=n(f,p);for(r=0,a=d.length-3;r<a;r+=4)b=b-g+n(d,r)|0;r<d.length&&(b=b-g+n(d+"XXX",r)|0),f=s(f,p,4,IC(b));const _=`url(data:font/opentype;base64,${btoa(f)});`,v=`@font-face {font-family:"${d}";src:${_}}`;this.insertRule(v);const m=this._document.createElement("div");m.style.visibility="hidden",m.style.width=m.style.height="10px",m.style.position="absolute",m.style.top=m.style.left="0px";for(const A of[t.loadedName,d]){const S=this._document.createElement("span");S.textContent="Hi",S.style.fontFamily=A,m.append(S)}this._document.body.append(m),h(d,()=>{m.remove(),i.complete()})}}Sl=new WeakMap;class eM{constructor(t,{disableFontFace:i=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const s in t)this[s]=t[s];this.disableFontFace=i===!0,this._inspectFont=n}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let i;if(!this.cssFontInfo)i=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),i=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),i}createFontFaceRule(){var t;if(!this.data||this.disableFontFace)return null;const i=uA(this.data),n=`url(data:${this.mimetype};base64,${btoa(i)});`;let s;if(!this.cssFontInfo)s=`@font-face {font-family:"${this.loadedName}";src:${n}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),s=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${n}}`}return(t=this._inspectFont)==null||t.call(this,this,n),s}getPathGenerator(t,i){if(this.compiledGlyphs[i]!==void 0)return this.compiledGlyphs[i];let n;try{n=t.get(this.loadedName+"_path_"+i)}catch(r){J(`getPathGenerator - ignoring character: "${r}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[i]=function(r,a){};const s=[];for(let r=0,a=n.length;r<a;)switch(n[r++]){case cn.BEZIER_CURVE_TO:{const[o,c,u,h,d,f]=n.slice(r,r+6);s.push(p=>p.bezierCurveTo(o,c,u,h,d,f)),r+=6}break;case cn.MOVE_TO:{const[o,c]=n.slice(r,r+2);s.push(u=>u.moveTo(o,c)),r+=2}break;case cn.LINE_TO:{const[o,c]=n.slice(r,r+2);s.push(u=>u.lineTo(o,c)),r+=2}break;case cn.QUADRATIC_CURVE_TO:{const[o,c,u,h]=n.slice(r,r+4);s.push(d=>d.quadraticCurveTo(o,c,u,h)),r+=4}break;case cn.RESTORE:s.push(o=>o.restore());break;case cn.SAVE:s.push(o=>o.save());break;case cn.SCALE:Bt(s.length===2,"Scale command is only valid at the third position.");break;case cn.TRANSFORM:{const[o,c,u,h,d,f]=n.slice(r,r+6);s.push(p=>p.transform(o,c,u,h,d,f)),r+=6}break;case cn.TRANSLATE:{const[o,c]=n.slice(r,r+2);s.push(u=>u.translate(o,c)),r+=2}break}return this.compiledGlyphs[i]=function(r,a){s[0](r),s[1](r),r.scale(a,-a);for(let o=2,c=s.length;o<c;o++)s[o](r)}}}if(Ae){var Sm=Promise.withResolvers(),af=null;(async()=>{const e=await Au(()=>iu(()=>import("./__vite-browser-external-BIHI7g3E-BIHI7g3E.js"),[]),[]),t=await Au(()=>iu(()=>import("./__vite-browser-external-BIHI7g3E-BIHI7g3E.js"),[]),[]),i=await Au(()=>iu(()=>import("./__vite-browser-external-BIHI7g3E-BIHI7g3E.js"),[]),[]),n=await Au(()=>iu(()=>import("./__vite-browser-external-BIHI7g3E-BIHI7g3E.js"),[]),[]);let s,r;return new Map(Object.entries({fs:e,http:t,https:i,url:n,canvas:s,path2d:r}))})().then(e=>{af=e,Sm.resolve()},e=>{J(`loadPackages: ${e}`),af=new Map,Sm.resolve()})}class an{static get promise(){return Sm.promise}static get(t){return af==null?void 0:af.get(t)}}const VA=function(e){return an.get("fs").promises.readFile(e).then(t=>new Uint8Array(t))};class iM extends tp{}class nM extends fA{_createCanvas(t,i){return an.get("canvas").createCanvas(t,i)}}class sM extends ep{_fetchData(t,i){return VA(t).then(n=>({cMapData:n,compressionType:i}))}}class rM extends ip{_fetchData(t){return VA(t)}}const Ce={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function xm(e,t){if(!t)return;const i=t[2]-t[0],n=t[3]-t[1],s=new Path2D;s.rect(t[0],t[1],i,n),e.clip(s)}class Jc{constructor(){this.constructor===Jc&&ct("Cannot initialize BaseShadingPattern.")}getPattern(){ct("Abstract method `getPattern` called.")}}class aM extends Jc{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let i;this._type==="axial"?i=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(i=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)i.addColorStop(n[0],n[1]);return i}getPattern(t,i,n,s){let r;if(s===Ce.STROKE||s===Ce.FILL){const a=i.current.getClippedPathBoundingBox(s,_t(t))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,c=Math.ceil(a[3]-a[1])||1,u=i.cachedCanvases.getCanvas("pattern",o,c,!0),h=u.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-a[0],-a[1]),n=j.transform(n,[1,0,0,1,a[0],a[1]]),h.transform(...i.baseTransform),this.matrix&&h.transform(...this.matrix),xm(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),r=t.createPattern(u.canvas,"no-repeat");const d=new DOMMatrix(n);r.setTransform(d)}else xm(t,this._bbox),r=this._createGradient(t);return r}}function $p(e,t,i,n,s,r,a,o){const c=t.coords,u=t.colors,h=e.data,d=e.width*4;let f;c[i+1]>c[n+1]&&(f=i,i=n,n=f,f=r,r=a,a=f),c[n+1]>c[s+1]&&(f=n,n=s,s=f,f=a,a=o,o=f),c[i+1]>c[n+1]&&(f=i,i=n,n=f,f=r,r=a,a=f);const p=(c[i]+t.offsetX)*t.scaleX,g=(c[i+1]+t.offsetY)*t.scaleY,b=(c[n]+t.offsetX)*t.scaleX,_=(c[n+1]+t.offsetY)*t.scaleY,v=(c[s]+t.offsetX)*t.scaleX,m=(c[s+1]+t.offsetY)*t.scaleY;if(g>=m)return;const A=u[r],S=u[r+1],x=u[r+2],C=u[a],T=u[a+1],M=u[a+2],I=u[o],P=u[o+1],O=u[o+2],Y=Math.round(g),B=Math.round(m);let ut,tt,D,W,N,H,G,at;for(let Q=Y;Q<=B;Q++){if(Q<_){const et=Q<g?0:(g-Q)/(g-_);ut=p-(p-b)*et,tt=A-(A-C)*et,D=S-(S-T)*et,W=x-(x-M)*et}else{let et;Q>m?et=1:_===m?et=0:et=(_-Q)/(_-m),ut=b-(b-v)*et,tt=C-(C-I)*et,D=T-(T-P)*et,W=M-(M-O)*et}let ht;Q<g?ht=0:Q>m?ht=1:ht=(g-Q)/(g-m),N=p-(p-v)*ht,H=A-(A-I)*ht,G=S-(S-P)*ht,at=x-(x-O)*ht;const Jt=Math.round(Math.min(ut,N)),Zt=Math.round(Math.max(ut,N));let yt=d*Q+Jt*4;for(let et=Jt;et<=Zt;et++)ht=(ut-et)/(ut-N),ht<0?ht=0:ht>1&&(ht=1),h[yt++]=tt-(tt-H)*ht|0,h[yt++]=D-(D-G)*ht|0,h[yt++]=W-(W-at)*ht|0,h[yt++]=255}}function oM(e,t,i){const n=t.coords,s=t.colors;let r,a;switch(t.type){case"lattice":const o=t.verticesPerRow,c=Math.floor(n.length/o)-1,u=o-1;for(r=0;r<c;r++){let h=r*o;for(let d=0;d<u;d++,h++)$p(e,i,n[h],n[h+1],n[h+o],s[h],s[h+1],s[h+o]),$p(e,i,n[h+o+1],n[h+1],n[h+o],s[h+o+1],s[h+1],s[h+o])}break;case"triangles":for(r=0,a=n.length;r<a;r+=3)$p(e,i,n[r],n[r+1],n[r+2],s[r],s[r+1],s[r+2]);break;default:throw new Error("illegal figure")}}class lM extends Jc{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,i,n){const s=Math.floor(this._bounds[0]),r=Math.floor(this._bounds[1]),a=Math.ceil(this._bounds[2])-s,o=Math.ceil(this._bounds[3])-r,c=Math.min(Math.ceil(Math.abs(a*t[0]*1.1)),3e3),u=Math.min(Math.ceil(Math.abs(o*t[1]*1.1)),3e3),h=a/c,d=o/u,f={coords:this._coords,colors:this._colors,offsetX:-s,offsetY:-r,scaleX:1/h,scaleY:1/d},p=c+2*2,g=u+2*2,b=n.getCanvas("mesh",p,g,!1),_=b.context,v=_.createImageData(c,u);if(i){const m=v.data;for(let A=0,S=m.length;A<S;A+=4)m[A]=i[0],m[A+1]=i[1],m[A+2]=i[2],m[A+3]=255}for(const m of this._figures)oM(v,m,f);return _.putImageData(v,2,2),{canvas:b.canvas,offsetX:s-2*h,offsetY:r-2*d,scaleX:h,scaleY:d}}getPattern(t,i,n,s){xm(t,this._bbox);let r;if(s===Ce.SHADING)r=j.singularValueDecompose2dScale(_t(t));else if(r=j.singularValueDecompose2dScale(i.baseTransform),this.matrix){const o=j.singularValueDecompose2dScale(this.matrix);r=[r[0]*o[0],r[1]*o[1]]}const a=this._createMeshCanvas(r,s===Ce.SHADING?null:this._background,i.cachedCanvases);return s!==Ce.SHADING&&(t.setTransform(...i.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(a.offsetX,a.offsetY),t.scale(a.scaleX,a.scaleY),t.createPattern(a.canvas,"no-repeat")}}class cM extends Jc{getPattern(){return"hotpink"}}function uM(e){switch(e[0]){case"RadialAxial":return new aM(e);case"Mesh":return new lM(e);case"Dummy":return new cM}throw new Error(`Unknown IR type: ${e[0]}`)}const Vb={COLORED:1,UNCOLORED:2},GA=class qA{constructor(t,i,n,s,r){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=i,this.ctx=n,this.canvasGraphicsFactory=s,this.baseTransform=r}createPatternCanvas(t){const i=this.operatorList,n=this.bbox,s=this.xstep,r=this.ystep,a=this.paintType,o=this.tilingType,c=this.color,u=this.canvasGraphicsFactory;Qf("TilingType: "+o);const h=n[0],d=n[1],f=n[2],p=n[3],g=j.singularValueDecompose2dScale(this.matrix),b=j.singularValueDecompose2dScale(this.baseTransform),_=[g[0]*b[0],g[1]*b[1]],v=this.getSizeAndScale(s,this.ctx.canvas.width,_[0]),m=this.getSizeAndScale(r,this.ctx.canvas.height,_[1]),A=t.cachedCanvases.getCanvas("pattern",v.size,m.size,!0),S=A.context,x=u.createCanvasGraphics(S);x.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(x,a,c);let C=h,T=d,M=f,I=p;return h<0&&(C=0,M+=Math.abs(h)),d<0&&(T=0,I+=Math.abs(d)),S.translate(-(v.scale*C),-(m.scale*T)),x.transform(v.scale,0,0,m.scale,0,0),S.save(),this.clipBbox(x,C,T,M,I),x.baseTransform=_t(x.ctx),x.executeOperatorList(i),x.endDrawing(),{canvas:A.canvas,scaleX:v.scale,scaleY:m.scale,offsetX:C,offsetY:T}}getSizeAndScale(t,i,n){t=Math.abs(t);const s=Math.max(qA.MAX_PATTERN_SIZE,i);let r=Math.ceil(t*n);return r>=s?r=s:n=r/t,{scale:n,size:r}}clipBbox(t,i,n,s,r){const a=s-i,o=r-n;t.ctx.rect(i,n,a,o),t.current.updateRectMinMax(_t(t.ctx),[i,n,s,r]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,i,n){const s=t.ctx,r=t.current;switch(i){case Vb.COLORED:const a=this.ctx;s.fillStyle=a.fillStyle,s.strokeStyle=a.strokeStyle,r.fillColor=a.fillStyle,r.strokeColor=a.strokeStyle;break;case Vb.UNCOLORED:const o=j.makeHexColor(n[0],n[1],n[2]);s.fillStyle=o,s.strokeStyle=o,r.fillColor=o,r.strokeColor=o;break;default:throw new LC(`Unsupported paint type: ${i}`)}}getPattern(t,i,n,s){let r=n;s!==Ce.SHADING&&(r=j.transform(r,i.baseTransform),this.matrix&&(r=j.transform(r,this.matrix)));const a=this.createPatternCanvas(i);let o=new DOMMatrix(r);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const c=t.createPattern(a.canvas,"repeat");return c.setTransform(o),c}};X(GA,"MAX_PATTERN_SIZE",3e3);let hM=GA;function dM({src:e,srcPos:t=0,dest:i,width:n,height:s,nonBlackColor:r=4294967295,inverseDecode:a=!1}){const o=Ue.isLittleEndian?4278190080:255,[c,u]=a?[r,o]:[o,r],h=n>>3,d=n&7,f=e.length;i=new Uint32Array(i.buffer);let p=0;for(let g=0;g<s;g++){for(const _=t+h;t<_;t++){const v=t<f?e[t]:255;i[p++]=v&128?u:c,i[p++]=v&64?u:c,i[p++]=v&32?u:c,i[p++]=v&16?u:c,i[p++]=v&8?u:c,i[p++]=v&4?u:c,i[p++]=v&2?u:c,i[p++]=v&1?u:c}if(d===0)continue;const b=t<f?e[t++]:255;for(let _=0;_<d;_++)i[p++]=b&1<<7-_?u:c}return{srcPos:t,destPos:p}}const Gb=16,qb=100,fM=15,Kb=10,Xb=1e3,De=16;function pM(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(i,n){t.translate(i,n),this.__originalTranslate(i,n)},e.scale=function(i,n){t.scale(i,n),this.__originalScale(i,n)},e.transform=function(i,n,s,r,a,o){t.transform(i,n,s,r,a,o),this.__originalTransform(i,n,s,r,a,o)},e.setTransform=function(i,n,s,r,a,o){t.setTransform(i,n,s,r,a,o),this.__originalSetTransform(i,n,s,r,a,o)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(i){t.rotate(i),this.__originalRotate(i)},e.clip=function(i){t.clip(i),this.__originalClip(i)},e.moveTo=function(i,n){t.moveTo(i,n),this.__originalMoveTo(i,n)},e.lineTo=function(i,n){t.lineTo(i,n),this.__originalLineTo(i,n)},e.bezierCurveTo=function(i,n,s,r,a,o){t.bezierCurveTo(i,n,s,r,a,o),this.__originalBezierCurveTo(i,n,s,r,a,o)},e.rect=function(i,n,s,r){t.rect(i,n,s,r),this.__originalRect(i,n,s,r)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class gM{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,i,n){let s;return this.cache[t]!==void 0?(s=this.cache[t],this.canvasFactory.reset(s,i,n)):(s=this.canvasFactory.create(i,n),this.cache[t]=s),s}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const i=this.cache[t];this.canvasFactory.destroy(i),delete this.cache[t]}}}function _u(e,t,i,n,s,r,a,o,c,u){const[h,d,f,p,g,b]=_t(e);if(d===0&&f===0){const m=a*h+g,A=Math.round(m),S=o*p+b,x=Math.round(S),C=(a+c)*h+g,T=Math.abs(Math.round(C)-A)||1,M=(o+u)*p+b,I=Math.abs(Math.round(M)-x)||1;return e.setTransform(Math.sign(h),0,0,Math.sign(p),A,x),e.drawImage(t,i,n,s,r,0,0,T,I),e.setTransform(h,d,f,p,g,b),[T,I]}if(h===0&&p===0){const m=o*f+g,A=Math.round(m),S=a*d+b,x=Math.round(S),C=(o+u)*f+g,T=Math.abs(Math.round(C)-A)||1,M=(a+c)*d+b,I=Math.abs(Math.round(M)-x)||1;return e.setTransform(0,Math.sign(d),Math.sign(f),0,A,x),e.drawImage(t,i,n,s,r,0,0,I,T),e.setTransform(h,d,f,p,g,b),[I,T]}e.drawImage(t,i,n,s,r,a,o,c,u);const _=Math.hypot(h,d),v=Math.hypot(f,p);return[_*c,v*u]}function mM(e){const{width:t,height:i}=e;if(t>Xb||i>Xb)return null;const n=1e3,s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),r=t+1;let a=new Uint8Array(r*(i+1)),o,c,u;const h=t+7&-8;let d=new Uint8Array(h*i),f=0;for(const _ of e.data){let v=128;for(;v>0;)d[f++]=_&v?0:255,v>>=1}let p=0;for(f=0,d[f]!==0&&(a[0]=1,++p),c=1;c<t;c++)d[f]!==d[f+1]&&(a[c]=d[f]?2:1,++p),f++;for(d[f]!==0&&(a[c]=2,++p),o=1;o<i;o++){f=o*h,u=o*r,d[f-h]!==d[f]&&(a[u]=d[f]?1:8,++p);let _=(d[f]?4:0)+(d[f-h]?8:0);for(c=1;c<t;c++)_=(_>>2)+(d[f+1]?4:0)+(d[f-h+1]?8:0),s[_]&&(a[u+c]=s[_],++p),f++;if(d[f-h]!==d[f]&&(a[u+c]=d[f]?2:4,++p),p>n)return null}for(f=h*(i-1),u=o*r,d[f]!==0&&(a[u]=8,++p),c=1;c<t;c++)d[f]!==d[f+1]&&(a[u+c]=d[f]?4:8,++p),f++;if(d[f]!==0&&(a[u+c]=4,++p),p>n)return null;const g=new Int32Array([0,r,-1,0,-r,0,0,0,1]),b=new Path2D;for(o=0;p&&o<=i;o++){let _=o*r;const v=_+t;for(;_<v&&!a[_];)_++;if(_===v)continue;b.moveTo(_%r,o);const m=_;let A=a[_];do{const S=g[A];do _+=S;while(!a[_]);const x=a[_];x!==5&&x!==10?(A=x,a[_]=0):(A=x&51*A>>4,a[_]&=A>>2|A<<2),b.lineTo(_%r,_/r|0),a[_]||--p}while(m!==_);--o}return d=null,a=null,function(_){_.save(),_.scale(1/t,-1/i),_.translate(0,-i),_.fill(b),_.beginPath(),_.restore()}}class Yb{constructor(t,i){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=lA,this.textMatrixScale=1,this.fontMatrix=Kg,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=ue.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,i])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,i){this.x=t,this.y=i}updatePathMinMax(t,i,n){[i,n]=j.applyTransform([i,n],t),this.minX=Math.min(this.minX,i),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,i),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(t,i){const n=j.applyTransform(i,t),s=j.applyTransform(i.slice(2),t),r=j.applyTransform([i[0],i[3]],t),a=j.applyTransform([i[2],i[1]],t);this.minX=Math.min(this.minX,n[0],s[0],r[0],a[0]),this.minY=Math.min(this.minY,n[1],s[1],r[1],a[1]),this.maxX=Math.max(this.maxX,n[0],s[0],r[0],a[0]),this.maxY=Math.max(this.maxY,n[1],s[1],r[1],a[1])}updateScalingPathMinMax(t,i){j.scaleMinMax(t,i),this.minX=Math.min(this.minX,i[0]),this.minY=Math.min(this.minY,i[1]),this.maxX=Math.max(this.maxX,i[2]),this.maxY=Math.max(this.maxY,i[3])}updateCurvePathMinMax(t,i,n,s,r,a,o,c,u,h){const d=j.bezierBoundingBox(i,n,s,r,a,o,c,u,h);h||this.updateRectMinMax(t,d)}getPathBoundingBox(t=Ce.FILL,i=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(t===Ce.STROKE){i||ct("Stroke bounding box must include transform.");const s=j.singularValueDecompose2dScale(i),r=s[0]*this.lineWidth/2,a=s[1]*this.lineWidth/2;n[0]-=r,n[1]-=a,n[2]+=r,n[3]+=a}return n}updateClipFromPath(){const t=j.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=Ce.FILL,i=null){return j.intersect(this.clipBox,this.getPathBoundingBox(t,i))}}function Qb(e,t){if(typeof ImageData<"u"&&t instanceof ImageData){e.putImageData(t,0,0);return}const i=t.height,n=t.width,s=i%De,r=(i-s)/De,a=s===0?r:r+1,o=e.createImageData(n,De);let c=0,u;const h=t.data,d=o.data;let f,p,g,b;if(t.kind===Qu.GRAYSCALE_1BPP){const _=h.byteLength,v=new Uint32Array(d.buffer,0,d.byteLength>>2),m=v.length,A=n+7>>3,S=4294967295,x=Ue.isLittleEndian?4278190080:255;for(f=0;f<a;f++){for(g=f<r?De:s,u=0,p=0;p<g;p++){const C=_-c;let T=0;const M=C>A?n:C*8-7,I=M&-8;let P=0,O=0;for(;T<I;T+=8)O=h[c++],v[u++]=O&128?S:x,v[u++]=O&64?S:x,v[u++]=O&32?S:x,v[u++]=O&16?S:x,v[u++]=O&8?S:x,v[u++]=O&4?S:x,v[u++]=O&2?S:x,v[u++]=O&1?S:x;for(;T<M;T++)P===0&&(O=h[c++],P=128),v[u++]=O&P?S:x,P>>=1}for(;u<m;)v[u++]=0;e.putImageData(o,0,f*De)}}else if(t.kind===Qu.RGBA_32BPP){for(p=0,b=n*De*4,f=0;f<r;f++)d.set(h.subarray(c,c+b)),c+=b,e.putImageData(o,0,p),p+=De;f<a&&(b=n*s*4,d.set(h.subarray(c,c+b)),e.putImageData(o,0,p))}else if(t.kind===Qu.RGB_24BPP)for(g=De,b=n*g,f=0;f<a;f++){for(f>=r&&(g=s,b=n*g),u=0,p=b;p--;)d[u++]=h[c++],d[u++]=h[c++],d[u++]=h[c++],d[u++]=255;e.putImageData(o,0,f*De)}else throw new Error(`bad image kind: ${t.kind}`)}function Jb(e,t){if(t.bitmap){e.drawImage(t.bitmap,0,0);return}const i=t.height,n=t.width,s=i%De,r=(i-s)/De,a=s===0?r:r+1,o=e.createImageData(n,De);let c=0;const u=t.data,h=o.data;for(let d=0;d<a;d++){const f=d<r?De:s;({srcPos:c}=dM({src:u,srcPos:c,dest:h,width:n,height:f,nonBlackColor:0})),e.putImageData(o,0,d*De)}}function Go(e,t){const i=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of i)e[n]!==void 0&&(t[n]=e[n]);e.setLineDash!==void 0&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function Su(e){if(e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",e.setLineDash!==void 0&&(e.setLineDash([]),e.lineDashOffset=0),!Ae){const{filter:t}=e;t!=="none"&&t!==""&&(e.filter="none")}}function Zb(e,t){if(t)return!0;const i=j.singularValueDecompose2dScale(e);i[0]=Math.fround(i[0]),i[1]=Math.fround(i[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*To.PDF_TO_CSS_UNITS);return i[0]<=n&&i[1]<=n}const vM=["butt","round","square"],bM=["miter","round","bevel"],yM={},ty={};var ba,Em,Cm;const wM=class KA{constructor(t,i,n,s,r,{optionalContentConfig:a,markedContentStack:o=null},c,u){k(this,ba),this.ctx=t,this.current=new Yb(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=i,this.objs=n,this.canvasFactory=s,this.filterFactory=r,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new gM(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,i=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):i}beginDrawing({transform:t,viewport:i,transparency:n=!1,background:s=null}){const r=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,r,a),this.ctx.fillStyle=o,n){const c=this.cachedCanvases.getCanvas("transparent",r,a);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(..._t(this.compositeCtx))}this.ctx.save(),Su(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...i.transform),this.viewportScale=i.scale,this.baseTransform=_t(this.ctx)}executeOperatorList(t,i,n,s){const r=t.argsArray,a=t.fnArray;let o=i||0;const c=r.length;if(c===o)return o;const u=c-o>Kb&&typeof n=="function",h=u?Date.now()+fM:0;let d=0;const f=this.commonObjs,p=this.objs;let g;for(;;){if(s!==void 0&&o===s.nextBreakPoint)return s.breakIt(o,n),o;if(g=a[o],g!==Mi.dependency)this[g].apply(this,r[o]);else for(const b of r[o]){const _=b.startsWith("g_")?f:p;if(!_.has(b))return _.get(b,n),o}if(o++,o===c)return o;if(u&&++d>Kb){if(Date.now()>h)return n(),o;d=0}}}endDrawing(){w(this,ba,Em).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const i of t.values())typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&(i.width=i.height=0);t.clear()}this._cachedBitmapsMap.clear(),w(this,ba,Cm).call(this)}_scaleImage(t,i){const n=t.width,s=t.height;let r=Math.max(Math.hypot(i[0],i[1]),1),a=Math.max(Math.hypot(i[2],i[3]),1),o=n,c=s,u="prescale1",h,d;for(;r>2&&o>1||a>2&&c>1;){let f=o,p=c;r>2&&o>1&&(f=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),r/=o/f),a>2&&c>1&&(p=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,a/=c/p),h=this.cachedCanvases.getCanvas(u,f,p),d=h.context,d.clearRect(0,0,f,p),d.drawImage(t,0,0,o,c,0,0,f,p),t=h.canvas,o=f,c=p,u=u==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:o,paintHeight:c}}_createMaskCanvas(t){const i=this.ctx,{width:n,height:s}=t,r=this.current.fillColor,a=this.current.patternFill,o=_t(i);let c,u,h,d;if((t.bitmap||t.data)&&t.count>1){const M=t.bitmap||t.data.buffer;u=JSON.stringify(a?o:[o.slice(0,4),r]),c=this._cachedBitmapsMap.get(M),c||(c=new Map,this._cachedBitmapsMap.set(M,c));const I=c.get(u);if(I&&!a){const P=Math.round(Math.min(o[0],o[2])+o[4]),O=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:I,offsetX:P,offsetY:O}}h=I}h||(d=this.cachedCanvases.getCanvas("maskCanvas",n,s),Jb(d.context,t));let f=j.transform(o,[1/n,0,0,-1/s,0,0]);f=j.transform(f,[1,0,0,1,0,-s]);const[p,g,b,_]=j.getAxialAlignedBoundingBox([0,0,n,s],f),v=Math.round(b-p)||1,m=Math.round(_-g)||1,A=this.cachedCanvases.getCanvas("fillCanvas",v,m),S=A.context,x=p,C=g;S.translate(-x,-C),S.transform(...f),h||(h=this._scaleImage(d.canvas,un(S)),h=h.img,c&&a&&c.set(u,h)),S.imageSmoothingEnabled=Zb(_t(S),t.interpolate),_u(S,h,0,0,h.width,h.height,0,0,n,s),S.globalCompositeOperation="source-in";const T=j.transform(un(S),[1,0,0,1,-x,-C]);return S.fillStyle=a?r.getPattern(i,this,T,Ce.FILL):r,S.fillRect(0,0,n,s),c&&!a&&(this.cachedCanvases.delete("fillCanvas"),c.set(u,A.canvas)),{canvas:A.canvas,offsetX:Math.round(x),offsetY:Math.round(C)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=vM[t]}setLineJoin(t){this.ctx.lineJoin=bM[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,i){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(t),n.lineDashOffset=i)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[i,n]of t)switch(i){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,i=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(n,t,i);this.suspendedCtx=this.ctx,this.ctx=s.context;const r=this.ctx;r.setTransform(..._t(this.suspendedCtx)),Go(this.suspendedCtx,r),pM(r,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Go(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const i=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,i,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,i,n,s){const r=s[0],a=s[1],o=s[2]-r,c=s[3]-a;o===0||c===0||(this.genericComposeSMask(i.context,n,o,c,i.subtype,i.backdrop,i.transferMap,r,a,i.offsetX,i.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,i,n,s,r,a,o,c,u,h,d){let f=t.canvas,p=c-h,g=u-d;if(a){if(p<0||g<0||p+n>f.width||g+s>f.height){const _=this.cachedCanvases.getCanvas("maskExtension",n,s),v=_.context;v.drawImage(f,-p,-g),a.some(m=>m!==0)&&(v.globalCompositeOperation="destination-atop",v.fillStyle=j.makeHexColor(...a),v.fillRect(0,0,n,s),v.globalCompositeOperation="source-over"),f=_.canvas,p=g=0}else if(a.some(_=>_!==0)){t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const _=new Path2D;_.rect(p,g,n,s),t.clip(_),t.globalCompositeOperation="destination-atop",t.fillStyle=j.makeHexColor(...a),t.fillRect(p,g,n,s),t.restore()}}i.save(),i.globalAlpha=1,i.setTransform(1,0,0,1,0,0),r==="Alpha"&&o?i.filter=this.filterFactory.addAlphaFilter(o):r==="Luminosity"&&(i.filter=this.filterFactory.addLuminosityFilter(o));const b=new Path2D;b.rect(c,u,n,s),i.clip(b),i.globalCompositeOperation="destination-in",i.drawImage(f,p,g,n,s,c,u,n,s),i.restore()}save(){this.inSMaskMode?(Go(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Go(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,i,n,s,r,a){this.ctx.transform(t,i,n,s,r,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,i,n){const s=this.ctx,r=this.current;let a=r.x,o=r.y,c,u;const h=_t(s),d=h[0]===0&&h[3]===0||h[1]===0&&h[2]===0,f=d?n.slice(0):null;for(let p=0,g=0,b=t.length;p<b;p++)switch(t[p]|0){case Mi.rectangle:a=i[g++],o=i[g++];const _=i[g++],v=i[g++],m=a+_,A=o+v;s.moveTo(a,o),_===0||v===0?s.lineTo(m,A):(s.lineTo(m,o),s.lineTo(m,A),s.lineTo(a,A)),d||r.updateRectMinMax(h,[a,o,m,A]),s.closePath();break;case Mi.moveTo:a=i[g++],o=i[g++],s.moveTo(a,o),d||r.updatePathMinMax(h,a,o);break;case Mi.lineTo:a=i[g++],o=i[g++],s.lineTo(a,o),d||r.updatePathMinMax(h,a,o);break;case Mi.curveTo:c=a,u=o,a=i[g+4],o=i[g+5],s.bezierCurveTo(i[g],i[g+1],i[g+2],i[g+3],a,o),r.updateCurvePathMinMax(h,c,u,i[g],i[g+1],i[g+2],i[g+3],a,o,f),g+=6;break;case Mi.curveTo2:c=a,u=o,s.bezierCurveTo(a,o,i[g],i[g+1],i[g+2],i[g+3]),r.updateCurvePathMinMax(h,c,u,a,o,i[g],i[g+1],i[g+2],i[g+3],f),a=i[g+2],o=i[g+3],g+=4;break;case Mi.curveTo3:c=a,u=o,a=i[g+2],o=i[g+3],s.bezierCurveTo(i[g],i[g+1],a,o,a,o),r.updateCurvePathMinMax(h,c,u,i[g],i[g+1],a,o,a,o,f),g+=4;break;case Mi.closePath:s.closePath();break}d&&r.updateScalingPathMinMax(h,f),r.setCurrentPoint(a,o)}closePath(){this.ctx.closePath()}stroke(t=!0){const i=this.ctx,n=this.current.strokeColor;i.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&n!=null&&n.getPattern?(i.save(),i.strokeStyle=n.getPattern(i,this,un(i),Ce.STROKE),this.rescaleAndStroke(!1),i.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),i.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const i=this.ctx,n=this.current.fillColor,s=this.current.patternFill;let r=!1;s&&(i.save(),i.fillStyle=n.getPattern(i,this,un(i),Ce.FILL),r=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(i.fill("evenodd"),this.pendingEOFill=!1):i.fill()),r&&i.restore(),t&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=yM}eoClip(){this.pendingClip=ty}beginText(){this.current.textMatrix=lA,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,i=this.ctx;if(t===void 0){i.beginPath();return}i.save(),i.beginPath();for(const n of t)i.setTransform(...n.transform),i.translate(n.x,n.y),n.addToPath(i,n.fontSize);i.restore(),i.clip(),i.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,i){var n;const s=this.commonObjs.get(t),r=this.current;if(!s)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=s.fontMatrix||Kg,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&J("Invalid font matrix for font "+t),i<0?(i=-i,r.fontDirection=-1):r.fontDirection=1,this.current.font=s,this.current.fontSize=i,s.isType3Font)return;const a=s.loadedName||"sans-serif",o=((n=s.systemFontInfo)==null?void 0:n.css)||`"${a}", ${s.fallbackName}`;let c="normal";s.black?c="900":s.bold&&(c="bold");const u=s.italic?"italic":"normal";let h=i;i<Gb?h=Gb:i>qb&&(h=qb),this.current.fontSizeScale=i/h,this.ctx.font=`${u} ${c} ${h}px ${o}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,i){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=i}setLeadingMoveText(t,i){this.setLeading(-i),this.moveText(t,i)}setTextMatrix(t,i,n,s,r,a){this.current.textMatrix=[t,i,n,s,r,a],this.current.textMatrixScale=Math.hypot(t,i),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,i,n,s){const r=this.ctx,a=this.current,o=a.font,c=a.textRenderingMode,u=a.fontSize/a.fontSizeScale,h=c&ue.FILL_STROKE_MASK,d=!!(c&ue.ADD_TO_PATH_FLAG),f=a.patternFill&&!o.missingFile;let p;(o.disableFontFace||d||f)&&(p=o.getPathGenerator(this.commonObjs,t)),o.disableFontFace||f?(r.save(),r.translate(i,n),r.beginPath(),p(r,u),s&&r.setTransform(...s),(h===ue.FILL||h===ue.FILL_STROKE)&&r.fill(),(h===ue.STROKE||h===ue.FILL_STROKE)&&r.stroke(),r.restore()):((h===ue.FILL||h===ue.FILL_STROKE)&&r.fillText(t,i,n),(h===ue.STROKE||h===ue.FILL_STROKE)&&r.strokeText(t,i,n)),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:_t(r),x:i,y:n,fontSize:u,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const i=t.getImageData(0,0,10,10).data;let n=!1;for(let s=3;s<i.length;s+=4)if(i[s]>0&&i[s]<255){n=!0;break}return st(this,"isFontSubpixelAAEnabled",n)}showText(t){const i=this.current,n=i.font;if(n.isType3Font)return this.showType3Text(t);const s=i.fontSize;if(s===0)return;const r=this.ctx,a=i.fontSizeScale,o=i.charSpacing,c=i.wordSpacing,u=i.fontDirection,h=i.textHScale*u,d=t.length,f=n.vertical,p=f?1:-1,g=n.defaultVMetrics,b=s*i.fontMatrix[0],_=i.textRenderingMode===ue.FILL&&!n.disableFontFace&&!i.patternFill;r.save(),r.transform(...i.textMatrix),r.translate(i.x,i.y+i.textRise),u>0?r.scale(h,-1):r.scale(h,1);let v;if(i.patternFill){r.save();const C=i.fillColor.getPattern(r,this,un(r),Ce.FILL);v=_t(r),r.restore(),r.fillStyle=C}let m=i.lineWidth;const A=i.textMatrixScale;if(A===0||m===0){const C=i.textRenderingMode&ue.FILL_STROKE_MASK;(C===ue.STROKE||C===ue.FILL_STROKE)&&(m=this.getSinglePixelWidth())}else m/=A;if(a!==1&&(r.scale(a,a),m/=a),r.lineWidth=m,n.isInvalidPDFjsFont){const C=[];let T=0;for(const M of t)C.push(M.unicode),T+=M.width;r.fillText(C.join(""),0,0),i.x+=T*b*h,r.restore(),this.compose();return}let S=0,x;for(x=0;x<d;++x){const C=t[x];if(typeof C=="number"){S+=p*C*s/1e3;continue}let T=!1;const M=(C.isSpace?c:0)+o,I=C.fontChar,P=C.accent;let O,Y,B=C.width;if(f){const tt=C.vmetric||g,D=-(C.vmetric?tt[1]:B*.5)*b,W=tt[2]*b;B=tt?-tt[0]:B,O=D/a,Y=(S+W)/a}else O=S/a,Y=0;if(n.remeasure&&B>0){const tt=r.measureText(I).width*1e3/s*a;if(B<tt&&this.isFontSubpixelAAEnabled){const D=B/tt;T=!0,r.save(),r.scale(D,1),O/=D}else B!==tt&&(O+=(B-tt)/2e3*s/a)}if(this.contentVisible&&(C.isInFont||n.missingFile)){if(_&&!P)r.fillText(I,O,Y);else if(this.paintChar(I,O,Y,v),P){const tt=O+s*P.offset.x/a,D=Y-s*P.offset.y/a;this.paintChar(P.fontChar,tt,D,v)}}const ut=f?B*b-M*u:B*b+M*u;S+=ut,T&&r.restore()}f?i.y-=S:i.x+=S*h,r.restore(),this.compose()}showType3Text(t){const i=this.ctx,n=this.current,s=n.font,r=n.fontSize,a=n.fontDirection,o=s.vertical?1:-1,c=n.charSpacing,u=n.wordSpacing,h=n.textHScale*a,d=n.fontMatrix||Kg,f=t.length,p=n.textRenderingMode===ue.INVISIBLE;let g,b,_,v;if(!(p||r===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),i.transform(...n.textMatrix),i.translate(n.x,n.y),i.scale(h,a),g=0;g<f;++g){if(b=t[g],typeof b=="number"){v=o*b*r/1e3,this.ctx.translate(v,0),n.x+=v*h;continue}const m=(b.isSpace?u:0)+c,A=s.charProcOperatorList[b.operatorListId];if(!A){J(`Type3 character "${b.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=b,this.save(),i.scale(r,r),i.transform(...d),this.executeOperatorList(A),this.restore()),_=j.applyTransform([b.width,0],d)[0]*r+m,i.translate(_,0),n.x+=_*h}i.restore(),this.processingType3=null}}setCharWidth(t,i){}setCharWidthAndBounds(t,i,n,s,r,a){this.ctx.rect(n,s,r-n,a-s),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let i;if(t[0]==="TilingPattern"){const n=t[1],s=this.baseTransform||_t(this.ctx),r={createCanvasGraphics:a=>new KA(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};i=new hM(t,n,this.ctx,r,s)}else i=this._getPattern(t[1],t[2]);return i}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,i,n){const s=j.makeHexColor(t,i,n);this.ctx.strokeStyle=s,this.current.strokeColor=s}setFillRGBColor(t,i,n){const s=j.makeHexColor(t,i,n);this.ctx.fillStyle=s,this.current.fillColor=s,this.current.patternFill=!1}_getPattern(t,i=null){let n;return this.cachedPatterns.has(t)?n=this.cachedPatterns.get(t):(n=uM(this.getObject(t)),this.cachedPatterns.set(t,n)),i&&(n.matrix=i),n}shadingFill(t){if(!this.contentVisible)return;const i=this.ctx;this.save();const n=this._getPattern(t);i.fillStyle=n.getPattern(i,this,un(i),Ce.SHADING);const s=un(i);if(s){const{width:r,height:a}=i.canvas,[o,c,u,h]=j.getAxialAlignedBoundingBox([0,0,r,a],s);this.ctx.fillRect(o,c,u-o,h-c)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){ct("Should not call beginInlineImage")}beginImageData(){ct("Should not call beginImageData")}paintFormXObjectBegin(t,i){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=_t(this.ctx),i)){const n=i[2]-i[0],s=i[3]-i[1];this.ctx.rect(i[0],i[1],n,s),this.current.updateRectMinMax(_t(this.ctx),i),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;t.isolated||Qf("TODO: Support non-isolated groups."),t.knockout&&J("Knockout groups not supported.");const n=_t(i);if(t.matrix&&i.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=j.getAxialAlignedBoundingBox(t.bbox,_t(i));const r=[0,0,i.canvas.width,i.canvas.height];s=j.intersect(s,r)||[0,0,0,0];const a=Math.floor(s[0]),o=Math.floor(s[1]),c=Math.max(Math.ceil(s[2])-a,1),u=Math.max(Math.ceil(s[3])-o,1);this.current.startNewPathAndClipBox([0,0,c,u]);let h="groupAt"+this.groupLevel;t.smask&&(h+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(h,c,u),f=d.context;f.translate(-a,-o),f.transform(...n),t.smask?this.smaskStack.push({canvas:d.canvas,context:f,offsetX:a,offsetY:o,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(i.setTransform(1,0,0,1,0,0),i.translate(a,o),i.save()),Go(i,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=_t(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const r=j.getAxialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],s);this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(r)}}beginAnnotation(t,i,n,s,r){if(w(this,ba,Em).call(this),Su(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const a=i[2]-i[0],o=i[3]-i[1];if(r&&this.annotationCanvasMap){n=n.slice(),n[4]-=i[0],n[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=a,i[3]=o;const[c,u]=j.singularValueDecompose2dScale(_t(this.ctx)),{viewportScale:h}=this,d=Math.ceil(a*this.outputScaleX*h),f=Math.ceil(o*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(d,f);const{canvas:p,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(t,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(c,0,0,-u,0,o*u),Su(this.ctx)}else Su(this.ctx),this.ctx.rect(i[0],i[1],a,o),this.ctx.clip(),this.endPath()}this.current=new Yb(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),w(this,ba,Cm).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const i=t.count;t=this.getObject(t.data,t),t.count=i;const n=this.ctx,s=this.processingType3;if(s&&(s.compiled===void 0&&(s.compiled=mM(t)),s.compiled)){s.compiled(n);return}const r=this._createMaskCanvas(t),a=r.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(a,r.offsetX,r.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(t,i,n=0,s=0,r,a){if(!this.contentVisible)return;t=this.getObject(t.data,t);const o=this.ctx;o.save();const c=_t(o);o.transform(i,n,s,r,0,0);const u=this._createMaskCanvas(t);o.setTransform(1,0,0,1,u.offsetX-c[4],u.offsetY-c[5]);for(let h=0,d=a.length;h<d;h+=2){const f=j.transform(c,[i,n,s,r,a[h],a[h+1]]),[p,g]=j.applyTransform([0,0],f);o.drawImage(u.canvas,p,g)}o.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const i=this.ctx,n=this.current.fillColor,s=this.current.patternFill;for(const r of t){const{data:a,width:o,height:c,transform:u}=r,h=this.cachedCanvases.getCanvas("maskCanvas",o,c),d=h.context;d.save();const f=this.getObject(a,r);Jb(d,f),d.globalCompositeOperation="source-in",d.fillStyle=s?n.getPattern(d,this,un(i),Ce.FILL):n,d.fillRect(0,0,o,c),d.restore(),i.save(),i.transform(...u),i.scale(1,-1),_u(i,h.canvas,0,0,o,c,0,-1,1,1),i.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const i=this.getObject(t);if(!i){J("Dependent image isn't ready yet");return}this.paintInlineImageXObject(i)}paintImageXObjectRepeat(t,i,n,s){if(!this.contentVisible)return;const r=this.getObject(t);if(!r){J("Dependent image isn't ready yet");return}const a=r.width,o=r.height,c=[];for(let u=0,h=s.length;u<h;u+=2)c.push({transform:[i,0,0,n,s[u],s[u+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(r,c)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:i,width:n,height:s}=t,r=this.cachedCanvases.getCanvas("inlineImage",n,s),a=r.context;return a.filter=this.current.transferMaps,a.drawImage(i,0,0),a.filter="none",r.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const i=t.width,n=t.height,s=this.ctx;if(this.save(),!Ae){const{filter:o}=s;o!=="none"&&o!==""&&(s.filter="none")}s.scale(1/i,-1/n);let r;if(t.bitmap)r=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)r=t;else{const o=this.cachedCanvases.getCanvas("inlineImage",i,n).context;Qb(o,t),r=this.applyTransferMapsToCanvas(o)}const a=this._scaleImage(r,un(s));s.imageSmoothingEnabled=Zb(_t(s),t.interpolate),_u(s,a.img,0,0,a.paintWidth,a.paintHeight,0,-n,i,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,i){if(!this.contentVisible)return;const n=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const r=t.width,a=t.height,o=this.cachedCanvases.getCanvas("inlineImage",r,a).context;Qb(o,t),s=this.applyTransferMapsToCanvas(o)}for(const r of i)n.save(),n.transform(...r.transform),n.scale(1,-1),_u(n,s,r.x,r.y,r.w,r.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,i){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,i){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const n=this.ctx;this.pendingClip&&(i||(this.pendingClip===ty?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=_t(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const i=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),s=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,s)/i}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:i,b:n,c:s,d:r}=this.ctx.getTransform();let a,o;if(n===0&&s===0){const c=Math.abs(i),u=Math.abs(r);if(c===u)if(t===0)a=o=1/c;else{const h=c*t;a=o=h<1?1/h:1}else if(t===0)a=1/c,o=1/u;else{const h=c*t,d=u*t;a=h<1?1/h:1,o=d<1?1/d:1}}else{const c=Math.abs(i*r-n*s),u=Math.hypot(i,n),h=Math.hypot(s,r);if(t===0)a=h/c,o=u/c;else{const d=t*c;a=h>d?h/d:1,o=u>d?u/d:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:i}=this,{lineWidth:n}=this.current,[s,r]=this.getScaleForStroking();if(i.lineWidth=n||1,s===1&&r===1){i.stroke();return}const a=i.getLineDash();if(t&&i.save(),i.scale(s,r),a.length>0){const o=Math.max(s,r);i.setLineDash(a.map(c=>c/o)),i.lineDashOffset/=o}i.stroke(),t&&i.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};ba=new WeakSet,Em=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Cm=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let Ch=wM;for(const e in Mi)Ch.prototype[e]!==void 0&&(Ch.prototype[Mi[e]]=Ch.prototype[e]);var of,lf;class Ws{static get workerPort(){return l(this,of)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");y(this,of,t)}static get workerSrc(){return l(this,lf)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");y(this,lf,t)}}of=new WeakMap,lf=new WeakMap,k(Ws,of,null),k(Ws,lf,"");const xu={UNKNOWN:0,DATA:1,ERROR:2},Nt={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Xe(e){switch(e instanceof Error||typeof e=="object"&&e!==null||ct('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new Gr(e.message);case"MissingPDFException":return new Vr(e.message);case"PasswordException":return new Yg(e.message,e.code);case"UnexpectedResponseException":return new Jf(e.message,e.status);case"UnknownErrorException":return new Qg(e.message,e.details);default:return new Qg(e.message,e.toString())}}var xr,XA,YA,Eu;class xl{constructor(t,i,n){k(this,xr),this.sourceName=t,this.targetName=i,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=s=>{const r=s.data;if(r.targetName!==this.sourceName)return;if(r.stream){w(this,xr,YA).call(this,r);return}if(r.callback){const o=r.callbackId,c=this.callbackCapabilities[o];if(!c)throw new Error(`Cannot resolve callback ${o}`);if(delete this.callbackCapabilities[o],r.callback===xu.DATA)c.resolve(r.data);else if(r.callback===xu.ERROR)c.reject(Xe(r.reason));else throw new Error("Unexpected callback case");return}const a=this.actionHandler[r.action];if(!a)throw new Error(`Unknown action from worker: ${r.action}`);if(r.callbackId){const o=this.sourceName,c=r.sourceName;new Promise(function(u){u(a(r.data))}).then(function(u){n.postMessage({sourceName:o,targetName:c,callback:xu.DATA,callbackId:r.callbackId,data:u})},function(u){n.postMessage({sourceName:o,targetName:c,callback:xu.ERROR,callbackId:r.callbackId,reason:Xe(u)})});return}if(r.streamId){w(this,xr,XA).call(this,r);return}a(r.data)},n.addEventListener("message",this._onComObjOnMessage)}on(t,i){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=i}send(t,i,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:i},n)}sendWithPromise(t,i,n){const s=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[s]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:s,data:i},n)}catch(a){r.reject(a)}return r.promise}sendWithStream(t,i,n,s){const r=this.streamId++,a=this.sourceName,o=this.targetName,c=this.comObj;return new ReadableStream({start:u=>{const h=Promise.withResolvers();return this.streamControllers[r]={controller:u,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:a,targetName:o,action:t,streamId:r,data:i,desiredSize:u.desiredSize},s),h.promise},pull:u=>{const h=Promise.withResolvers();return this.streamControllers[r].pullCall=h,c.postMessage({sourceName:a,targetName:o,stream:Nt.PULL,streamId:r,desiredSize:u.desiredSize}),h.promise},cancel:u=>{Bt(u instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[r].cancelCall=h,this.streamControllers[r].isClosed=!0,c.postMessage({sourceName:a,targetName:o,stream:Nt.CANCEL,streamId:r,reason:Xe(u)}),h.promise}},n)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}xr=new WeakSet,XA=function(e){const t=e.streamId,i=this.sourceName,n=e.sourceName,s=this.comObj,r=this,a=this.actionHandler[e.action],o={enqueue(c,u=1,h){if(this.isCancelled)return;const d=this.desiredSize;this.desiredSize-=u,d>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:n,stream:Nt.ENQUEUE,streamId:t,chunk:c},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:n,stream:Nt.CLOSE,streamId:t}),delete r.streamSinks[t])},error(c){Bt(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:n,stream:Nt.ERROR,streamId:t,reason:Xe(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};o.sinkCapability.resolve(),o.ready=o.sinkCapability.promise,this.streamSinks[t]=o,new Promise(function(c){c(a(e.data,o))}).then(function(){s.postMessage({sourceName:i,targetName:n,stream:Nt.START_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:i,targetName:n,stream:Nt.START_COMPLETE,streamId:t,reason:Xe(c)})})},YA=function(e){const t=e.streamId,i=this.sourceName,n=e.sourceName,s=this.comObj,r=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case Nt.START_COMPLETE:e.success?r.startCall.resolve():r.startCall.reject(Xe(e.reason));break;case Nt.PULL_COMPLETE:e.success?r.pullCall.resolve():r.pullCall.reject(Xe(e.reason));break;case Nt.PULL:if(!a){s.postMessage({sourceName:i,targetName:n,stream:Nt.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise(function(o){var c;o((c=a.onPull)==null?void 0:c.call(a))}).then(function(){s.postMessage({sourceName:i,targetName:n,stream:Nt.PULL_COMPLETE,streamId:t,success:!0})},function(o){s.postMessage({sourceName:i,targetName:n,stream:Nt.PULL_COMPLETE,streamId:t,reason:Xe(o)})});break;case Nt.ENQUEUE:if(Bt(r,"enqueue should have stream controller"),r.isClosed)break;r.controller.enqueue(e.chunk);break;case Nt.CLOSE:if(Bt(r,"close should have stream controller"),r.isClosed)break;r.isClosed=!0,r.controller.close(),w(this,xr,Eu).call(this,r,t);break;case Nt.ERROR:Bt(r,"error should have stream controller"),r.controller.error(Xe(e.reason)),w(this,xr,Eu).call(this,r,t);break;case Nt.CANCEL_COMPLETE:e.success?r.cancelCall.resolve():r.cancelCall.reject(Xe(e.reason)),w(this,xr,Eu).call(this,r,t);break;case Nt.CANCEL:if(!a)break;new Promise(function(o){var c;o((c=a.onCancel)==null?void 0:c.call(a,Xe(e.reason)))}).then(function(){s.postMessage({sourceName:i,targetName:n,stream:Nt.CANCEL_COMPLETE,streamId:t,success:!0})},function(o){s.postMessage({sourceName:i,targetName:n,stream:Nt.CANCEL_COMPLETE,streamId:t,reason:Xe(o)})}),a.sinkCapability.reject(Xe(e.reason)),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Eu=async function(e,t){var i,n,s;await Promise.allSettled([(i=e.startCall)==null?void 0:i.promise,(n=e.pullCall)==null?void 0:n.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var ya,Mh;class AM{constructor({parsedData:t,rawData:i}){k(this,ya),k(this,Mh),y(this,ya,t),y(this,Mh,i)}getRaw(){return l(this,Mh)}get(t){return l(this,ya).get(t)??null}getAll(){return r0(l(this,ya))}has(t){return l(this,ya).has(t)}}ya=new WeakMap,Mh=new WeakMap;const Qn=Symbol("INTERNAL");var Th,Rh,Ph,El;class kM{constructor(t,{name:i,intent:n,usage:s}){k(this,Th,!1),k(this,Rh,!1),k(this,Ph,!1),k(this,El,!0),y(this,Th,!!(t&ci.DISPLAY)),y(this,Rh,!!(t&ci.PRINT)),this.name=i,this.intent=n,this.usage=s}get visible(){if(l(this,Ph))return l(this,El);if(!l(this,El))return!1;const{print:t,view:i}=this.usage;return l(this,Th)?(i==null?void 0:i.viewState)!=="OFF":l(this,Rh)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,i,n=!1){t!==Qn&&ct("Internal method `_setVisible` called."),y(this,Ph,n),y(this,El,i)}}Th=new WeakMap,Rh=new WeakMap,Ph=new WeakMap,El=new WeakMap;var tr,dt,Cl,Ml,cf,Mm;class _M{constructor(t,i=ci.DISPLAY){if(k(this,cf),k(this,tr,null),k(this,dt,new Map),k(this,Cl,null),k(this,Ml,null),this.renderingIntent=i,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,y(this,Ml,t.order);for(const n of t.groups)l(this,dt).set(n.id,new kM(i,n));if(t.baseState==="OFF")for(const n of l(this,dt).values())n._setVisible(Qn,!1);for(const n of t.on)l(this,dt).get(n)._setVisible(Qn,!0);for(const n of t.off)l(this,dt).get(n)._setVisible(Qn,!1);y(this,Cl,this.getHash())}}isVisible(t){if(l(this,dt).size===0)return!0;if(!t)return Qf("Optional content group not defined."),!0;if(t.type==="OCG")return l(this,dt).has(t.id)?l(this,dt).get(t.id).visible:(J(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return w(this,cf,Mm).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const i of t.ids){if(!l(this,dt).has(i))return J(`Optional content group not found: ${i}`),!0;if(l(this,dt).get(i).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const i of t.ids){if(!l(this,dt).has(i))return J(`Optional content group not found: ${i}`),!0;if(!l(this,dt).get(i).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const i of t.ids){if(!l(this,dt).has(i))return J(`Optional content group not found: ${i}`),!0;if(!l(this,dt).get(i).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const i of t.ids){if(!l(this,dt).has(i))return J(`Optional content group not found: ${i}`),!0;if(l(this,dt).get(i).visible)return!1}return!0}return J(`Unknown optional content policy ${t.policy}.`),!0}return J(`Unknown group type ${t.type}.`),!0}setVisibility(t,i=!0){const n=l(this,dt).get(t);if(!n){J(`Optional content group not found: ${t}`);return}n._setVisible(Qn,!!i,!0),y(this,tr,null)}setOCGState({state:t,preserveRB:i}){let n;for(const s of t){switch(s){case"ON":case"OFF":case"Toggle":n=s;continue}const r=l(this,dt).get(s);if(r)switch(n){case"ON":r._setVisible(Qn,!0);break;case"OFF":r._setVisible(Qn,!1);break;case"Toggle":r._setVisible(Qn,!r.visible);break}}y(this,tr,null)}get hasInitialVisibility(){return l(this,Cl)===null||this.getHash()===l(this,Cl)}getOrder(){return l(this,dt).size?l(this,Ml)?l(this,Ml).slice():[...l(this,dt).keys()]:null}getGroups(){return l(this,dt).size>0?r0(l(this,dt)):null}getGroup(t){return l(this,dt).get(t)||null}getHash(){if(l(this,tr)!==null)return l(this,tr);const t=new HA;for(const[i,n]of l(this,dt))t.update(`${i}:${n.visible}`);return y(this,tr,t.hexdigest())}}tr=new WeakMap,dt=new WeakMap,Cl=new WeakMap,Ml=new WeakMap,cf=new WeakSet,Mm=function(e){const t=e.length;if(t<2)return!0;const i=e[0];for(let n=1;n<t;n++){const s=e[n];let r;if(Array.isArray(s))r=w(this,cf,Mm).call(this,s);else if(l(this,dt).has(s))r=l(this,dt).get(s).visible;else return J(`Optional content group not found: ${s}`),!0;switch(i){case"And":if(!r)return!1;break;case"Or":if(r)return!0;break;case"Not":return!r;default:return!0}}return i==="And"};class SM{constructor(t,{disableRange:i=!1,disableStream:n=!1}){Bt(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:r,progressiveDone:a,contentDispositionFilename:o}=t;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(r==null?void 0:r.length)>0){const c=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!i,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((c,u)=>{this._onReceiveData({begin:c,chunk:u})}),t.addProgressListener((c,u)=>{this._onProgress({loaded:c,total:u})}),t.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:i}){const n=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const s=this._rangeReaders.some(function(r){return r._begin!==t?!1:(r._enqueue(n),!0)});Bt(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var i,n,s,r;t.total===void 0?(n=(i=this._rangeReaders[0])==null?void 0:i.onProgress)==null||n.call(i,{loaded:t.loaded}):(r=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||r.call(s,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const i=this._rangeReaders.indexOf(t);i>=0&&this._rangeReaders.splice(i,1)}getFullReader(){Bt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new xM(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,i){if(i<=this._progressiveDataLength)return null;const n=new EM(this,t,i);return this._pdfDataRangeTransport.requestDataRange(t,i),this._rangeReaders.push(n),n}cancelAllRequests(t){var i;(i=this._fullRequestReader)==null||i.cancel(t);for(const n of this._rangeReaders.slice(0))n.cancel(t);this._pdfDataRangeTransport.abort()}}class xM{constructor(t,i,n=!1,s=null){this._stream=t,this._done=n||!1,this._filename=u0(s)?s:null,this._queuedChunks=i||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class EM{constructor(t,i,n){this._stream=t,this._begin=i,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const i=this._queuedChunk;return this._queuedChunk=null,{value:i,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function CM(e){let t=!0,i=n("filename\\*","i").exec(e);if(i){i=i[1];let h=o(i);return h=unescape(h),h=c(h),h=u(h),r(h)}if(i=a(e),i){const h=u(i);return r(h)}if(i=n("filename","i").exec(e),i){i=i[1];let h=o(i);return h=u(h),r(h)}function n(h,d){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function s(h,d){if(h){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const f=new TextDecoder(h,{fatal:!0}),p=Zf(d);d=f.decode(p),t=!1}catch{}}return d}function r(h){return t&&/[\x80-\xff]/.test(h)&&(h=s("utf-8",h),t&&(h=s("iso-8859-1",h))),h}function a(h){const d=[];let f;const p=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(h))!==null;){let[,b,_,v]=f;if(b=parseInt(b,10),b in d){if(b===0)break;continue}d[b]=[_,v]}const g=[];for(let b=0;b<d.length&&b in d;++b){let[_,v]=d[b];v=o(v),_&&(v=unescape(v),b===0&&(v=c(v))),g.push(v)}return g.join("")}function o(h){if(h.startsWith('"')){const d=h.slice(1).split('\\"');for(let f=0;f<d.length;++f){const p=d[f].indexOf('"');p!==-1&&(d[f]=d[f].slice(0,p),d.length=f+1),d[f]=d[f].replaceAll(/\\(.)/g,"$1")}h=d.join('"')}return h}function c(h){const d=h.indexOf("'");if(d===-1)return h;const f=h.slice(0,d),p=h.slice(d+1).replace(/^[^']*'/,"");return s(f,p)}function u(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,f,p,g){if(p==="q"||p==="Q")return g=g.replaceAll("_"," "),g=g.replaceAll(/=([0-9a-fA-F]{2})/g,function(b,_){return String.fromCharCode(parseInt(_,16))}),s(f,g);try{g=atob(g)}catch{}return s(f,g)})}return""}function f0({getResponseHeader:e,isHttp:t,rangeChunkSize:i,disableRange:n}){const s={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(e("Content-Length"),10);return!Number.isInteger(r)||(s.suggestedLength=r,r<=2*i)||n||!t||e("Accept-Ranges")!=="bytes"||(e("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function p0(e){const t=e("Content-Disposition");if(t){let i=CM(t);if(i.includes("%"))try{i=decodeURIComponent(i)}catch{}if(u0(i))return i}return null}function sp(e,t){return e===404||e===0&&t.startsWith("file:")?new Vr('Missing PDF "'+t+'".'):new Jf(`Unexpected server response (${e}) while retrieving PDF "${t}".`,e)}function QA(e){return e===200||e===206}function JA(e,t,i){return{method:"GET",headers:e,signal:i.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function ZA(e){const t=new Headers;for(const i in e){const n=e[i];n!==void 0&&t.append(i,n)}return t}function tk(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:(J(`getArrayBuffer - unexpected data format: ${e}`),new Uint8Array(e).buffer)}class ey{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Bt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new MM(this),this._fullRequestReader}getRangeReader(t,i){if(i<=this._progressiveDataLength)return null;const n=new TM(this,t,i);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var i;(i=this._fullRequestReader)==null||i.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class MM{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const i=t.source;this._withCredentials=i.withCredentials||!1,this._contentLength=i.length,this._headersCapability=Promise.withResolvers(),this._disableRange=i.disableRange||!1,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!i.disableStream,this._isRangeSupported=!i.disableRange,this._headers=ZA(this._stream.httpHeaders);const n=i.url;fetch(n,JA(this._headers,this._withCredentials,this._abortController)).then(s=>{if(!QA(s.status))throw sp(s.status,n);this._reader=s.body.getReader(),this._headersCapability.resolve();const r=c=>s.headers.get(c),{allowRangeRequests:a,suggestedLength:o}=f0({getResponseHeader:r,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=o||this._contentLength,this._filename=p0(r),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Gr("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;await this._headersCapability.promise;const{value:i,done:n}=await this._reader.read();return n?{value:i,done:n}:(this._loaded+=i.byteLength,(t=this.onProgress)==null||t.call(this,{loaded:this._loaded,total:this._contentLength}),{value:tk(i),done:!1})}cancel(t){var i;(i=this._reader)==null||i.cancel(t),this._abortController.abort()}}class TM{constructor(t,i,n){this._stream=t,this._reader=null,this._loaded=0;const s=t.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController,this._headers=ZA(this._stream.httpHeaders),this._headers.append("Range",`bytes=${i}-${n-1}`);const r=s.url;fetch(r,JA(this._headers,this._withCredentials,this._abortController)).then(a=>{if(!QA(a.status))throw sp(a.status,r);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;await this._readCapability.promise;const{value:i,done:n}=await this._reader.read();return n?{value:i,done:n}:(this._loaded+=i.byteLength,(t=this.onProgress)==null||t.call(this,{loaded:this._loaded}),{value:tk(i),done:!1})}cancel(t){var i;(i=this._reader)==null||i.cancel(t),this._abortController.abort()}}const Up=200,Vp=206;function RM(e){const t=e.response;return typeof t!="string"?t:Zf(t).buffer}class PM{constructor(t,i={}){this.url=t,this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&i.httpHeaders||Object.create(null),this.withCredentials=i.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,i,n){const s={begin:t,end:i};for(const r in n)s[r]=n[r];return this.request(s)}requestFull(t){return this.request(t)}request(t){const i=new XMLHttpRequest,n=this.currXhrId++,s=this.pendingRequests[n]={xhr:i};i.open("GET",this.url),i.withCredentials=this.withCredentials;for(const r in this.httpHeaders){const a=this.httpHeaders[r];a!==void 0&&i.setRequestHeader(r,a)}return this.isHttp&&"begin"in t&&"end"in t?(i.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),s.expectedStatus=Vp):s.expectedStatus=Up,i.responseType="arraybuffer",t.onError&&(i.onerror=function(r){t.onError(i.status)}),i.onreadystatechange=this.onStateChange.bind(this,n),i.onprogress=this.onProgress.bind(this,n),s.onHeadersReceived=t.onHeadersReceived,s.onDone=t.onDone,s.onError=t.onError,s.onProgress=t.onProgress,i.send(null),n}onProgress(t,i){var n;const s=this.pendingRequests[t];s&&((n=s.onProgress)==null||n.call(s,i))}onStateChange(t,i){var n,s,r;const a=this.pendingRequests[t];if(!a)return;const o=a.xhr;if(o.readyState>=2&&a.onHeadersReceived&&(a.onHeadersReceived(),delete a.onHeadersReceived),o.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],o.status===0&&this.isHttp){(n=a.onError)==null||n.call(a,o.status);return}const c=o.status||Up;if(!(c===Up&&a.expectedStatus===Vp)&&c!==a.expectedStatus){(s=a.onError)==null||s.call(a,o.status);return}const u=RM(o);if(c===Vp){const h=o.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);a.onDone({begin:parseInt(d[1],10),chunk:u})}else u?a.onDone({begin:0,chunk:u}):(r=a.onError)==null||r.call(a,o.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const i=this.pendingRequests[t].xhr;delete this.pendingRequests[t],i.abort()}}class LM{constructor(t){this._source=t,this._manager=new PM(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const i=this._rangeRequestReaders.indexOf(t);i>=0&&this._rangeRequestReaders.splice(i,1)}getFullReader(){return Bt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new IM(this._manager,this._source),this._fullRequestReader}getRangeReader(t,i){const n=new NM(this._manager,t,i);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var i;(i=this._fullRequestReader)==null||i.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class IM{constructor(t,i){this._manager=t;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=i.url,this._fullRequestId=t.requestFull(n),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=i.disableRange||!1,this._contentLength=i.length,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,i=this._manager.getRequestXhr(t),n=a=>i.getResponseHeader(a),{allowRangeRequests:s,suggestedLength:r}=f0({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=r||this._contentLength,this._filename=p0(n),this._isRangeSupported&&this._manager.abortRequest(t),this._headersReceivedCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=sp(t,this._url),this._headersReceivedCapability.reject(this._storedError);for(const i of this._requests)i.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var i;(i=this.onProgress)==null||i.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersReceivedCapability.reject(t);for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class NM{constructor(t,i,n){this._manager=t;const s={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(i,n,s),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const i=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:i,done:!1}):this._queuedChunk=i,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=sp(t,this._url);for(const i of this._requests)i.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var i;this.isStreamingSupported||(i=this.onProgress)==null||i.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const i=this._queuedChunk;return this._queuedChunk=null,{value:i,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const ek=/^file:\/\/\/[a-zA-Z]:\//;function DM(e){const t=an.get("url"),i=t.parse(e);return i.protocol==="file:"||i.host?i:/^[a-z]:[/\\]/i.test(e)?t.parse(`file:///${e}`):(i.host||(i.protocol="file:"),i)}class FM{constructor(t){this.source=t,this.url=DM(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Bt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new jM(this):new OM(this),this._fullRequestReader}getRangeReader(t,i){if(i<=this._progressiveDataLength)return null;const n=this.isFsUrl?new zM(this,t,i):new WM(this,t,i);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var i;(i=this._fullRequestReader)==null||i.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class ik{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const i=t.source;this._contentLength=i.length,this._loaded=0,this._filename=null,this._disableRange=i.disableRange||!1,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!i.disableStream,this._isRangeSupported=!i.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const i=this._readableStream.read();return i===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=i.length,(t=this.onProgress)==null||t.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(i).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",i=>{this._error(i)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Gr("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class nk{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=t.source;this._isStreamingSupported=!i.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const i=this._readableStream.read();return i===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=i.length,(t=this.onProgress)==null||t.call(this,{loaded:this._loaded}),{value:new Uint8Array(i).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",i=>{this._error(i)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function uf(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}class OM extends ik{constructor(t){super(t);const i=n=>{if(n.statusCode===404){const o=new Vr(`Missing PDF "${this._url}".`);this._storedError=o,this._headersCapability.reject(o);return}this._headersCapability.resolve(),this._setReadableStream(n);const s=o=>this._readableStream.headers[o.toLowerCase()],{allowRangeRequests:r,suggestedLength:a}=f0({getResponseHeader:s,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=a||this._contentLength,this._filename=p0(s)};if(this._request=null,this._url.protocol==="http:"){const n=an.get("http");this._request=n.request(uf(this._url,t.httpHeaders),i)}else{const n=an.get("https");this._request=n.request(uf(this._url,t.httpHeaders),i)}this._request.on("error",n=>{this._storedError=n,this._headersCapability.reject(n)}),this._request.end()}}class WM extends nk{constructor(t,i,n){super(t),this._httpHeaders={};for(const r in t.httpHeaders){const a=t.httpHeaders[r];a!==void 0&&(this._httpHeaders[r]=a)}this._httpHeaders.Range=`bytes=${i}-${n-1}`;const s=r=>{if(r.statusCode===404){const a=new Vr(`Missing PDF "${this._url}".`);this._storedError=a;return}this._setReadableStream(r)};if(this._request=null,this._url.protocol==="http:"){const r=an.get("http");this._request=r.request(uf(this._url,this._httpHeaders),s)}else{const r=an.get("https");this._request=r.request(uf(this._url,this._httpHeaders),s)}this._request.on("error",r=>{this._storedError=r}),this._request.end()}}class jM extends ik{constructor(t){super(t);let i=decodeURIComponent(this._url.path);ek.test(this._url.href)&&(i=i.replace(/^\//,""));const n=an.get("fs");n.promises.lstat(i).then(s=>{this._contentLength=s.size,this._setReadableStream(n.createReadStream(i)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=new Vr(`Missing PDF "${i}".`)),this._storedError=s,this._headersCapability.reject(s)})}}class zM extends nk{constructor(t,i,n){super(t);let s=decodeURIComponent(this._url.path);ek.test(this._url.href)&&(s=s.replace(/^\//,""));const r=an.get("fs");this._setReadableStream(r.createReadStream(s,{start:i,end:n-1}))}}const BM=1e5,Le=30,HM=.8;var iy,Us,Ge,Cu,Mu,Vs,Gn,Tu,Ru,Jr,qo,Ko,Gs,Xo,Pu,Yo,Zr,Lu,Iu,ce,ta,ea,qs,Qo,ia,ny,sy,Gp,Ks,Nu,ry,ay;let hf=(ce=class{constructor({textContentSource:e,container:t,viewport:i}){k(this,ia),k(this,Us,Promise.withResolvers()),k(this,Ge,null),k(this,Cu,!1),k(this,Mu,!!((iy=globalThis.FontInspector)!=null&&iy.enabled)),k(this,Vs,null),k(this,Gn,null),k(this,Tu,0),k(this,Ru,0),k(this,Jr,null),k(this,qo,null),k(this,Ko,0),k(this,Gs,0),k(this,Xo,Object.create(null)),k(this,Pu,[]),k(this,Yo,null),k(this,Zr,[]),k(this,Lu,new WeakMap),k(this,Iu,null);var n;if(e instanceof ReadableStream)y(this,Yo,e);else if(typeof e=="object")y(this,Yo,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');y(this,Ge,y(this,qo,t)),y(this,Gs,i.scale*(globalThis.devicePixelRatio||1)),y(this,Ko,i.rotation),y(this,Gn,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:r,pageX:a,pageY:o}=i.rawDims;y(this,Iu,[1,0,0,-1,-a,o+r]),y(this,Ru,s),y(this,Tu,r),w(n=ce,Ks,ry).call(n),Wr(t,i),l(this,Us).promise.catch(()=>{}).then(()=>{l(ce,Qo).delete(this),y(this,Gn,null),y(this,Xo,null)})}render(){const e=()=>{l(this,Jr).read().then(({value:t,done:i})=>{if(i){l(this,Us).resolve();return}l(this,Vs)??y(this,Vs,t.lang),Object.assign(l(this,Xo),t.styles),w(this,ia,ny).call(this,t.items),e()},l(this,Us).reject)};return y(this,Jr,l(this,Yo).getReader()),l(ce,Qo).add(this),e(),l(this,Us).promise}update({viewport:e,onBefore:t=null}){var i;const n=e.scale*(globalThis.devicePixelRatio||1),s=e.rotation;if(s!==l(this,Ko)&&(t==null||t(),y(this,Ko,s),Wr(l(this,qo),{rotation:s})),n!==l(this,Gs)){t==null||t(),y(this,Gs,n);const r={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:w(i=ce,Ks,Nu).call(i,l(this,Vs))};for(const a of l(this,Zr))r.properties=l(this,Lu).get(a),r.div=a,w(this,ia,Gp).call(this,r)}}cancel(){var e;const t=new Gr("TextLayer task cancelled.");(e=l(this,Jr))==null||e.cancel(t).catch(()=>{}),y(this,Jr,null),l(this,Us).reject(t)}get textDivs(){return l(this,Zr)}get textContentItemsStr(){return l(this,Pu)}static cleanup(){if(!(l(this,Qo).size>0)){l(this,ta).clear();for(const{canvas:e}of l(this,ea).values())e.remove();l(this,ea).clear()}}},Us=new WeakMap,Ge=new WeakMap,Cu=new WeakMap,Mu=new WeakMap,Vs=new WeakMap,Gn=new WeakMap,Tu=new WeakMap,Ru=new WeakMap,Jr=new WeakMap,qo=new WeakMap,Ko=new WeakMap,Gs=new WeakMap,Xo=new WeakMap,Pu=new WeakMap,Yo=new WeakMap,Zr=new WeakMap,Lu=new WeakMap,Iu=new WeakMap,ta=new WeakMap,ea=new WeakMap,qs=new WeakMap,Qo=new WeakMap,ia=new WeakSet,ny=function(e){var t,i;if(l(this,Cu))return;(i=l(this,Gn)).ctx??(i.ctx=w(t=ce,Ks,Nu).call(t,l(this,Vs)));const n=l(this,Zr),s=l(this,Pu);for(const r of e){if(n.length>BM){J("Ignoring additional textDivs for performance reasons."),y(this,Cu,!0);return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const a=l(this,Ge);y(this,Ge,document.createElement("span")),l(this,Ge).classList.add("markedContent"),r.id!==null&&l(this,Ge).setAttribute("id",`${r.id}`),a.append(l(this,Ge))}else r.type==="endMarkedContent"&&y(this,Ge,l(this,Ge).parentNode);continue}s.push(r.str),w(this,ia,sy).call(this,r)}},sy=function(e){var t;const i=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};l(this,Zr).push(i);const s=j.transform(l(this,Iu),e.transform);let r=Math.atan2(s[1],s[0]);const a=l(this,Xo)[e.fontName];a.vertical&&(r+=Math.PI/2);const o=l(this,Mu)&&a.fontSubstitution||a.fontFamily,c=Math.hypot(s[2],s[3]),u=c*w(t=ce,Ks,ay).call(t,o,l(this,Vs));let h,d;r===0?(h=s[4],d=s[5]-u):(h=s[4]+u*Math.sin(r),d=s[5]-u*Math.cos(r));const f="calc(var(--scale-factor)*",p=i.style;l(this,Ge)===l(this,qo)?(p.left=`${(100*h/l(this,Ru)).toFixed(2)}%`,p.top=`${(100*d/l(this,Tu)).toFixed(2)}%`):(p.left=`${f}${h.toFixed(2)}px)`,p.top=`${f}${d.toFixed(2)}px)`),p.fontSize=`${f}${(l(ce,qs)*c).toFixed(2)}px)`,p.fontFamily=o,n.fontSize=c,i.setAttribute("role","presentation"),i.textContent=e.str,i.dir=e.dir,l(this,Mu)&&(i.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),r!==0&&(n.angle=r*(180/Math.PI));let g=!1;if(e.str.length>1)g=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const b=Math.abs(e.transform[0]),_=Math.abs(e.transform[3]);b!==_&&Math.max(b,_)/Math.min(b,_)>1.5&&(g=!0)}if(g&&(n.canvasWidth=a.vertical?e.height:e.width),l(this,Lu).set(i,n),l(this,Gn).div=i,l(this,Gn).properties=n,w(this,ia,Gp).call(this,l(this,Gn)),n.hasText&&l(this,Ge).append(i),n.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),l(this,Ge).append(b)}},Gp=function(e){const{div:t,properties:i,ctx:n,prevFontSize:s,prevFontFamily:r}=e,{style:a}=t;let o="";if(l(ce,qs)>1&&(o=`scale(${1/l(ce,qs)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:c}=a,{canvasWidth:u,fontSize:h}=i;(s!==h||r!==c)&&(n.font=`${h*l(this,Gs)}px ${c}`,e.prevFontSize=h,e.prevFontFamily=c);const{width:d}=n.measureText(t.textContent);d>0&&(o=`scaleX(${u*l(this,Gs)/d}) ${o}`)}i.angle!==0&&(o=`rotate(${i.angle}deg) ${o}`),o.length>0&&(a.transform=o)},Ks=new WeakSet,Nu=function(e=null){let t=l(this,ea).get(e||(e=""));if(!t){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),t=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),l(this,ea).set(e,t)}return t},ry=function(){if(l(this,qs)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.textContent="X",document.body.append(e),y(this,qs,e.getBoundingClientRect().height),e.remove()},ay=function(e,t){const i=l(this,ta).get(e);if(i)return i;const n=w(this,Ks,Nu).call(this,t),s=n.font;n.canvas.width=n.canvas.height=Le,n.font=`${Le}px ${e}`;const r=n.measureText("");let a=r.fontBoundingBoxAscent,o=Math.abs(r.fontBoundingBoxDescent);if(a){const h=a/(a+o);return l(this,ta).set(e,h),n.canvas.width=n.canvas.height=0,n.font=s,h}n.strokeStyle="red",n.clearRect(0,0,Le,Le),n.strokeText("g",0,0);let c=n.getImageData(0,0,Le,Le).data;o=0;for(let h=c.length-1-3;h>=0;h-=4)if(c[h]>0){o=Math.ceil(h/4/Le);break}n.clearRect(0,0,Le,Le),n.strokeText("A",0,Le),c=n.getImageData(0,0,Le,Le).data,a=0;for(let h=0,d=c.length;h<d;h+=4)if(c[h]>0){a=Le-Math.floor(h/4/Le);break}n.canvas.width=n.canvas.height=0,n.font=s;const u=a?a/(a+o):HM;return l(this,ta).set(e,u),u},k(ce,Ks),k(ce,ta,new Map),k(ce,ea,new Map),k(ce,qs,null),k(ce,Qo,new Set),ce);function $M(){vA("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:e,container:t,viewport:i,...n}=arguments[0],s=Object.keys(n);s.length>0&&J("Ignoring `renderTextLayer` parameters: "+s.join(", "));const r=new hf({textContentSource:e,container:t,viewport:i}),{textDivs:a,textContentItemsStr:o}=r;return{promise:r.render(),textDivs:a,textContentItemsStr:o}}function UM(){vA("`updateTextLayer`, please use `TextLayer` instead.")}class Hc{static textContent(t){const i=[],n={items:i,styles:Object.create(null)};function s(r){var a;if(!r)return;let o=null;const c=r.name;if(c==="#text")o=r.value;else if(Hc.shouldBuildText(c))(a=r==null?void 0:r.attributes)!=null&&a.textContent?o=r.attributes.textContent:r.value&&(o=r.value);else return;if(o!==null&&i.push({str:o}),!!r.children)for(const u of r.children)s(u)}return s(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const VM=65536,GM=100,qM=5e3,KM=Ae?nM:BC,XM=Ae?sM:gA,YM=Ae?iM:zC,QM=Ae?rM:mA;function JM(e={}){typeof e=="string"||e instanceof URL?e={url:e}:(e instanceof ArrayBuffer||ArrayBuffer.isView(e))&&(e={data:e});const t=new eT,{docId:i}=t,n=e.url?ZM(e.url):null,s=e.data?tT(e.data):null,r=e.httpHeaders||null,a=e.withCredentials===!0,o=e.password??null,c=e.range instanceof ak?e.range:null,u=Number.isInteger(e.rangeChunkSize)&&e.rangeChunkSize>0?e.rangeChunkSize:VM;let h=e.worker instanceof Nh?e.worker:null;const d=e.verbosity,f=typeof e.docBaseUrl=="string"&&!c0(e.docBaseUrl)?e.docBaseUrl:null,p=typeof e.cMapUrl=="string"?e.cMapUrl:null,g=e.cMapPacked!==!1,b=e.CMapReaderFactory||XM,_=typeof e.standardFontDataUrl=="string"?e.standardFontDataUrl:null,v=e.StandardFontDataFactory||QM,m=e.stopAtErrors!==!0,A=Number.isInteger(e.maxImageSize)&&e.maxImageSize>-1?e.maxImageSize:-1,S=e.isEvalSupported!==!1,x=typeof e.isOffscreenCanvasSupported=="boolean"?e.isOffscreenCanvasSupported:!Ae,C=Number.isInteger(e.canvasMaxAreaInBytes)?e.canvasMaxAreaInBytes:-1,T=typeof e.disableFontFace=="boolean"?e.disableFontFace:Ae,M=e.fontExtraProperties===!0,I=e.enableXfa===!0,P=e.ownerDocument||globalThis.document,O=e.disableRange===!0,Y=e.disableStream===!0,B=e.disableAutoFetch===!0,ut=e.pdfBug===!0,tt=e.enableHWA===!0,D=c?c.length:e.length??NaN,W=typeof e.useSystemFonts=="boolean"?e.useSystemFonts:!Ae&&!T,N=typeof e.useWorkerFetch=="boolean"?e.useWorkerFetch:b===gA&&v===mA&&p&&_&&ul(p,document.baseURI)&&ul(_,document.baseURI),H=e.canvasFactory||new KM({ownerDocument:P,enableHWA:tt}),G=e.filterFactory||new YM({docId:i,ownerDocument:P}),at=null;MC(d);const Q={canvasFactory:H,filterFactory:G};if(N||(Q.cMapReaderFactory=new b({baseUrl:p,isCompressed:g}),Q.standardFontDataFactory=new v({baseUrl:_})),!h){const Zt={verbosity:d,port:Ws.workerPort};h=Zt.port?Nh.fromPort(Zt):new Nh(Zt),t._worker=h}const ht={docId:i,apiVersion:"4.4.168",data:s,password:o,disableAutoFetch:B,rangeChunkSize:u,length:D,docBaseUrl:f,enableXfa:I,evaluatorOptions:{maxImageSize:A,disableFontFace:T,ignoreErrors:m,isEvalSupported:S,isOffscreenCanvasSupported:x,canvasMaxAreaInBytes:C,fontExtraProperties:M,useSystemFonts:W,cMapUrl:N?p:null,standardFontDataUrl:N?_:null}},Jt={disableFontFace:T,fontExtraProperties:M,ownerDocument:P,pdfBug:ut,styleElement:at,loadingParams:{disableAutoFetch:B,enableXfa:I}};return h.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Zt=h.messageHandler.sendWithPromise("GetDocRequest",ht,s?[s.buffer]:null);let yt;if(c)yt=new SM(c,{disableRange:O,disableStream:Y});else if(!s){if(!n)throw new Error("getDocument - no `url` parameter provided.");yt=(et=>Ae?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&ul(et.url)?new ey(et):new FM(et):ul(et.url)?new ey(et):new LM(et))({url:n,length:D,httpHeaders:r,withCredentials:a,rangeChunkSize:u,disableRange:O,disableStream:Y})}return Zt.then(et=>{if(t.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Kr=new xl(i,et,h.port),on=new rT(Kr,t,yt,Jt,Q);t._transport=on,Kr.send("Ready",null)})}).catch(t._capability.reject),t}function ZM(e){if(e instanceof URL)return e.href;try{return new URL(e,window.location).href}catch{if(Ae&&typeof e=="string")return e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function tT(e){if(Ae&&typeof Buffer<"u"&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if(typeof e=="string")return Zf(e);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)||typeof e=="object"&&!isNaN(e==null?void 0:e.length))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function oy(e){return typeof e=="object"&&Number.isInteger(e==null?void 0:e.num)&&e.num>=0&&Number.isInteger(e==null?void 0:e.gen)&&e.gen>=0}var Tm;const sk=class rk{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${bi(rk,Tm)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,i,n;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((i=this._transport)==null?void 0:i.destroy())}catch(s){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,s}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Tm=new WeakMap,k(sk,Tm,0);let eT=sk,ak=class{constructor(e,t,i=!1,n=null){this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=n,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const i of this._rangeListeners)i(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){ct("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class iT{constructor(t,i){this._pdfInfo=t,this._transport=i}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return st(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:i}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(i)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var er,gs,Ki,Ka,df;class nT{constructor(t,i,n,s=!1){k(this,Ki),k(this,er,null),k(this,gs,!1),this._pageIndex=t,this._pageInfo=i,this._transport=n,this._stats=s?new Fb:null,this._pdfBug=s,this.commonObjs=n.commonObjs,this.objs=new ok,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:i=this.rotate,offsetX:n=0,offsetY:s=0,dontFlip:r=!1}={}){return new Yc({viewBox:this.view,scale:t,rotation:i,offsetX:n,offsetY:s,dontFlip:r})}getAnnotations({intent:t="display"}={}){const{renderingIntent:i}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,i)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return st(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:i,intent:n="display",annotationMode:s=ds.ENABLE,transform:r=null,background:a=null,optionalContentConfigPromise:o=null,annotationCanvasMap:c=null,pageColors:u=null,printAnnotationStorage:h=null}){var d,f;(d=this._stats)==null||d.time("Overall");const p=this._transport.getRenderingIntent(n,s,h),{renderingIntent:g,cacheKey:b}=p;y(this,gs,!1),w(this,Ki,df).call(this),o||(o=this._transport.getOptionalContentConfig(g));let _=this._intentStates.get(b);_||(_=Object.create(null),this._intentStates.set(b,_)),_.streamReaderCancelTimeout&&(clearTimeout(_.streamReaderCancelTimeout),_.streamReaderCancelTimeout=null);const v=!!(g&ci.PRINT);_.displayReadyCapability||(_.displayReadyCapability=Promise.withResolvers(),_.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(f=this._stats)==null||f.time("Page Request"),this._pumpOperatorList(p));const m=x=>{var C;_.renderTasks.delete(A),(this._maybeCleanupAfterRender||v)&&y(this,gs,!0),w(this,Ki,Ka).call(this,!v),x?(A.capability.reject(x),this._abortOperatorList({intentState:_,reason:x instanceof Error?x:new Error(x)})):A.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(C=globalThis.Stats)!=null&&C.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},A=new oT({callback:m,params:{canvasContext:t,viewport:i,transform:r,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:_.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!v,pdfBug:this._pdfBug,pageColors:u});(_.renderTasks||(_.renderTasks=new Set)).add(A);const S=A.task;return Promise.all([_.displayReadyCapability.promise,o]).then(([x,C])=>{var T;if(this.destroyed){m();return}if((T=this._stats)==null||T.time("Rendering"),!(C.renderingIntent&g))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");A.initializeGraphics({transparency:x,optionalContentConfig:C}),A.operatorListChanged()}).catch(m),S}getOperatorList({intent:t="display",annotationMode:i=ds.ENABLE,printAnnotationStorage:n=null}={}){var s;function r(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(c))}const a=this._transport.getRenderingIntent(t,i,n,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let c;return o.opListReadCapability||(c=Object.create(null),c.operatorListChanged=r,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(c),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(s=this._stats)==null||s.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:i=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:i===!0},{highWaterMark:100,size(n){return n.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Hc.textContent(n));const i=this.streamTextContent(t);return new Promise(function(n,s){function r(){a.read().then(function({value:c,done:u}){if(u){n(o);return}o.lang??(o.lang=c.lang),Object.assign(o.styles,c.styles),o.items.push(...c.items),r()},s)}const a=i.getReader(),o={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const i of this._intentStates.values())if(this._abortOperatorList({intentState:i,reason:new Error("Page was destroyed."),force:!0}),!i.opListReadCapability)for(const n of i.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),y(this,gs,!1),w(this,Ki,df).call(this),Promise.all(t)}cleanup(t=!1){y(this,gs,!0);const i=w(this,Ki,Ka).call(this,!1);return t&&i&&this._stats&&(this._stats=new Fb),i}_startRenderPage(t,i){var n,s;const r=this._intentStates.get(i);r&&((n=this._stats)==null||n.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(t))}_renderPageChunk(t,i){for(let n=0,s=t.length;n<s;n++)i.operatorList.fnArray.push(t.fnArray[n]),i.operatorList.argsArray.push(t.argsArray[n]);i.operatorList.lastChunk=t.lastChunk,i.operatorList.separateAnnots=t.separateAnnots;for(const n of i.renderTasks)n.operatorListChanged();t.lastChunk&&w(this,Ki,Ka).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:i,annotationStorageSerializable:n}){const{map:s,transfer:r}=n,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:i,annotationStorage:s},r).getReader(),o=this._intentStates.get(i);o.streamReader=a;const c=()=>{a.read().then(({value:u,done:h})=>{if(h){o.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(u,o),c())},u=>{if(o.streamReader=null,!this._transport.destroyed){if(o.operatorList){o.operatorList.lastChunk=!0;for(const h of o.renderTasks)h.operatorListChanged();w(this,Ki,Ka).call(this,!0)}if(o.displayReadyCapability)o.displayReadyCapability.reject(u);else if(o.opListReadCapability)o.opListReadCapability.reject(u);else throw u}})};c()}_abortOperatorList({intentState:t,reason:i,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(i instanceof l0){let s=GM;i.extraDelay>0&&i.extraDelay<1e3&&(s+=i.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:i,force:!0})},s);return}}if(t.streamReader.cancel(new Gr(i.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[s,r]of this._intentStates)if(r===t){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}er=new WeakMap,gs=new WeakMap,Ki=new WeakSet,Ka=function(e=!1){if(w(this,Ki,df).call(this),!l(this,gs)||this.destroyed)return!1;if(e)return y(this,er,setTimeout(()=>{y(this,er,null),w(this,Ki,Ka).call(this,!1)},qM)),!1;for(const{renderTasks:t,operatorList:i}of this._intentStates.values())if(t.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),y(this,gs,!1),!0},df=function(){l(this,er)&&(clearTimeout(l(this,er)),y(this,er,null))};var wa,Rm;class sT{constructor(){k(this,wa,new Set),k(this,Rm,Promise.resolve())}postMessage(t,i){const n={data:structuredClone(t,i?{transfer:i}:null)};l(this,Rm).then(()=>{for(const s of l(this,wa))s.call(this,n)})}addEventListener(t,i){l(this,wa).add(i)}removeEventListener(t,i){l(this,wa).delete(i)}terminate(){l(this,wa).clear()}}wa=new WeakMap,Rm=new WeakMap;const Mn={isWorkerDisabled:!1,fakeWorkerId:0};Ae&&(Mn.isWorkerDisabled=!0,Ws.workerSrc||(Ws.workerSrc="./pdf.worker.mjs")),Mn.isSameOrigin=function(e,t){let i;try{if(i=new URL(e),!i.origin||i.origin==="null")return!1}catch{return!1}const n=new URL(t,i);return i.origin===n.origin},Mn.createCDNWrapper=function(e){const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};var br,Tl,Lh,cc,Ih;const Pm=class bn{constructor({name:t=null,port:i=null,verbosity:n=TC()}={}){k(this,Tl);var s;if(this.name=t,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,i){if((s=l(bn,br))!=null&&s.has(i))throw new Error("Cannot use more than one PDFWorker per port.");(l(bn,br)||y(bn,br,new WeakMap)).set(i,this),this._initializeFromPort(i);return}this._initialize()}get promise(){return Ae?Promise.all([an.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new xl("main","worker",t),this._messageHandler.on("ready",function(){}),w(this,Tl,Lh).call(this)}_initialize(){if(Mn.isWorkerDisabled||l(bn,cc,Ih)){this._setupFakeWorker();return}let{workerSrc:t}=bn;try{Mn.isSameOrigin(window.location.href,t)||(t=Mn.createCDNWrapper(new URL(t,window.location).href));const i=new Worker(t,{type:"module"}),n=new xl("main","worker",i),s=()=>{r.abort(),n.destroy(),i.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},r=new AbortController;i.addEventListener("error",()=>{this._webWorker||s()},{signal:r.signal}),n.on("test",o=>{if(r.abort(),this.destroyed||!o){s();return}this._messageHandler=n,this._port=i,this._webWorker=i,w(this,Tl,Lh).call(this)}),n.on("ready",o=>{if(r.abort(),this.destroyed){s();return}try{a()}catch{this._setupFakeWorker()}});const a=()=>{const o=new Uint8Array;n.send("test",o,[o.buffer])};a();return}catch{Qf("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){Mn.isWorkerDisabled||(J("Setting up fake worker."),Mn.isWorkerDisabled=!0),bn._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const i=new sT;this._port=i;const n=`fake${Mn.fakeWorkerId++}`,s=new xl(n+"_worker",n,i);t.setup(s,i),this._messageHandler=new xl(n,n+"_worker",i),w(this,Tl,Lh).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=l(bn,br))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var i;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const n=(i=l(this,br))==null?void 0:i.get(t.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new bn(t)}static get workerSrc(){if(Ws.workerSrc)return Ws.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return st(this,"_setupFakeWorkerGlobal",(async()=>l(this,cc,Ih)?l(this,cc,Ih):(await import(this.workerSrc)).WorkerMessageHandler)())}};br=new WeakMap,Tl=new WeakSet,Lh=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},cc=new WeakSet,Ih=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},k(Pm,cc),k(Pm,br);let Nh=Pm;var ms,yn,Rl,Pl,wn,Aa,Ll;class rT{constructor(t,i,n,s,r){k(this,Aa),k(this,ms,new Map),k(this,yn,new Map),k(this,Rl,new Map),k(this,Pl,new Map),k(this,wn,null),this.messageHandler=t,this.loadingTask=i,this.commonObjs=new ok,this.fontLoader=new tM({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return st(this,"annotationStorage",new d0)}getRenderingIntent(t,i=ds.ENABLE,n=null,s=!1){let r=ci.DISPLAY,a=km;switch(t){case"any":r=ci.ANY;break;case"display":break;case"print":r=ci.PRINT;break;default:J(`getRenderingIntent - invalid intent: ${t}`)}switch(i){case ds.DISABLE:r+=ci.ANNOTATIONS_DISABLE;break;case ds.ENABLE:break;case ds.ENABLE_FORMS:r+=ci.ANNOTATIONS_FORMS;break;case ds.ENABLE_STORAGE:r+=ci.ANNOTATIONS_STORAGE,a=(r&ci.PRINT&&n instanceof UA?n:this.annotationStorage).serializable;break;default:J(`getRenderingIntent - invalid annotationMode: ${i}`)}return s&&(r+=ci.OPLIST),{renderingIntent:r,cacheKey:`${r}_${a.hash}`,annotationStorageSerializable:a}}destroy(){var t;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(t=l(this,wn))==null||t.reject(new Error("Worker was destroyed during onPassword callback"));const i=[];for(const s of l(this,yn).values())i.push(s._destroy());l(this,yn).clear(),l(this,Rl).clear(),l(this,Pl).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return i.push(n),Promise.all(i).then(()=>{var s;this.commonObjs.clear(),this.fontLoader.clear(),l(this,ms).clear(),this.filterFactory.destroy(),hf.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new Gr("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:i}=this;t.on("GetReader",(n,s)=>{Bt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},s.onPull=()=>{this._fullReader.read().then(function({value:r,done:a}){if(a){s.close();return}Bt(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{s.error(r)})},s.onCancel=r=>{this._fullReader.cancel(r),s.ready.catch(a=>{if(!this.destroyed)throw a})}}),t.on("ReaderHeadersReady",n=>{const s=Promise.withResolvers(),r=this._fullReader;return r.headersReady.then(()=>{var a;(!r.isStreamingSupported||!r.isRangeSupported)&&(this._lastProgress&&((a=i.onProgress)==null||a.call(i,this._lastProgress)),r.onProgress=o=>{var c;(c=i.onProgress)==null||c.call(i,{loaded:o.loaded,total:o.total})}),s.resolve({isStreamingSupported:r.isStreamingSupported,isRangeSupported:r.isRangeSupported,contentLength:r.contentLength})},s.reject),s.promise}),t.on("GetRangeReader",(n,s)=>{Bt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(n.begin,n.end);if(!r){s.close();return}s.onPull=()=>{r.read().then(function({value:a,done:o}){if(o){s.close();return}Bt(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{s.error(a)})},s.onCancel=a=>{r.cancel(a),s.ready.catch(o=>{if(!this.destroyed)throw o})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,i._capability.resolve(new iT(n,this))}),t.on("DocException",function(n){let s;switch(n.name){case"PasswordException":s=new Yg(n.message,n.code);break;case"InvalidPDFException":s=new cA(n.message);break;case"MissingPDFException":s=new Vr(n.message);break;case"UnexpectedResponseException":s=new Jf(n.message,n.status);break;case"UnknownErrorException":s=new Qg(n.message,n.details);break;default:ct("DocException - expected a valid Error.")}i._capability.reject(s)}),t.on("PasswordRequest",n=>{if(y(this,wn,Promise.withResolvers()),i.onPassword){const s=r=>{r instanceof Error?l(this,wn).reject(r):l(this,wn).resolve({password:r})};try{i.onPassword(s,n.code)}catch(r){l(this,wn).reject(r)}}else l(this,wn).reject(new Yg(n.message,n.code));return l(this,wn).promise}),t.on("DataLoaded",n=>{var s;(s=i.onProgress)==null||s.call(i,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{this.destroyed||l(this,yn).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,s,r])=>{var a;if(this.destroyed||this.commonObjs.has(n))return null;switch(s){case"Font":const{disableFontFace:o,fontExtraProperties:c,pdfBug:u}=this._params;if("error"in r){const p=r.error;J(`Error during font loading: ${p}`),this.commonObjs.resolve(n,p);break}const h=u&&(a=globalThis.FontInspector)!=null&&a.enabled?(p,g)=>globalThis.FontInspector.fontAdded(p,g):null,d=new eM(r,{disableFontFace:o,inspectFont:h});this.fontLoader.bind(d).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!c&&d.data&&(d.data=null),this.commonObjs.resolve(n,d)});break;case"CopyLocalImage":const{imageRef:f}=r;Bt(f,"The imageRef must be defined.");for(const p of l(this,yn).values())for(const[,g]of p.objs)if((g==null?void 0:g.ref)===f)return g.dataLen?(this.commonObjs.resolve(n,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,r);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),t.on("obj",([n,s,r,a])=>{var o;if(this.destroyed)return;const c=l(this,yn).get(s);if(!c.objs.has(n)){if(c._intentStates.size===0){(o=a==null?void 0:a.bitmap)==null||o.close();return}switch(r){case"Image":c.objs.resolve(n,a),(a==null?void 0:a.dataLen)>SC&&(c._maybeCleanupAfterRender=!0);break;case"Pattern":c.objs.resolve(n,a);break;default:throw new Error(`Got unknown object type ${r}`)}}}),t.on("DocProgress",n=>{var s;this.destroyed||(s=i.onProgress)==null||s.call(i,{loaded:n.loaded,total:n.total})}),t.on("FetchBuiltInCMap",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(n):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),t.on("FetchStandardFontData",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(n):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var t;this.annotationStorage.size<=0&&J("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:i,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:i,filename:((t=this._fullReader)==null?void 0:t.filename)??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const i=t-1,n=l(this,Rl).get(i);if(n)return n;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:i}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&l(this,Pl).set(r.refStr,t);const a=new nT(i,r,this,this._params.pdfBug);return l(this,yn).set(i,a),a});return l(this,Rl).set(i,s),s}getPageIndex(t){return oy(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,i){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:i})}getFieldObjects(){return w(this,Aa,Ll).call(this,"GetFieldObjects")}hasJSActions(){return w(this,Aa,Ll).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return w(this,Aa,Ll).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return w(this,Aa,Ll).call(this,"GetOptionalContentConfig").then(i=>new _M(i,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",i=l(this,ms).get(t);if(i)return i;const n=this.messageHandler.sendWithPromise(t,null).then(s=>{var r,a;return{info:s[0],metadata:s[1]?new AM(s[1]):null,contentDispositionFilename:((r=this._fullReader)==null?void 0:r.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return l(this,ms).set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const i of l(this,yn).values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),l(this,ms).clear(),this.filterFactory.destroy(!0),hf.cleanup()}}cachedPageNumber(t){if(!oy(t))return null;const i=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return l(this,Pl).get(i)??null}}ms=new WeakMap,yn=new WeakMap,Rl=new WeakMap,Pl=new WeakMap,wn=new WeakMap,Aa=new WeakSet,Ll=function(e,t=null){const i=l(this,ms).get(e);if(i)return i;const n=this.messageHandler.sendWithPromise(e,t);return l(this,ms).set(e,n),n};const Dh=Symbol("INITIAL_DATA");var Hi,Fh,Lm;class ok{constructor(){k(this,Fh),k(this,Hi,Object.create(null))}get(t,i=null){if(i){const s=w(this,Fh,Lm).call(this,t);return s.promise.then(()=>i(s.data)),null}const n=l(this,Hi)[t];if(!n||n.data===Dh)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const i=l(this,Hi)[t];return!!i&&i.data!==Dh}resolve(t,i=null){const n=w(this,Fh,Lm).call(this,t);n.data=i,n.resolve()}clear(){var t;for(const i in l(this,Hi)){const{data:n}=l(this,Hi)[i];(t=n==null?void 0:n.bitmap)==null||t.close()}y(this,Hi,Object.create(null))}*[Symbol.iterator](){for(const t in l(this,Hi)){const{data:i}=l(this,Hi)[t];i!==Dh&&(yield[t,i])}}}Hi=new WeakMap,Fh=new WeakSet,Lm=function(e){var t;return(t=l(this,Hi))[e]||(t[e]={...Promise.withResolvers(),data:Dh})};var ir;class aT{constructor(t){k(this,ir,null),y(this,ir,t),this.onContinue=null}get promise(){return l(this,ir).capability.promise}cancel(t=0){l(this,ir).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=l(this,ir).operatorList;if(!t)return!1;const{annotationCanvasMap:i}=l(this,ir);return t.form||t.canvas&&(i==null?void 0:i.size)>0}}ir=new WeakMap;var nr,Xa;const lk=class Il{constructor({callback:t,params:i,objs:n,commonObjs:s,annotationCanvasMap:r,operatorList:a,pageIndex:o,canvasFactory:c,filterFactory:u,useRequestAnimationFrame:h=!1,pdfBug:d=!1,pageColors:f=null}){k(this,nr,null),this.callback=t,this.params=i,this.objs=n,this.commonObjs=s,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=c,this.filterFactory=u,this._pdfBug=d,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new aT(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=i.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:i}){var n,s;if(this.cancelled)return;if(this._canvas){if(l(Il,Xa).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");l(Il,Xa).add(this._canvas)}this._pdfBug&&(n=globalThis.StepperManager)!=null&&n.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:a,transform:o,background:c}=this.params;this.gfx=new Ch(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:i},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:a,transparency:t,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,(s=this.graphicsReadyCallback)==null||s.call(this)}cancel(t=null,i=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),l(this,nr)&&(window.cancelAnimationFrame(l(this,nr)),y(this,nr,null)),l(Il,Xa).delete(this._canvas),this.callback(t||new l0(`Rendering cancelled, page ${this._pageIndex+1}`,i))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?y(this,nr,window.requestAnimationFrame(()=>{y(this,nr,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),l(Il,Xa).delete(this._canvas),this.callback())))}};nr=new WeakMap,Xa=new WeakMap,k(lk,Xa,new WeakSet);let oT=lk;const lT="4.4.168",cT="19fbc8998";function ly(e){return Math.floor(Math.max(0,Math.min(1,e))*255).toString(16).padStart(2,"0")}function Jo(e){return Math.max(0,Math.min(255,255*e))}class cy{static CMYK_G([t,i,n,s]){return["G",1-Math.min(1,.3*t+.59*n+.11*i+s)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Jo(t),[t,t,t]}static G_HTML([t]){const i=ly(t);return`#${i}${i}${i}`}static RGB_G([t,i,n]){return["G",.3*t+.59*i+.11*n]}static RGB_rgb(t){return t.map(Jo)}static RGB_HTML(t){return`#${t.map(ly).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,i,n,s]){return["RGB",1-Math.min(1,t+s),1-Math.min(1,n+s),1-Math.min(1,i+s)]}static CMYK_rgb([t,i,n,s]){return[Jo(1-Math.min(1,t+s)),Jo(1-Math.min(1,n+s)),Jo(1-Math.min(1,i+s))]}static CMYK_HTML(t){const i=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(i)}static RGB_CMYK([t,i,n]){const s=1-t,r=1-i,a=1-n,o=Math.min(s,r,a);return["CMYK",s,r,a,o]}}class ck{static setupStorage(t,i,n,s,r){const a=s.getValue(i,{value:null});switch(n.name){case"textarea":if(a.value!==null&&(t.textContent=a.value),r==="print")break;t.addEventListener("input",o=>{s.setValue(i,{value:o.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(a.value===n.attributes.xfaOn?t.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&t.removeAttribute("checked"),r==="print")break;t.addEventListener("change",o=>{s.setValue(i,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&t.setAttribute("value",a.value),r==="print")break;t.addEventListener("input",o=>{s.setValue(i,{value:o.target.value})})}break;case"select":if(a.value!==null){t.setAttribute("value",a.value);for(const o of n.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}t.addEventListener("input",o=>{const c=o.target.options,u=c.selectedIndex===-1?"":c[c.selectedIndex].value;s.setValue(i,{value:u})});break}}static setAttributes({html:t,element:i,storage:n=null,intent:s,linkService:r}){const{attributes:a}=i,o=t instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${s}`);for(const[c,u]of Object.entries(a))if(u!=null)switch(c){case"class":u.length&&t.setAttribute(c,u.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",u);break;case"style":Object.assign(t.style,u);break;case"textContent":t.textContent=u;break;default:(!o||c!=="href"&&c!=="newWindow")&&t.setAttribute(c,u)}o&&r.addLinkAttributes(t,a.href,a.newWindow),n&&a.dataId&&this.setupStorage(t,a.dataId,i,n)}static render(t){var i,n;const s=t.annotationStorage,r=t.linkService,a=t.xfaHtml,o=t.intent||"display",c=document.createElement(a.name);a.attributes&&this.setAttributes({html:c,element:a,intent:o,linkService:r});const u=o!=="richText",h=t.div;if(h.append(c),t.viewport){const p=`matrix(${t.viewport.transform.join(",")})`;h.style.transform=p}u&&h.setAttribute("class","xfaLayer xfaFont");const d=[];if(a.children.length===0){if(a.value){const p=document.createTextNode(a.value);c.append(p),u&&Hc.shouldBuildText(a.name)&&d.push(p)}return{textDivs:d}}const f=[[a,-1,c]];for(;f.length>0;){const[p,g,b]=f.at(-1);if(g+1===p.children.length){f.pop();continue}const _=p.children[++f.at(-1)[1]];if(_===null)continue;const{name:v}=_;if(v==="#text"){const A=document.createTextNode(_.value);d.push(A),b.append(A);continue}const m=(i=_==null?void 0:_.attributes)!=null&&i.xmlns?document.createElementNS(_.attributes.xmlns,v):document.createElement(v);if(b.append(m),_.attributes&&this.setAttributes({html:m,element:_,storage:s,intent:o,linkService:r}),((n=_.children)==null?void 0:n.length)>0)f.push([_,-1,m]);else if(_.value){const A=document.createTextNode(_.value);u&&Hc.shouldBuildText(v)&&d.push(A),m.append(A)}}for(const p of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:d}}static update(t){const i=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=i,t.div.hidden=!1}}const Zc=1e3,uT=9,jr=new WeakSet;function $n(e){return{width:e[2]-e[0],height:e[3]-e[1]}}class hT{static create(t){switch(t.data.annotationType){case Ot.LINK:return new fk(t);case Ot.TEXT:return new fT(t);case Ot.WIDGET:switch(t.data.fieldType){case"Tx":return new pT(t);case"Btn":return t.data.radioButton?new pk(t):t.data.checkBox?new mT(t):new vT(t);case"Ch":return new bT(t);case"Sig":return new gT(t)}return new qr(t);case Ot.POPUP:return new Nm(t);case Ot.FREETEXT:return new vk(t);case Ot.LINE:return new wT(t);case Ot.SQUARE:return new AT(t);case Ot.CIRCLE:return new kT(t);case Ot.POLYLINE:return new bk(t);case Ot.CARET:return new ST(t);case Ot.INK:return new yk(t);case Ot.POLYGON:return new _T(t);case Ot.HIGHLIGHT:return new xT(t);case Ot.UNDERLINE:return new ET(t);case Ot.SQUIGGLY:return new CT(t);case Ot.STRIKEOUT:return new MT(t);case Ot.STAMP:return new wk(t);case Ot.FILEATTACHMENT:return new TT(t);default:return new $t(t)}}}var sr,Nl,Dl,Oh,Im;const dT=class uk{constructor(t,{isRenderable:i=!1,ignoreBorder:n=!1,createQuadrilaterals:s=!1}={}){k(this,Oh),k(this,sr,null),k(this,Nl,!1),k(this,Dl,null),this.isRenderable=i,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,i&&(this.container=this._createContainer(n)),s&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:i,richText:n}){return!!(t!=null&&t.str||i!=null&&i.str||n!=null&&n.str)}get hasPopupData(){return uk._hasPopupData(this.data)}updateEdited(t){var i;if(!this.container)return;l(this,sr)||y(this,sr,{rect:this.data.rect.slice(0)});const{rect:n}=t;n&&w(this,Oh,Im).call(this,n),(i=l(this,Dl))==null||i.popup.updateEdited(t)}resetEdited(){var t;l(this,sr)&&(w(this,Oh,Im).call(this,l(this,sr).rect),(t=l(this,Dl))==null||t.popup.resetEdited(),y(this,sr,null))}_createContainer(t){const{data:i,parent:{page:n,viewport:s}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",i.id),this instanceof qr||(r.tabIndex=Zc);const{style:a}=r;if(a.zIndex=this.parent.zIndex++,i.popupRef&&r.setAttribute("aria-haspopup","dialog"),i.alternativeText&&(r.title=i.alternativeText),i.noRotate&&r.classList.add("norotate"),!i.rect||this instanceof Nm){const{rotation:b}=i;return!i.hasOwnCanvas&&b!==0&&this.setRotation(b,r),r}const{width:o,height:c}=$n(i.rect);if(!t&&i.borderStyle.width>0){a.borderWidth=`${i.borderStyle.width}px`;const b=i.borderStyle.horizontalCornerRadius,_=i.borderStyle.verticalCornerRadius;if(b>0||_>0){const m=`calc(${b}px * var(--scale-factor)) / calc(${_}px * var(--scale-factor))`;a.borderRadius=m}else if(this instanceof pk){const m=`calc(${o}px * var(--scale-factor)) / calc(${c}px * var(--scale-factor))`;a.borderRadius=m}switch(i.borderStyle.style){case Uo.SOLID:a.borderStyle="solid";break;case Uo.DASHED:a.borderStyle="dashed";break;case Uo.BEVELED:J("Unimplemented border style: beveled");break;case Uo.INSET:J("Unimplemented border style: inset");break;case Uo.UNDERLINE:a.borderBottomStyle="solid";break}const v=i.borderColor||null;v?(y(this,Nl,!0),a.borderColor=j.makeHexColor(v[0]|0,v[1]|0,v[2]|0)):a.borderWidth=0}const u=j.normalizeRect([i.rect[0],n.view[3]-i.rect[1]+n.view[1],i.rect[2],n.view[3]-i.rect[3]+n.view[1]]),{pageWidth:h,pageHeight:d,pageX:f,pageY:p}=s.rawDims;a.left=`${100*(u[0]-f)/h}%`,a.top=`${100*(u[1]-p)/d}%`;const{rotation:g}=i;return i.hasOwnCanvas||g===0?(a.width=`${100*o/h}%`,a.height=`${100*c/d}%`):this.setRotation(g,r),r}setRotation(t,i=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:s}=this.parent.viewport.rawDims,{width:r,height:a}=$n(this.data.rect);let o,c;t%180===0?(o=100*r/n,c=100*a/s):(o=100*a/n,c=100*r/s),i.style.width=`${o}%`,i.style.height=`${c}%`,i.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(i,n,s)=>{const r=s.detail[i],a=r[0],o=r.slice(1);s.target.style[n]=cy[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[n]:cy[`${a}_rgb`](o)})};return st(this,"_commonActions",{display:i=>{const{display:n}=i.detail,s=n%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:n===1||n===2})},print:i=>{this.annotationStorage.setValue(this.data.id,{noPrint:!i.detail.print})},hidden:i=>{const{hidden:n}=i.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:i=>{setTimeout(()=>i.target.focus({preventScroll:!1}),0)},userName:i=>{i.target.title=i.detail.userName},readonly:i=>{i.target.disabled=i.detail.readonly},required:i=>{this._setRequired(i.target,i.detail.required)},bgColor:i=>{t("bgColor","backgroundColor",i)},fillColor:i=>{t("fillColor","backgroundColor",i)},fgColor:i=>{t("fgColor","color",i)},textColor:i=>{t("textColor","color",i)},borderColor:i=>{t("borderColor","borderColor",i)},strokeColor:i=>{t("strokeColor","borderColor",i)},rotation:i=>{const n=i.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,i){const n=this._commonActions;for(const s of Object.keys(i.detail)){const r=t[s]||n[s];r==null||r(i)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const i=this.annotationStorage.getRawValue(this.data.id);if(!i)return;const n=this._commonActions;for(const[s,r]of Object.entries(i)){const a=n[s];if(a){const o={detail:{[s]:r},target:t};a(o),delete i[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[i,n,s,r]=this.data.rect.map(b=>Math.fround(b));if(t.length===8){const[b,_,v,m]=t.subarray(2,6);if(s===b&&r===_&&i===v&&n===m)return}const{style:a}=this.container;let o;if(l(this,Nl)){const{borderColor:b,borderWidth:_}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${b}" stroke-width="${_}">`],this.container.classList.add("hasBorder")}const c=s-i,u=r-n,{svgFactory:h}=this,d=h.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const f=h.createElement("defs");d.append(f);const p=h.createElement("clipPath"),g=`clippath_${this.data.id}`;p.setAttribute("id",g),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let b=2,_=t.length;b<_;b+=8){const v=t[b],m=t[b+1],A=t[b+2],S=t[b+3],x=h.createElement("rect"),C=(A-i)/c,T=(r-m)/u,M=(v-A)/c,I=(m-S)/u;x.setAttribute("x",C),x.setAttribute("y",T),x.setAttribute("width",M),x.setAttribute("height",I),p.append(x),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${C}" y="${T}" width="${M}" height="${I}"/>`)}l(this,Nl)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(d),this.container.style.clipPath=`url(#${g})`}_createPopup(){const{container:t,data:i}=this;t.setAttribute("aria-haspopup","dialog");const n=y(this,Dl,new Nm({data:{color:i.color,titleObj:i.titleObj,modificationDate:i.modificationDate,contentsObj:i.contentsObj,richText:i.richText,parentRect:i.rect,borderStyle:0,id:`popup_${i.id}`,rotation:i.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(n.render())}render(){ct("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,i=null){const n=[];if(this._fieldObjects){const s=this._fieldObjects[t];if(s)for(const{page:r,id:a,exportValues:o}of s){if(r===-1||a===i)continue;const c=typeof o=="string"?o:null,u=document.querySelector(`[data-element-id="${a}"]`);if(u&&!jr.has(u)){J(`_getElementsByName - element not allowed: ${a}`);continue}n.push({id:a,exportValue:c,domElement:u})}return n}for(const s of document.getElementsByName(t)){const{exportValue:r}=s,a=s.getAttribute("data-element-id");a!==i&&jr.has(s)&&n.push({id:a,exportValue:r,domElement:s})}return n}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const i of t)i.classList.add("highlightArea");else t.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:i}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:t,editId:i})})}};sr=new WeakMap,Nl=new WeakMap,Dl=new WeakMap,Oh=new WeakSet,Im=function(e){const{container:{style:t},data:{rect:i,rotation:n},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:r,pageX:a,pageY:o}}}}=this;i==null||i.splice(0,4,...e);const{width:c,height:u}=$n(e);t.left=`${100*(e[0]-a)/s}%`,t.top=`${100*(r-e[3]+o)/r}%`,n===0?(t.width=`${100*c/s}%`,t.height=`${100*u/r}%`):this.setRotation(n)};let $t=dT;var Xi,Er,hk,dk;class fk extends $t{constructor(t,i=null){super(t,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0}),k(this,Xi),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:i}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let s=!1;return t.url?(i.addLinkAttributes(n,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(n,t.action),s=!0):t.attachment?(w(this,Xi,hk).call(this,n,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(w(this,Xi,dk).call(this,n,t.setOCGState),s=!0):t.dest?(this._bindLink(n,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),s=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(n,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(n),this.container}_bindLink(t,i){t.href=this.linkService.getDestinationHash(i),t.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&w(this,Xi,Er).call(this)}_bindNamedAction(t,i){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(i),!1),w(this,Xi,Er).call(this)}_bindJSAction(t,i){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(i.actions)){const r=n.get(s);r&&(t[r]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),w(this,Xi,Er).call(this)}_bindResetFormAction(t,i){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),w(this,Xi,Er).call(this),!this._fieldObjects){J('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(t.onclick=()=>!1);return}t.onclick=()=>{var s;n==null||n();const{fields:r,refs:a,include:o}=i,c=[];if(r.length!==0||a.length!==0){const d=new Set(a);for(const f of r){const p=this._fieldObjects[f]||[];for(const{id:g}of p)d.add(g)}for(const f of Object.values(this._fieldObjects))for(const p of f)d.has(p.id)===o&&c.push(p)}else for(const d of Object.values(this._fieldObjects))c.push(...d);const u=this.annotationStorage,h=[];for(const d of c){const{id:f}=d;switch(h.push(f),d.type){case"text":{const g=d.defaultValue||"";u.setValue(f,{value:g});break}case"checkbox":case"radiobutton":{const g=d.defaultValue===d.exportValues;u.setValue(f,{value:g});break}case"combobox":case"listbox":{const g=d.defaultValue||"";u.setValue(f,{value:g});break}default:continue}const p=document.querySelector(`[data-element-id="${f}"]`);if(p){if(!jr.has(p)){J(`_bindResetFormAction - element not allowed: ${f}`);continue}}else continue;p.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((s=this.linkService.eventBus)==null||s.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}Xi=new WeakSet,Er=function(){this.container.setAttribute("data-internal-link","")},hk=function(e,t,i=null){e.href=this.linkService.getAnchorUrl(""),t.description&&(e.title=t.description),e.onclick=()=>{var n;return(n=this.downloadManager)==null||n.openOrDownloadData(t.content,t.filename,i),!1},w(this,Xi,Er).call(this)},dk=function(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),w(this,Xi,Er).call(this)};class fT extends $t{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class qr extends $t{render(){return this.container}showElementAndHideCanvas(t){var i;this.data.hasOwnCanvas&&(((i=t.previousSibling)==null?void 0:i.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Ue.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,i,n,s,r){n.includes("mouse")?t.addEventListener(n,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:r(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):t.addEventListener(n,a=>{var o;if(n==="blur"){if(!i.focused||!a.relatedTarget)return;i.focused=!1}else if(n==="focus"){if(i.focused)return;i.focused=!0}r&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:r(a)}}))})}_setEventListeners(t,i,n,s){var r,a,o;for(const[c,u]of n)(u==="Action"||(r=this.data.actions)!=null&&r[u])&&((u==="Focus"||u==="Blur")&&(i||(i={focused:!1})),this._setEventListener(t,i,c,u,s),u==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(t,i,"blur","Blur",null):u==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(t,i,"focus","Focus",null))}_setBackgroundColor(t){const i=this.data.backgroundColor||null;t.style.backgroundColor=i===null?"transparent":j.makeHexColor(i[0],i[1],i[2])}_setTextStyle(t){const i=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||uT,r=t.style;let a;const o=2,c=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o),h=Math.round(u/(Op*s))||1,d=u/h;a=Math.min(s,c(d/Op))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(s,c(u/Op))}r.fontSize=`calc(${a}px * var(--scale-factor))`,r.color=j.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(r.textAlign=i[this.data.textAlignment])}_setRequired(t,i){i?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",i)}}class pT extends qr{constructor(t){const i=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:i})}setPropertyOnSiblings(t,i,n,s){const r=this.annotationStorage;for(const a of this._getElementsByName(t.name,t.id))a.domElement&&(a.domElement[i]=n),r.setValue(a.id,{[s]:n})}render(){var t,i;const n=this.annotationStorage,s=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const a=n.getValue(s,{value:this.data.fieldValue});let o=a.value||"";const c=n.getValue(s,{charLimit:this.data.maxLen}).charLimit;c&&o.length>c&&(o=o.slice(0,c));let u=a.formattedValue||((t=this.data.textContent)==null?void 0:t.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const h={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=u??o,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",u??o),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),jr.add(r),r.setAttribute("data-element-id",s),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=Zc,this._setRequired(r,this.data.required),c&&(r.maxLength=c),r.addEventListener("input",f=>{n.setValue(s,{value:f.target.value}),this.setPropertyOnSiblings(r,"value",f.target.value,"value"),h.formattedValue=null}),r.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue??"";r.value=h.userValue=p,h.formattedValue=null});let d=f=>{const{formattedValue:p}=h;p!=null&&(f.target.value=p),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",p=>{var g;if(h.focused)return;const{target:b}=p;h.userValue&&(b.value=h.userValue),h.lastCommittedValue=b.value,h.commitKey=1,(g=this.data.actions)!=null&&g.Focus||(h.focused=!0)}),r.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const g={value(b){h.userValue=b.detail.value??"",n.setValue(s,{value:h.userValue.toString()}),b.target.value=h.userValue},formattedValue(b){const{formattedValue:_}=b.detail;h.formattedValue=_,_!=null&&b.target!==document.activeElement&&(b.target.value=_),n.setValue(s,{formattedValue:_})},selRange(b){b.target.setSelectionRange(...b.detail.selRange)},charLimit:b=>{var _;const{charLimit:v}=b.detail,{target:m}=b;if(v===0){m.removeAttribute("maxLength");return}m.setAttribute("maxLength",v);let A=h.userValue;!A||A.length<=v||(A=A.slice(0,v),m.value=h.userValue=A,n.setValue(s,{value:A}),(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:A,willCommit:!0,commitKey:1,selStart:m.selectionStart,selEnd:m.selectionEnd}}))}};this._dispatchEventFromSandbox(g,p)}),r.addEventListener("keydown",p=>{var g;h.commitKey=1;let b=-1;if(p.key==="Escape"?b=0:p.key==="Enter"&&!this.data.multiLine?b=2:p.key==="Tab"&&(h.commitKey=3),b===-1)return;const{value:_}=p.target;h.lastCommittedValue!==_&&(h.lastCommittedValue=_,h.userValue=_,(g=this.linkService.eventBus)==null||g.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:_,willCommit:!0,commitKey:b,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const f=d;d=null,r.addEventListener("blur",p=>{var g,b;if(!h.focused||!p.relatedTarget)return;(g=this.data.actions)!=null&&g.Blur||(h.focused=!1);const{value:_}=p.target;h.userValue=_,h.lastCommittedValue!==_&&((b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:_,willCommit:!0,commitKey:h.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),f(p)}),(i=this.data.actions)!=null&&i.Keystroke&&r.addEventListener("beforeinput",p=>{var g;h.lastCommittedValue=null;const{data:b,target:_}=p,{value:v,selectionStart:m,selectionEnd:A}=_;let S=m,x=A;switch(p.inputType){case"deleteWordBackward":{const C=v.substring(0,m).match(/\w*[^\w]*$/);C&&(S-=C[0].length);break}case"deleteWordForward":{const C=v.substring(m).match(/^[^\w]*\w*/);C&&(x+=C[0].length);break}case"deleteContentBackward":m===A&&(S-=1);break;case"deleteContentForward":m===A&&(x+=1);break}p.preventDefault(),(g=this.linkService.eventBus)==null||g.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:v,change:b||"",willCommit:!1,selStart:S,selEnd:x}})}),this._setEventListeners(r,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(d&&r.addEventListener("blur",d),this.data.comb){const f=(this.data.rect[2]-this.data.rect[0])/c;r.classList.add("comb"),r.style.letterSpacing=`calc(${f}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class gT extends qr{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class mT extends qr{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,i=this.data,n=i.id;let s=t.getValue(n,{value:i.exportValue===i.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",t.setValue(n,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return jr.add(r),r.setAttribute("data-element-id",n),r.disabled=i.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=i.fieldName,s&&r.setAttribute("checked",!0),r.setAttribute("exportValue",i.exportValue),r.tabIndex=Zc,r.addEventListener("change",a=>{const{name:o,checked:c}=a.target;for(const u of this._getElementsByName(o,n)){const h=c&&u.exportValue===i.exportValue;u.domElement&&(u.domElement.checked=h),t.setValue(u.id,{value:h})}t.setValue(n,{value:c})}),r.addEventListener("resetform",a=>{const o=i.defaultFieldValue||"Off";a.target.checked=o===i.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",a=>{const o={value(c){c.target.checked=c.detail.value!=="Off",t.setValue(n,{value:c.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class pk extends qr{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,i=this.data,n=i.id;let s=t.getValue(n,{value:i.fieldValue===i.buttonValue}).value;if(typeof s=="string"&&(s=s!==i.buttonValue,t.setValue(n,{value:s})),s)for(const a of this._getElementsByName(i.fieldName,n))t.setValue(a.id,{value:!1});const r=document.createElement("input");if(jr.add(r),r.setAttribute("data-element-id",n),r.disabled=i.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=i.fieldName,s&&r.setAttribute("checked",!0),r.tabIndex=Zc,r.addEventListener("change",a=>{const{name:o,checked:c}=a.target;for(const u of this._getElementsByName(o,n))t.setValue(u.id,{value:!1});t.setValue(n,{value:c})}),r.addEventListener("resetform",a=>{const o=i.defaultFieldValue;a.target.checked=o!=null&&o===i.buttonValue}),this.enableScripting&&this.hasJSActions){const a=i.buttonValue;r.addEventListener("updatefromsandbox",o=>{const c={value:u=>{const h=a===u.detail.value;for(const d of this._getElementsByName(u.target.name)){const f=h&&d.id===n;d.domElement&&(d.domElement.checked=f),t.setValue(d.id,{value:f})}}};this._dispatchEventFromSandbox(c,o)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class vT extends fk{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const i=t.lastChild;return this.enableScripting&&this.hasJSActions&&i&&(this._setDefaultPropertiesFromJS(i),i.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class bT extends qr{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,i=this.data.id,n=t.getValue(i,{value:this.data.fieldValue}),s=document.createElement("select");jr.add(s),s.setAttribute("data-element-id",i),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=Zc;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",h=>{const d=this.data.defaultFieldValue;for(const f of s.options)f.selected=f.value===d});for(const h of this.data.options){const d=document.createElement("option");d.textContent=h.displayValue,d.value=h.exportValue,n.value.includes(h.exportValue)&&(d.setAttribute("selected",!0),r=!1),s.append(d)}let a=null;if(r){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),s.prepend(h),a=()=>{h.remove(),s.removeEventListener("input",a),a=null},s.addEventListener("input",a)}const o=h=>{const d=h?"value":"textContent",{options:f,multiple:p}=s;return p?Array.prototype.filter.call(f,g=>g.selected).map(g=>g[d]):f.selectedIndex===-1?null:f[f.selectedIndex][d]};let c=o(!1);const u=h=>{const d=h.target.options;return Array.prototype.map.call(d,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",h=>{const d={value(f){a==null||a();const p=f.detail.value,g=new Set(Array.isArray(p)?p:[p]);for(const b of s.options)b.selected=g.has(b.value);t.setValue(i,{value:o(!0)}),c=o(!1)},multipleSelection(f){s.multiple=!0},remove(f){const p=s.options,g=f.detail.remove;p[g].selected=!1,s.remove(g),p.length>0&&Array.prototype.findIndex.call(p,b=>b.selected)===-1&&(p[0].selected=!0),t.setValue(i,{value:o(!0),items:u(f)}),c=o(!1)},clear(f){for(;s.length!==0;)s.remove(0);t.setValue(i,{value:null,items:[]}),c=o(!1)},insert(f){const{index:p,displayValue:g,exportValue:b}=f.detail.insert,_=s.children[p],v=document.createElement("option");v.textContent=g,v.value=b,_?_.before(v):s.append(v),t.setValue(i,{value:o(!0),items:u(f)}),c=o(!1)},items(f){const{items:p}=f.detail;for(;s.length!==0;)s.remove(0);for(const g of p){const{displayValue:b,exportValue:_}=g,v=document.createElement("option");v.textContent=b,v.value=_,s.append(v)}s.options.length>0&&(s.options[0].selected=!0),t.setValue(i,{value:o(!0),items:u(f)}),c=o(!1)},indices(f){const p=new Set(f.detail.indices);for(const g of f.target.options)g.selected=p.has(g.index);t.setValue(i,{value:o(!0)}),c=o(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(d,h)}),s.addEventListener("input",h=>{var d;const f=o(!0),p=o(!1);t.setValue(i,{value:f}),h.preventDefault(),(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:c,change:p,changeEx:f,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):s.addEventListener("input",function(h){t.setValue(i,{value:o(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Nm extends $t{constructor(t){const{data:i,elements:n}=t;super(t,{isRenderable:$t._hasPopupData(i)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new yT({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),i=[];for(const n of this.elements)n.popup=t,i.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(n=>`${hA}${n}`).join(",")),this.container}}var uc,Dm,Fm,hc,ka,Lt,ls,_a,ff,pf,dc,Jn,$i,vs,gf,bs,Wh,rr,Sa,jt,jh,qp,uy,gk,mk,hy,mf,vf,Om;class yT{constructor({container:t,color:i,elements:n,titleObj:s,modificationDate:r,contentsObj:a,richText:o,parent:c,rect:u,parentRect:h,open:d}){k(this,jt),k(this,uc,w(this,jt,mk).bind(this)),k(this,Dm,w(this,jt,Om).bind(this)),k(this,Fm,w(this,jt,vf).bind(this)),k(this,hc,w(this,jt,mf).bind(this)),k(this,ka,null),k(this,Lt,null),k(this,ls,null),k(this,_a,null),k(this,ff,null),k(this,pf,null),k(this,dc,null),k(this,Jn,!1),k(this,$i,null),k(this,vs,null),k(this,gf,null),k(this,bs,null),k(this,Wh,null),k(this,rr,null),k(this,Sa,!1);var f;y(this,Lt,t),y(this,Wh,s),y(this,ls,a),y(this,bs,o),y(this,pf,c),y(this,ka,i),y(this,gf,u),y(this,dc,h),y(this,ff,n),y(this,_a,bA.toDateObject(r)),this.trigger=n.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",l(this,hc)),p.addEventListener("mouseenter",l(this,Fm)),p.addEventListener("mouseleave",l(this,Dm)),p.classList.add("popupTriggerArea");for(const p of n)(f=p.container)==null||f.addEventListener("keydown",l(this,uc));l(this,Lt).hidden=!0,d&&w(this,jt,mf).call(this)}render(){if(l(this,$i))return;const t=y(this,$i,document.createElement("div"));if(t.className="popup",l(this,ka)){const r=t.style.outlineColor=j.makeHexColor(...l(this,ka));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`:t.style.backgroundColor=j.makeHexColor(...l(this,ka).map(a=>Math.floor(.7*(255-a)+a)))}const i=document.createElement("span");i.className="header";const n=document.createElement("h1");if(i.append(n),{dir:n.dir,str:n.textContent}=l(this,Wh),t.append(i),l(this,_a)){const r=document.createElement("span");r.classList.add("popupDate"),r.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),r.setAttribute("data-l10n-args",JSON.stringify({date:l(this,_a).toLocaleDateString(),time:l(this,_a).toLocaleTimeString()})),i.append(r)}const s=l(this,jt,jh);if(s)ck.render({xfaHtml:s,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const r=this._formatContents(l(this,ls));t.append(r)}l(this,Lt).append(t)}_formatContents({str:t,dir:i}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=i;const s=t.split(/(?:\r\n?|\n)/);for(let r=0,a=s.length;r<a;++r){const o=s[r];n.append(document.createTextNode(o)),r<a-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:t,popupContent:i}){var n;l(this,rr)||y(this,rr,{contentsObj:l(this,ls),richText:l(this,bs)}),t&&y(this,vs,null),i&&(y(this,bs,w(this,jt,gk).call(this,i)),y(this,ls,null)),(n=l(this,$i))==null||n.remove(),y(this,$i,null)}resetEdited(){var t;l(this,rr)&&({contentsObj:bi(this,ls)._,richText:bi(this,bs)._}=l(this,rr),y(this,rr,null),(t=l(this,$i))==null||t.remove(),y(this,$i,null),y(this,vs,null))}forceHide(){y(this,Sa,this.isVisible),l(this,Sa)&&(l(this,Lt).hidden=!0)}maybeShow(){l(this,Sa)&&(l(this,$i)||w(this,jt,vf).call(this),y(this,Sa,!1),l(this,Lt).hidden=!1)}get isVisible(){return l(this,Lt).hidden===!1}}uc=new WeakMap,Dm=new WeakMap,Fm=new WeakMap,hc=new WeakMap,ka=new WeakMap,Lt=new WeakMap,ls=new WeakMap,_a=new WeakMap,ff=new WeakMap,pf=new WeakMap,dc=new WeakMap,Jn=new WeakMap,$i=new WeakMap,vs=new WeakMap,gf=new WeakMap,bs=new WeakMap,Wh=new WeakMap,rr=new WeakMap,Sa=new WeakMap,jt=new WeakSet,jh=function(){const e=l(this,bs),t=l(this,ls);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&l(this,bs).html||null},qp=function(){var e,t,i;return((i=(t=(e=l(this,jt,jh))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.fontSize)||0},uy=function(){var e,t,i;return((i=(t=(e=l(this,jt,jh))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.color)||null},gk=function(e){const t=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},n={style:{color:l(this,jt,uy),fontSize:l(this,jt,qp)?`calc(${l(this,jt,qp)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:n});return i},mk=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&l(this,Jn))&&w(this,jt,mf).call(this)},hy=function(){if(l(this,vs)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:i,pageX:n,pageY:s}}}=l(this,pf);let r=!!l(this,dc),a=r?l(this,dc):l(this,gf);for(const f of l(this,ff))if(!a||j.intersect(f.data.rect,a)!==null){a=f.data.rect,r=!0;break}const o=j.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),c=r?a[2]-a[0]+5:0,u=o[0]+c,h=o[1];y(this,vs,[100*(u-n)/t,100*(h-s)/i]);const{style:d}=l(this,Lt);d.left=`${l(this,vs)[0]}%`,d.top=`${l(this,vs)[1]}%`},mf=function(){y(this,Jn,!l(this,Jn)),l(this,Jn)?(w(this,jt,vf).call(this),l(this,Lt).addEventListener("click",l(this,hc)),l(this,Lt).addEventListener("keydown",l(this,uc))):(w(this,jt,Om).call(this),l(this,Lt).removeEventListener("click",l(this,hc)),l(this,Lt).removeEventListener("keydown",l(this,uc)))},vf=function(){l(this,$i)||this.render(),this.isVisible?l(this,Jn)&&l(this,Lt).classList.add("focused"):(w(this,jt,hy).call(this),l(this,Lt).hidden=!1,l(this,Lt).style.zIndex=parseInt(l(this,Lt).style.zIndex)+1e3)},Om=function(){l(this,Lt).classList.remove("focused"),!(l(this,Jn)||!this.isVisible)&&(l(this,Lt).hidden=!0,l(this,Lt).style.zIndex=parseInt(l(this,Lt).style.zIndex)-1e3)};class vk extends $t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=nt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const i of this.textContent){const n=document.createElement("span");n.textContent=i,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var zh;class wT extends $t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),k(this,zh,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:i,height:n}=$n(t.rect),s=this.svgFactory.create(i,n,!0),r=y(this,zh,this.svgFactory.createElement("svg:line"));return r.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),r.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),r.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),r.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),r.setAttribute("stroke-width",t.borderStyle.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),s.append(r),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,zh)}addHighlightArea(){this.container.classList.add("highlightArea")}}zh=new WeakMap;var Bh;class AT extends $t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),k(this,Bh,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:i,height:n}=$n(t.rect),s=this.svgFactory.create(i,n,!0),r=t.borderStyle.width,a=y(this,Bh,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",r/2),a.setAttribute("y",r/2),a.setAttribute("width",i-r),a.setAttribute("height",n-r),a.setAttribute("stroke-width",r||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,Bh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Bh=new WeakMap;var Hh;class kT extends $t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),k(this,Hh,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:i,height:n}=$n(t.rect),s=this.svgFactory.create(i,n,!0),r=t.borderStyle.width,a=y(this,Hh,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",i/2),a.setAttribute("cy",n/2),a.setAttribute("rx",i/2-r/2),a.setAttribute("ry",n/2-r/2),a.setAttribute("stroke-width",r||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,Hh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Hh=new WeakMap;var $h;class bk extends $t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),k(this,$h,null),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:i,borderStyle:n,popupRef:s}}=this;if(!i)return this.container;const{width:r,height:a}=$n(t),o=this.svgFactory.create(r,a,!0);let c=[];for(let h=0,d=i.length;h<d;h+=2){const f=i[h]-t[0],p=t[3]-i[h+1];c.push(`${f},${p}`)}c=c.join(" ");const u=y(this,$h,this.svgFactory.createElement(this.svgElementName));return u.setAttribute("points",c),u.setAttribute("stroke-width",n.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),o.append(u),this.container.append(o),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,$h)}addHighlightArea(){this.container.classList.add("highlightArea")}}$h=new WeakMap;class _T extends bk{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ST extends $t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Uh;class yk extends $t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),k(this,Uh,[]),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=nt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:i,borderStyle:n,popupRef:s}}=this,{width:r,height:a}=$n(t),o=this.svgFactory.create(r,a,!0);for(const c of i){let u=[];for(let d=0,f=c.length;d<f;d+=2){const p=c[d]-t[0],g=t[3]-c[d+1];u.push(`${p},${g}`)}u=u.join(" ");const h=this.svgFactory.createElement(this.svgElementName);l(this,Uh).push(h),h.setAttribute("points",u),h.setAttribute("stroke-width",n.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),!s&&this.hasPopupData&&this._createPopup(),o.append(h)}return this.container.append(o),this.container}getElementsToTriggerPopup(){return l(this,Uh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Uh=new WeakMap;class xT extends $t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class ET extends $t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class CT extends $t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class MT extends $t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class wk extends $t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Vh,Gh,Wm;class TT extends $t{constructor(t){var i;super(t,{isRenderable:!0}),k(this,Gh),k(this,Vh,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:i}=this;let n;i.hasAppearance||i.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),n.addEventListener("dblclick",w(this,Gh,Wm).bind(this)),y(this,Vh,n);const{isMac:s}=Ue.platform;return t.addEventListener("keydown",r=>{r.key==="Enter"&&(s?r.metaKey:r.ctrlKey)&&w(this,Gh,Wm).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),t.append(n),t}getElementsToTriggerPopup(){return l(this,Vh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Vh=new WeakMap,Gh=new WeakSet,Wm=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var Du,na,Zo,tl,dy,Kp,fy;let RT=(fy=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:n,page:s,viewport:r}){k(this,tl),k(this,Du,null),k(this,na,null),k(this,Zo,new Map),this.div=e,y(this,Du,t),y(this,na,i),this.page=s,this.viewport=r,this.zIndex=0,this._annotationEditorUIManager=n}async render(e){var t;const{annotations:i}=e,n=this.div;Wr(n,this.viewport);const s=new Map,r={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new o0,annotationStorage:e.annotationStorage||new d0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of i){if(a.noHTML)continue;const o=a.annotationType===Ot.POPUP;if(o){const h=s.get(a.id);if(!h)continue;r.elements=h}else{const{width:h,height:d}=$n(a.rect);if(h<=0||d<=0)continue}r.data=a;const c=hT.create(r);if(!c.isRenderable)continue;if(!o&&a.popupRef){const h=s.get(a.popupRef);h?h.push(c):s.set(a.popupRef,[c])}const u=c.render();a.hidden&&(u.style.visibility="hidden"),w(this,tl,dy).call(this,u,a.id),c.annotationEditorType>0&&(l(this,Zo).set(c.data.id,c),(t=this._annotationEditorUIManager)==null||t.renderAnnotationElement(c))}w(this,tl,Kp).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,Wr(t,{rotation:e.rotation}),w(this,tl,Kp).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(l(this,Zo).values())}getEditableAnnotation(e){return l(this,Zo).get(e)}},Du=new WeakMap,na=new WeakMap,Zo=new WeakMap,tl=new WeakSet,dy=function(e,t){var i;const n=e.firstChild||e;n.id=`${hA}${t}`,this.div.append(e),(i=l(this,Du))==null||i.moveElementInDOM(this.div,e,n,!1)},Kp=function(){if(!l(this,na))return;const e=this.div;for(const[t,i]of l(this,na)){const n=e.querySelector(`[data-annotation-id="${t}"]`);if(!n)continue;i.className="annotationContent";const{firstChild:s}=n;s?s.nodeName==="CANVAS"?s.replaceWith(i):s.classList.contains("annotationContent")?s.after(i):s.before(i):n.append(i)}l(this,na).clear()},fy);const qh=/\r\n?|\n/g;var Kh,Xh,Yh,Qh,Jh,Yi,hi,Zh,di,fc,Ke,Ak,kk,_k,bf,Cr,yf,td,Sk,jm,xk;const An=class ie extends pt{constructor(t){super({...t,name:"freeTextEditor"}),k(this,Ke),k(this,Kh,this.editorDivBlur.bind(this)),k(this,Xh,this.editorDivFocus.bind(this)),k(this,Yh,this.editorDivInput.bind(this)),k(this,Qh,this.editorDivKeydown.bind(this)),k(this,Jh,this.editorDivPaste.bind(this)),k(this,Yi),k(this,hi,""),k(this,Zh,`${this.id}-editor`),k(this,di),k(this,fc,null),y(this,Yi,t.color||ie._defaultColor||pt._defaultLineColor),y(this,di,t.fontSize||ie._defaultFontSize)}static get _keyboardManager(){const t=ie.prototype,i=r=>r.isEmpty(),n=Bc.TRANSLATE_SMALL,s=Bc.TRANSLATE_BIG;return st(this,"_keyboardManager",new Qc([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[n,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:i}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,n],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:i}]]))}static initialize(t,i){pt.initialize(t,i,{strings:["pdfjs-free-text-default-content"]});const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,i){switch(t){case K.FREETEXT_SIZE:ie._defaultFontSize=i;break;case K.FREETEXT_COLOR:ie._defaultColor=i;break}}updateParams(t,i){switch(t){case K.FREETEXT_SIZE:w(this,Ke,Ak).call(this,i);break;case K.FREETEXT_COLOR:w(this,Ke,kk).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[K.FREETEXT_SIZE,ie._defaultFontSize],[K.FREETEXT_COLOR,ie._defaultColor||pt._defaultLineColor]]}get propertiesToUpdate(){return[[K.FREETEXT_SIZE,l(this,di)],[K.FREETEXT_COLOR,l(this,Yi)]]}_translateEmpty(t,i){this._uiManager.translateSelectedEditors(t,i,!0)}getInitialTranslation(){const t=this.parentScale;return[-ie._internalPadding*t,-(ie._internalPadding+l(this,di))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(nt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const t=this._uiManager._signal;this.editorDiv.addEventListener("keydown",l(this,Qh),{signal:t}),this.editorDiv.addEventListener("focus",l(this,Xh),{signal:t}),this.editorDiv.addEventListener("blur",l(this,Kh),{signal:t}),this.editorDiv.addEventListener("input",l(this,Yh),{signal:t}),this.editorDiv.addEventListener("paste",l(this,Jh),{signal:t})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",l(this,Zh)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",l(this,Qh)),this.editorDiv.removeEventListener("focus",l(this,Xh)),this.editorDiv.removeEventListener("blur",l(this,Kh)),this.editorDiv.removeEventListener("input",l(this,Yh)),this.editorDiv.removeEventListener("paste",l(this,Jh)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=l(this,hi),i=y(this,hi,w(this,Ke,_k).call(this).trimEnd());if(t===i)return;const n=s=>{if(y(this,hi,s),!s){this.remove();return}w(this,Ke,td).call(this),this._uiManager.rebuild(this),w(this,Ke,bf).call(this)};this.addCommands({cmd:()=>{n(i)},undo:()=>{n(t)},mustExec:!1}),w(this,Ke,bf).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){ie._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,i;this.width&&(t=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",l(this,Zh)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),pt._l10nPromise.get("pdfjs-free-text-default-content").then(s=>{var r;return(r=this.editorDiv)==null?void 0:r.setAttribute("default-content",s)}),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${l(this,di)}px * var(--scale-factor))`,n.color=l(this,Yi),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Zd(this,this.div,["dblclick","keydown"]),this.width){const[s,r]=this.parentDimensions;if(this.annotationElementId){const{position:a}=l(this,fc);let[o,c]=this.getInitialTranslation();[o,c]=this.pageTranslationToScreen(o,c);const[u,h]=this.pageDimensions,[d,f]=this.pageTranslation;let p,g;switch(this.rotation){case 0:p=t+(a[0]-d)/u,g=i+this.height-(a[1]-f)/h;break;case 90:p=t+(a[0]-d)/u,g=i-(a[1]-f)/h,[o,c]=[c,-o];break;case 180:p=t-this.width+(a[0]-d)/u,g=i-(a[1]-f)/h,[o,c]=[-o,-c];break;case 270:p=t+(a[0]-d-this.height*h)/u,g=i+(a[1]-f-this.width*u)/h,[o,c]=[-c,o];break}this.setAt(p*s,g*r,o,c)}else this.setAt(t*s,i*r,this.width*s,this.height*r);w(this,Ke,td).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var i,n,s;const r=t.clipboardData||window.clipboardData,{types:a}=r;if(a.length===1&&a[0]==="text/plain")return;t.preventDefault();const o=w(i=ie,Cr,jm).call(i,r.getData("text")||"").replaceAll(qh,`
`);if(!o)return;const c=window.getSelection();if(!c.rangeCount)return;this.editorDiv.normalize(),c.deleteFromDocument();const u=c.getRangeAt(0);if(!o.includes(`
`)){u.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),c.collapseToStart();return}const{startContainer:h,startOffset:d}=u,f=[],p=[];if(h.nodeType===Node.TEXT_NODE){const _=h.parentElement;if(p.push(h.nodeValue.slice(d).replaceAll(qh,"")),_!==this.editorDiv){let v=f;for(const m of this.editorDiv.childNodes){if(m===_){v=p;continue}v.push(w(n=ie,Cr,yf).call(n,m))}}f.push(h.nodeValue.slice(0,d).replaceAll(qh,""))}else if(h===this.editorDiv){let _=f,v=0;for(const m of this.editorDiv.childNodes)v++===d&&(_=p),_.push(w(s=ie,Cr,yf).call(s,m))}y(this,hi,`${f.join(`
`)}${o}${p.join(`
`)}`),w(this,Ke,td).call(this);const g=new Range;let b=f.reduce((_,v)=>_+v.length,0);for(const{firstChild:_}of this.editorDiv.childNodes)if(_.nodeType===Node.TEXT_NODE){const v=_.nodeValue.length;if(b<=v){g.setStart(_,b),g.setEnd(_,b);break}b-=v}c.removeAllRanges(),c.addRange(g)}get contentDiv(){return this.editorDiv}static deserialize(t,i,n){var s;let r=null;if(t instanceof vk){const{data:{defaultAppearanceData:{fontSize:o,fontColor:c},rect:u,rotation:h,id:d},textContent:f,textPosition:p,parent:{page:{pageNumber:g}}}=t;if(!f||f.length===0)return null;r=t={annotationType:nt.FREETEXT,color:Array.from(c),fontSize:o,value:f.join(`
`),position:p,pageIndex:g-1,rect:u.slice(0),rotation:h,id:d,deleted:!1}}const a=super.deserialize(t,i,n);return y(a,di,t.fontSize),y(a,Yi,j.makeHexColor(...t.color)),y(a,hi,w(s=ie,Cr,jm).call(s,t.value)),a.annotationElementId=t.id||null,y(a,fc,r),a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const i=ie._internalPadding*this.parentScale,n=this.getRect(i,i),s=pt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:l(this,Yi)),r={annotationType:nt.FREETEXT,color:s,fontSize:l(this,di),value:w(this,Ke,Sk).call(this),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?r:this.annotationElementId&&!w(this,Ke,xk).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){const i=super.renderAnnotationElement(t);if(this.deleted)return i;const{style:n}=i;n.fontSize=`calc(${l(this,di)}px * var(--scale-factor))`,n.color=l(this,Yi),i.replaceChildren();for(const r of l(this,hi).split(`
`)){const a=document.createElement("div");a.append(r?document.createTextNode(r):document.createElement("br")),i.append(a)}const s=ie._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:l(this,hi)}),i}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Kh=new WeakMap,Xh=new WeakMap,Yh=new WeakMap,Qh=new WeakMap,Jh=new WeakMap,Yi=new WeakMap,hi=new WeakMap,Zh=new WeakMap,di=new WeakMap,fc=new WeakMap,Ke=new WeakSet,Ak=function(e){const t=n=>{this.editorDiv.style.fontSize=`calc(${n}px * var(--scale-factor))`,this.translate(0,-(n-l(this,di))*this.parentScale),y(this,di,n),w(this,Ke,bf).call(this)},i=l(this,di);this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:K.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},kk=function(e){const t=n=>{y(this,Yi,this.editorDiv.style.color=n)},i=l(this,Yi);this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:K.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},_k=function(){var e;const t=[];this.editorDiv.normalize();for(const i of this.editorDiv.childNodes)t.push(w(e=An,Cr,yf).call(e,i));return t.join(`
`)},bf=function(){const[e,t]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:n,div:s}=this,r=s.style.display,a=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",n.div.append(this.div),i=s.getBoundingClientRect(),s.remove(),s.style.display=r,s.classList.toggle("hidden",a)}this.rotation%180===this.parentRotation%180?(this.width=i.width/e,this.height=i.height/t):(this.width=i.height/e,this.height=i.width/t),this.fixAndSetPosition()},Cr=new WeakSet,yf=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(qh,"")},td=function(){if(this.editorDiv.replaceChildren(),!!l(this,hi))for(const e of l(this,hi).split(`
`)){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}},Sk=function(){return l(this,hi).replaceAll(" "," ")},jm=function(e){return e.replaceAll(" "," ")},xk=function(e){const{value:t,fontSize:i,color:n,pageIndex:s}=l(this,fc);return this._hasBeenMoved||e.value!==t||e.fontSize!==i||e.color.some((r,a)=>r!==n[a])||e.pageIndex!==s},k(An,Cr),X(An,"_freeTextDefaultContent",""),X(An,"_internalPadding",0),X(An,"_defaultColor",null),X(An,"_defaultFontSize",10),X(An,"_type","freetext"),X(An,"_editorType",nt.FREETEXT);let PT=An;var wf,ar,ji,Ji,Ek,Fu,Ck,Mk,zm;class Bm{constructor(t,i=0,n=0,s=!0){k(this,Ji),k(this,wf),k(this,ar,[]),k(this,ji,[]);let r=1/0,a=-1/0,o=1/0,c=-1/0;const u=10**-4;for(const{x:_,y:v,width:m,height:A}of t){const S=Math.floor((_-i)/u)*u,x=Math.ceil((_+m+i)/u)*u,C=Math.floor((v-i)/u)*u,T=Math.ceil((v+A+i)/u)*u,M=[S,C,T,!0],I=[x,C,T,!1];l(this,ar).push(M,I),r=Math.min(r,S),a=Math.max(a,x),o=Math.min(o,C),c=Math.max(c,T)}const h=a-r+2*n,d=c-o+2*n,f=r-n,p=o-n,g=l(this,ar).at(s?-1:-2),b=[g[0],g[2]];for(const _ of l(this,ar)){const[v,m,A]=_;_[0]=(v-f)/h,_[1]=(m-p)/d,_[2]=(A-p)/d}y(this,wf,{x:f,y:p,width:h,height:d,lastPoint:b})}getOutlines(){l(this,ar).sort((i,n)=>i[0]-n[0]||i[1]-n[1]||i[2]-n[2]);const t=[];for(const i of l(this,ar))i[3]?(t.push(...w(this,Ji,zm).call(this,i)),w(this,Ji,Ck).call(this,i)):(w(this,Ji,Mk).call(this,i),t.push(...w(this,Ji,zm).call(this,i)));return w(this,Ji,Ek).call(this,t)}}wf=new WeakMap,ar=new WeakMap,ji=new WeakMap,Ji=new WeakSet,Ek=function(e){const t=[],i=new Set;for(const r of e){const[a,o,c]=r;t.push([a,o,r],[a,c,r])}t.sort((r,a)=>r[1]-a[1]||r[0]-a[0]);for(let r=0,a=t.length;r<a;r+=2){const o=t[r][2],c=t[r+1][2];o.push(c),c.push(o),i.add(o),i.add(c)}const n=[];let s;for(;i.size>0;){const r=i.values().next().value;let[a,o,c,u,h]=r;i.delete(r);let d=a,f=o;for(s=[a,c],n.push(s);;){let p;if(i.has(u))p=u;else if(i.has(h))p=h;else break;i.delete(p),[a,o,c,u,h]=p,d!==a&&(s.push(d,f,a,f===o?o:c),d=a),f=f===o?c:o}s.push(d,f)}return new LT(n,l(this,wf))},Fu=function(e){const t=l(this,ji);let i=0,n=t.length-1;for(;i<=n;){const s=i+n>>1,r=t[s][0];if(r===e)return s;r<e?i=s+1:n=s-1}return n+1},Ck=function([,e,t]){const i=w(this,Ji,Fu).call(this,e);l(this,ji).splice(i,0,[e,t])},Mk=function([,e,t]){const i=w(this,Ji,Fu).call(this,e);for(let n=i;n<l(this,ji).length;n++){const[s,r]=l(this,ji)[n];if(s!==e)break;if(s===e&&r===t){l(this,ji).splice(n,1);return}}for(let n=i-1;n>=0;n--){const[s,r]=l(this,ji)[n];if(s!==e)break;if(s===e&&r===t){l(this,ji).splice(n,1);return}}},zm=function(e){const[t,i,n]=e,s=[[t,i,n]],r=w(this,Ji,Fu).call(this,n);for(let a=0;a<r;a++){const[o,c]=l(this,ji)[a];for(let u=0,h=s.length;u<h;u++){const[,d,f]=s[u];if(!(c<=d||f<=o)){if(d>=o){if(f>c)s[u][1]=c;else{if(h===1)return[];s.splice(u,1),u--,h--}continue}s[u][2]=o,f>c&&s.push([t,c,f])}}}return s};class Tk{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(t,i){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof Vm}}var ed,Fl;class LT extends Tk{constructor(t,i){super(),k(this,ed),k(this,Fl),y(this,Fl,t),y(this,ed,i)}toSVGPath(){const t=[];for(const i of l(this,Fl)){let[n,s]=i;t.push(`M${n} ${s}`);for(let r=2;r<i.length;r+=2){const a=i[r],o=i[r+1];a===n?(t.push(`V${o}`),s=o):o===s&&(t.push(`H${a}`),n=a)}t.push("Z")}return t.join(" ")}serialize([t,i,n,s],r){const a=[],o=n-t,c=s-i;for(const u of l(this,Fl)){const h=new Array(u.length);for(let d=0;d<u.length;d+=2)h[d]=t+u[d]*o,h[d+1]=s-u[d+1]*c;a.push(h)}return a}get box(){return l(this,ed)}}ed=new WeakMap,Fl=new WeakMap;var xn,Zn,Ol,Wl,kn,it,fo,po,id,nd,jl,zl,or,sd,Xp,Hm,rd,$m;const xa=class Um{constructor({x:t,y:i},n,s,r,a,o=0){k(this,rd),k(this,xn),k(this,Zn,[]),k(this,Ol),k(this,Wl),k(this,kn,[]),k(this,it,new Float64Array(18)),k(this,fo),k(this,po),k(this,id),k(this,nd),k(this,jl),k(this,zl),k(this,or,[]),y(this,xn,n),y(this,zl,r*s),y(this,Wl,a),l(this,it).set([NaN,NaN,NaN,NaN,t,i],6),y(this,Ol,o),y(this,nd,l(Um,sd)*s),y(this,id,l(Um,Hm)*s),y(this,jl,s),l(this,or).push(t,i)}get free(){return!0}isEmpty(){return isNaN(l(this,it)[8])}add({x:t,y:i}){var n;y(this,fo,t),y(this,po,i);const[s,r,a,o]=l(this,xn);let[c,u,h,d]=l(this,it).subarray(8,12);const f=t-h,p=i-d,g=Math.hypot(f,p);if(g<l(this,id))return!1;const b=g-l(this,nd),_=b/g,v=_*f,m=_*p;let A=c,S=u;c=h,u=d,h+=v,d+=m,(n=l(this,or))==null||n.push(t,i);const x=-m/b,C=v/b,T=x*l(this,zl),M=C*l(this,zl);return l(this,it).set(l(this,it).subarray(2,8),0),l(this,it).set([h+T,d+M],4),l(this,it).set(l(this,it).subarray(14,18),12),l(this,it).set([h-T,d-M],16),isNaN(l(this,it)[6])?(l(this,kn).length===0&&(l(this,it).set([c+T,u+M],2),l(this,kn).push(NaN,NaN,NaN,NaN,(c+T-s)/a,(u+M-r)/o),l(this,it).set([c-T,u-M],14),l(this,Zn).push(NaN,NaN,NaN,NaN,(c-T-s)/a,(u-M-r)/o)),l(this,it).set([A,S,c,u,h,d],6),!this.isEmpty()):(l(this,it).set([A,S,c,u,h,d],6),Math.abs(Math.atan2(S-u,A-c)-Math.atan2(m,v))<Math.PI/2?([c,u,h,d]=l(this,it).subarray(2,6),l(this,kn).push(NaN,NaN,NaN,NaN,((c+h)/2-s)/a,((u+d)/2-r)/o),[c,u,A,S]=l(this,it).subarray(14,18),l(this,Zn).push(NaN,NaN,NaN,NaN,((A+c)/2-s)/a,((S+u)/2-r)/o),!0):([A,S,c,u,h,d]=l(this,it).subarray(0,6),l(this,kn).push(((A+5*c)/6-s)/a,((S+5*u)/6-r)/o,((5*c+h)/6-s)/a,((5*u+d)/6-r)/o,((c+h)/2-s)/a,((u+d)/2-r)/o),[h,d,c,u,A,S]=l(this,it).subarray(12,18),l(this,Zn).push(((A+5*c)/6-s)/a,((S+5*u)/6-r)/o,((5*c+h)/6-s)/a,((5*u+d)/6-r)/o,((c+h)/2-s)/a,((u+d)/2-r)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const t=l(this,kn),i=l(this,Zn),n=l(this,it).subarray(4,6),s=l(this,it).subarray(16,18),[r,a,o,c]=l(this,xn),[u,h,d,f]=w(this,rd,$m).call(this);if(isNaN(l(this,it)[6])&&!this.isEmpty())return`M${(l(this,it)[2]-r)/o} ${(l(this,it)[3]-a)/c} L${(l(this,it)[4]-r)/o} ${(l(this,it)[5]-a)/c} L${u} ${h} L${d} ${f} L${(l(this,it)[16]-r)/o} ${(l(this,it)[17]-a)/c} L${(l(this,it)[14]-r)/o} ${(l(this,it)[15]-a)/c} Z`;const p=[];p.push(`M${t[4]} ${t[5]}`);for(let g=6;g<t.length;g+=6)isNaN(t[g])?p.push(`L${t[g+4]} ${t[g+5]}`):p.push(`C${t[g]} ${t[g+1]} ${t[g+2]} ${t[g+3]} ${t[g+4]} ${t[g+5]}`);p.push(`L${(n[0]-r)/o} ${(n[1]-a)/c} L${u} ${h} L${d} ${f} L${(s[0]-r)/o} ${(s[1]-a)/c}`);for(let g=i.length-6;g>=6;g-=6)isNaN(i[g])?p.push(`L${i[g+4]} ${i[g+5]}`):p.push(`C${i[g]} ${i[g+1]} ${i[g+2]} ${i[g+3]} ${i[g+4]} ${i[g+5]}`);return p.push(`L${i[4]} ${i[5]} Z`),p.join(" ")}getOutlines(){var t;const i=l(this,kn),n=l(this,Zn),s=l(this,it),r=s.subarray(4,6),a=s.subarray(16,18),[o,c,u,h]=l(this,xn),d=new Float64Array((((t=l(this,or))==null?void 0:t.length)??0)+2);for(let m=0,A=d.length-2;m<A;m+=2)d[m]=(l(this,or)[m]-o)/u,d[m+1]=(l(this,or)[m+1]-c)/h;d[d.length-2]=(l(this,fo)-o)/u,d[d.length-1]=(l(this,po)-c)/h;const[f,p,g,b]=w(this,rd,$m).call(this);if(isNaN(s[6])&&!this.isEmpty()){const m=new Float64Array(36);return m.set([NaN,NaN,NaN,NaN,(s[2]-o)/u,(s[3]-c)/h,NaN,NaN,NaN,NaN,(s[4]-o)/u,(s[5]-c)/h,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,g,b,NaN,NaN,NaN,NaN,(s[16]-o)/u,(s[17]-c)/h,NaN,NaN,NaN,NaN,(s[14]-o)/u,(s[15]-c)/h],0),new Vm(m,d,l(this,xn),l(this,jl),l(this,Ol),l(this,Wl))}const _=new Float64Array(l(this,kn).length+24+l(this,Zn).length);let v=i.length;for(let m=0;m<v;m+=2){if(isNaN(i[m])){_[m]=_[m+1]=NaN;continue}_[m]=i[m],_[m+1]=i[m+1]}_.set([NaN,NaN,NaN,NaN,(r[0]-o)/u,(r[1]-c)/h,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,g,b,NaN,NaN,NaN,NaN,(a[0]-o)/u,(a[1]-c)/h],v),v+=24;for(let m=n.length-6;m>=6;m-=6)for(let A=0;A<6;A+=2){if(isNaN(n[m+A])){_[v]=_[v+1]=NaN,v+=2;continue}_[v]=n[m+A],_[v+1]=n[m+A+1],v+=2}return _.set([NaN,NaN,NaN,NaN,n[4],n[5]],v),new Vm(_,d,l(this,xn),l(this,jl),l(this,Ol),l(this,Wl))}};xn=new WeakMap,Zn=new WeakMap,Ol=new WeakMap,Wl=new WeakMap,kn=new WeakMap,it=new WeakMap,fo=new WeakMap,po=new WeakMap,id=new WeakMap,nd=new WeakMap,jl=new WeakMap,zl=new WeakMap,or=new WeakMap,sd=new WeakMap,Xp=new WeakMap,Hm=new WeakMap,rd=new WeakSet,$m=function(){const e=l(this,it).subarray(4,6),t=l(this,it).subarray(16,18),[i,n,s,r]=l(this,xn);return[(l(this,fo)+(e[0]-t[0])/2-i)/s,(l(this,po)+(e[1]-t[1])/2-n)/r,(l(this,fo)+(t[0]-e[0])/2-i)/s,(l(this,po)+(t[1]-e[1])/2-n)/r]},k(xa,sd,8),k(xa,Xp,2),k(xa,Hm,l(xa,sd)+l(xa,Xp));let Rk=xa;var Bl,Ya,ys,ad,ri,od,Dt,_i,Hl,$l,Pk;class Vm extends Tk{constructor(t,i,n,s,r,a){super(),k(this,_i),k(this,Bl),k(this,Ya,null),k(this,ys),k(this,ad),k(this,ri),k(this,od),k(this,Dt),y(this,Dt,t),y(this,ri,i),y(this,Bl,n),y(this,od,s),y(this,ys,r),y(this,ad,a),w(this,_i,Pk).call(this,a);const{x:o,y:c,width:u,height:h}=l(this,Ya);for(let d=0,f=t.length;d<f;d+=2)t[d]=(t[d]-o)/u,t[d+1]=(t[d+1]-c)/h;for(let d=0,f=i.length;d<f;d+=2)i[d]=(i[d]-o)/u,i[d+1]=(i[d+1]-c)/h}toSVGPath(){const t=[`M${l(this,Dt)[4]} ${l(this,Dt)[5]}`];for(let i=6,n=l(this,Dt).length;i<n;i+=6){if(isNaN(l(this,Dt)[i])){t.push(`L${l(this,Dt)[i+4]} ${l(this,Dt)[i+5]}`);continue}t.push(`C${l(this,Dt)[i]} ${l(this,Dt)[i+1]} ${l(this,Dt)[i+2]} ${l(this,Dt)[i+3]} ${l(this,Dt)[i+4]} ${l(this,Dt)[i+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,i,n,s],r){const a=n-t,o=s-i;let c,u;switch(r){case 0:c=w(this,_i,Hl).call(this,l(this,Dt),t,s,a,-o),u=w(this,_i,Hl).call(this,l(this,ri),t,s,a,-o);break;case 90:c=w(this,_i,$l).call(this,l(this,Dt),t,i,a,o),u=w(this,_i,$l).call(this,l(this,ri),t,i,a,o);break;case 180:c=w(this,_i,Hl).call(this,l(this,Dt),n,i,-a,o),u=w(this,_i,Hl).call(this,l(this,ri),n,i,-a,o);break;case 270:c=w(this,_i,$l).call(this,l(this,Dt),n,s,-a,-o),u=w(this,_i,$l).call(this,l(this,ri),n,s,-a,-o);break}return{outline:Array.from(c),points:[Array.from(u)]}}get box(){return l(this,Ya)}getNewOutline(t,i){const{x:n,y:s,width:r,height:a}=l(this,Ya),[o,c,u,h]=l(this,Bl),d=r*u,f=a*h,p=n*u+o,g=s*h+c,b=new Rk({x:l(this,ri)[0]*d+p,y:l(this,ri)[1]*f+g},l(this,Bl),l(this,od),t,l(this,ad),i??l(this,ys));for(let _=2;_<l(this,ri).length;_+=2)b.add({x:l(this,ri)[_]*d+p,y:l(this,ri)[_+1]*f+g});return b.getOutlines()}}Bl=new WeakMap,Ya=new WeakMap,ys=new WeakMap,ad=new WeakMap,ri=new WeakMap,od=new WeakMap,Dt=new WeakMap,_i=new WeakSet,Hl=function(e,t,i,n,s){const r=new Float64Array(e.length);for(let a=0,o=e.length;a<o;a+=2)r[a]=t+e[a]*n,r[a+1]=i+e[a+1]*s;return r},$l=function(e,t,i,n,s){const r=new Float64Array(e.length);for(let a=0,o=e.length;a<o;a+=2)r[a]=t+e[a+1]*n,r[a+1]=i+e[a]*s;return r},Pk=function(e){const t=l(this,Dt);let i=t[4],n=t[5],s=i,r=n,a=i,o=n,c=i,u=n;const h=e?Math.max:Math.min;for(let b=6,_=t.length;b<_;b+=6){if(isNaN(t[b]))s=Math.min(s,t[b+4]),r=Math.min(r,t[b+5]),a=Math.max(a,t[b+4]),o=Math.max(o,t[b+5]),u<t[b+5]?(c=t[b+4],u=t[b+5]):u===t[b+5]&&(c=h(c,t[b+4]));else{const v=j.bezierBoundingBox(i,n,...t.slice(b,b+6));s=Math.min(s,v[0]),r=Math.min(r,v[1]),a=Math.max(a,v[2]),o=Math.max(o,v[3]),u<v[3]?(c=v[2],u=v[3]):u===v[3]&&(c=h(c,v[2]))}i=t[b+4],n=t[b+5]}const d=s-l(this,ys),f=r-l(this,ys),p=a-s+2*l(this,ys),g=o-r+2*l(this,ys);y(this,Ya,{x:d,y:f,width:p,height:g,lastPoint:[c,u]})};var Af,kf,Ui,Ea,pc,Kt,_f,Ul,ld,Sf,Zi,gc,Pt,Gm,qm,Lk,lr,Ik,cs;const Nk=class cr{constructor({editor:t=null,uiManager:i=null}){k(this,Pt),k(this,Af,w(this,Pt,Lk).bind(this)),k(this,kf,w(this,Pt,Ik).bind(this)),k(this,Ui,null),k(this,Ea,null),k(this,pc),k(this,Kt,null),k(this,_f,!1),k(this,Ul,!1),k(this,ld,null),k(this,Sf),k(this,Zi,null),k(this,gc);var n;t?(y(this,Ul,!1),y(this,gc,K.HIGHLIGHT_COLOR),y(this,ld,t)):(y(this,Ul,!0),y(this,gc,K.HIGHLIGHT_DEFAULT_COLOR)),y(this,Zi,(t==null?void 0:t._uiManager)||i),y(this,Sf,l(this,Zi)._eventBus),y(this,pc,(t==null?void 0:t.color)||((n=l(this,Zi))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return st(this,"_keyboardManager",new Qc([[["Escape","mac+Escape"],cr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],cr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],cr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],cr.prototype._moveToPrevious],[["Home","mac+Home"],cr.prototype._moveToBeginning],[["End","mac+End"],cr.prototype._moveToEnd]]))}renderButton(){const t=y(this,Ui,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const i=l(this,Zi)._signal;t.addEventListener("click",w(this,Pt,lr).bind(this),{signal:i}),t.addEventListener("keydown",l(this,Af),{signal:i});const n=y(this,Ea,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=l(this,pc),t.append(n),t}renderMainDropdown(){const t=y(this,Kt,w(this,Pt,Gm).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===l(this,Ui)){w(this,Pt,lr).call(this,t);return}const i=t.target.getAttribute("data-color");i&&w(this,Pt,qm).call(this,i,t)}_moveToNext(t){var i,n;if(!l(this,Pt,cs)){w(this,Pt,lr).call(this,t);return}if(t.target===l(this,Ui)){(i=l(this,Kt).firstChild)==null||i.focus();return}(n=t.target.nextSibling)==null||n.focus()}_moveToPrevious(t){var i,n;if(t.target===((i=l(this,Kt))==null?void 0:i.firstChild)||t.target===l(this,Ui)){l(this,Pt,cs)&&this._hideDropdownFromKeyboard();return}l(this,Pt,cs)||w(this,Pt,lr).call(this,t),(n=t.target.previousSibling)==null||n.focus()}_moveToBeginning(t){var i;if(!l(this,Pt,cs)){w(this,Pt,lr).call(this,t);return}(i=l(this,Kt).firstChild)==null||i.focus()}_moveToEnd(t){var i;if(!l(this,Pt,cs)){w(this,Pt,lr).call(this,t);return}(i=l(this,Kt).lastChild)==null||i.focus()}hideDropdown(){var t;(t=l(this,Kt))==null||t.classList.add("hidden"),window.removeEventListener("pointerdown",l(this,kf))}_hideDropdownFromKeyboard(){var t;if(!l(this,Ul)){if(!l(this,Pt,cs)){(t=l(this,ld))==null||t.unselect();return}this.hideDropdown(),l(this,Ui).focus({preventScroll:!0,focusVisible:l(this,_f)})}}updateColor(t){if(l(this,Ea)&&(l(this,Ea).style.backgroundColor=t),!l(this,Kt))return;const i=l(this,Zi).highlightColors.values();for(const n of l(this,Kt).children)n.setAttribute("aria-selected",i.next().value===t)}destroy(){var t,i;(t=l(this,Ui))==null||t.remove(),y(this,Ui,null),y(this,Ea,null),(i=l(this,Kt))==null||i.remove(),y(this,Kt,null)}};Af=new WeakMap,kf=new WeakMap,Ui=new WeakMap,Ea=new WeakMap,pc=new WeakMap,Kt=new WeakMap,_f=new WeakMap,Ul=new WeakMap,ld=new WeakMap,Sf=new WeakMap,Zi=new WeakMap,gc=new WeakMap,Pt=new WeakSet,Gm=function(){const e=document.createElement("div"),t=l(this,Zi)._signal;e.addEventListener("contextmenu",$e,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[i,n]of l(this,Zi).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",n),s.title=i,s.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${i}`);const r=document.createElement("span");s.append(r),r.className="swatch",r.style.backgroundColor=n,s.setAttribute("aria-selected",n===l(this,pc)),s.addEventListener("click",w(this,Pt,qm).bind(this,n),{signal:t}),e.append(s)}return e.addEventListener("keydown",l(this,Af),{signal:t}),e},qm=function(e,t){t.stopPropagation(),l(this,Sf).dispatch("switchannotationeditorparams",{source:this,type:l(this,gc),value:e})},Lk=function(e){Nk._keyboardManager.exec(this,e)},lr=function(e){if(l(this,Pt,cs)){this.hideDropdown();return}if(y(this,_f,e.detail===0),window.addEventListener("pointerdown",l(this,kf),{signal:l(this,Zi)._signal}),l(this,Kt)){l(this,Kt).classList.remove("hidden");return}const t=y(this,Kt,w(this,Pt,Gm).call(this));l(this,Ui).append(t)},Ik=function(e){var t;(t=l(this,Kt))!=null&&t.contains(e.target)||this.hideDropdown()},cs=function(){return l(this,Kt)&&!l(this,Kt).classList.contains("hidden")};let Dk=Nk;var mc,xf,Mr,Qa,vc,Ei,Ef,Cf,go,Vi,Ne,fi,Km,bc,Ja,Xt,Vl,Rn,cd,vt,Xm,Ym,Fk,Ok,py,Qm,Gl,Pn,mo,Wk,ud,yc,jk,zk,Bk,Hk;const Ie=class fe extends pt{constructor(t){super({...t,name:"highlightEditor"}),k(this,vt),k(this,mc,null),k(this,xf,0),k(this,Mr),k(this,Qa,null),k(this,vc,null),k(this,Ei,null),k(this,Ef,null),k(this,Cf,0),k(this,go,null),k(this,Vi,null),k(this,Ne,null),k(this,fi,!1),k(this,Km,w(this,vt,Wk).bind(this)),k(this,bc,null),k(this,Ja),k(this,Xt,null),k(this,Vl,""),k(this,Rn),k(this,cd,""),this.color=t.color||fe._defaultColor,y(this,Rn,t.thickness||fe._defaultThickness),y(this,Ja,t.opacity||fe._defaultOpacity),y(this,Mr,t.boxes||null),y(this,cd,t.methodOfCreation||""),y(this,Vl,t.text||""),this._isDraggable=!1,t.highlightId>-1?(y(this,fi,!0),w(this,vt,Ym).call(this,t),w(this,vt,Gl).call(this)):(y(this,mc,t.anchorNode),y(this,xf,t.anchorOffset),y(this,Ef,t.focusNode),y(this,Cf,t.focusOffset),w(this,vt,Xm).call(this),w(this,vt,Gl).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=fe.prototype;return st(this,"_keyboardManager",new Qc([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:l(this,fi)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:l(this,Rn),methodOfCreation:l(this,cd)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,i){var n;pt.initialize(t,i),fe._defaultColor||(fe._defaultColor=((n=i.highlightColors)==null?void 0:n.values().next().value)||"#fff066")}static updateDefaultParams(t,i){switch(t){case K.HIGHLIGHT_DEFAULT_COLOR:fe._defaultColor=i;break;case K.HIGHLIGHT_THICKNESS:fe._defaultThickness=i;break}}translateInPage(t,i){}get toolbarPosition(){return l(this,bc)}updateParams(t,i){switch(t){case K.HIGHLIGHT_COLOR:w(this,vt,Fk).call(this,i);break;case K.HIGHLIGHT_THICKNESS:w(this,vt,Ok).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[K.HIGHLIGHT_DEFAULT_COLOR,fe._defaultColor],[K.HIGHLIGHT_THICKNESS,fe._defaultThickness]]}get propertiesToUpdate(){return[[K.HIGHLIGHT_COLOR,this.color||fe._defaultColor],[K.HIGHLIGHT_THICKNESS,l(this,Rn)||fe._defaultThickness],[K.HIGHLIGHT_FREE,l(this,fi)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(y(this,vc,new Dk({editor:this})),t.addColorPicker(l(this,vc))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(w(this,vt,yc).call(this))}getBaseTranslation(){return[0,0]}getRect(t,i){return super.getRect(t,i,w(this,vt,yc).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){w(this,vt,Qm).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(w(this,vt,Gl).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let n=!1;this.parent&&!t?w(this,vt,Qm).call(this):t&&(w(this,vt,Gl).call(this,t),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var i,n,s;const{drawLayer:r}=this.parent;let a;l(this,fi)?(t=(t-this.rotation+360)%360,a=w(i=fe,Pn,mo).call(i,l(this,Vi).box,t)):a=w(n=fe,Pn,mo).call(n,this,t),r.rotate(l(this,Ne),t),r.rotate(l(this,Xt),t),r.updateBox(l(this,Ne),a),r.updateBox(l(this,Xt),w(s=fe,Pn,mo).call(s,l(this,Ei).box,t))}render(){if(this.div)return this.div;const t=super.render();l(this,Vl)&&(t.setAttribute("aria-label",l(this,Vl)),t.setAttribute("role","mark")),l(this,fi)?t.classList.add("free"):this.div.addEventListener("keydown",l(this,Km),{signal:this._uiManager._signal});const i=y(this,go,document.createElement("div"));t.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=l(this,Qa);const[n,s]=this.parentDimensions;return this.setDims(this.width*n,this.height*s),Zd(this,l(this,go),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(l(this,Xt),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(l(this,Xt),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:w(this,vt,ud).call(this,!0);break;case 1:case 3:w(this,vt,ud).call(this,!1);break}}select(){var t,i;super.select(),l(this,Xt)&&((t=this.parent)==null||t.drawLayer.removeClass(l(this,Xt),"hovered"),(i=this.parent)==null||i.drawLayer.addClass(l(this,Xt),"selected"))}unselect(){var t;super.unselect(),l(this,Xt)&&((t=this.parent)==null||t.drawLayer.removeClass(l(this,Xt),"selected"),l(this,fi)||w(this,vt,ud).call(this,!1))}get _mustFixPosition(){return!l(this,fi)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(l(this,Ne),t),this.parent.drawLayer.show(l(this,Xt),t))}static startHighlighting(t,i,{target:n,x:s,y:r}){const{x:a,y:o,width:c,height:u}=n.getBoundingClientRect(),h=b=>{w(this,Pn,Bk).call(this,t,b)},d=t._signal,f={capture:!0,passive:!1,signal:d},p=b=>{b.preventDefault(),b.stopPropagation()},g=b=>{n.removeEventListener("pointermove",h),window.removeEventListener("blur",g),window.removeEventListener("pointerup",g),window.removeEventListener("pointerdown",p,f),window.removeEventListener("contextmenu",$e),w(this,Pn,Hk).call(this,t,b)};window.addEventListener("blur",g,{signal:d}),window.addEventListener("pointerup",g,{signal:d}),window.addEventListener("pointerdown",p,f),window.addEventListener("contextmenu",$e,{signal:d}),n.addEventListener("pointermove",h,{signal:d}),this._freeHighlight=new Rk({x:s,y:r},[a,o,c,u],t.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(t,i,n){var s;const r=super.deserialize(t,i,n),{rect:[a,o,c,u],color:h,quadPoints:d}=t;r.color=j.makeHexColor(...h),y(r,Ja,t.opacity);const[f,p]=r.pageDimensions;r.width=(c-a)/f,r.height=(u-o)/p;const g=y(r,Mr,[]);for(let b=0;b<d.length;b+=8)g.push({x:(d[4]-c)/f,y:(u-(1-d[b+5]))/p,width:(d[b+2]-d[b])/f,height:(d[b+5]-d[b+1])/p});return w(s=r,vt,Xm).call(s),r}serialize(t=!1){if(this.isEmpty()||t)return null;const i=this.getRect(0,0),n=pt._colorManager.convert(this.color);return{annotationType:nt.HIGHLIGHT,color:n,opacity:l(this,Ja),thickness:l(this,Rn),quadPoints:w(this,vt,jk).call(this),outlines:w(this,vt,zk).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:w(this,vt,yc).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};mc=new WeakMap,xf=new WeakMap,Mr=new WeakMap,Qa=new WeakMap,vc=new WeakMap,Ei=new WeakMap,Ef=new WeakMap,Cf=new WeakMap,go=new WeakMap,Vi=new WeakMap,Ne=new WeakMap,fi=new WeakMap,Km=new WeakMap,bc=new WeakMap,Ja=new WeakMap,Xt=new WeakMap,Vl=new WeakMap,Rn=new WeakMap,cd=new WeakMap,vt=new WeakSet,Xm=function(){const e=new Bm(l(this,Mr),.001);y(this,Vi,e.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=l(this,Vi).box;const t=new Bm(l(this,Mr),.0025,.001,this._uiManager.direction==="ltr");y(this,Ei,t.getOutlines());const{lastPoint:i}=l(this,Ei).box;y(this,bc,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},Ym=function({highlightOutlines:e,highlightId:t,clipPathId:i}){var n,s;if(y(this,Vi,e),y(this,Ei,e.getNewOutline(l(this,Rn)/2+1.5,.0025)),t>=0)y(this,Ne,t),y(this,Qa,i),this.parent.drawLayer.finalizeLine(t,e),y(this,Xt,this.parent.drawLayer.highlightOutline(l(this,Ei)));else if(this.parent){const h=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(l(this,Ne),e),this.parent.drawLayer.updateBox(l(this,Ne),w(n=Ie,Pn,mo).call(n,l(this,Vi).box,(h-this.rotation+360)%360)),this.parent.drawLayer.updateLine(l(this,Xt),l(this,Ei)),this.parent.drawLayer.updateBox(l(this,Xt),w(s=Ie,Pn,mo).call(s,l(this,Ei).box,h))}const{x:r,y:a,width:o,height:c}=e.box;switch(this.rotation){case 0:this.x=r,this.y=a,this.width=o,this.height=c;break;case 90:{const[h,d]=this.parentDimensions;this.x=a,this.y=1-r,this.width=o*d/h,this.height=c*h/d;break}case 180:this.x=1-r,this.y=1-a,this.width=o,this.height=c;break;case 270:{const[h,d]=this.parentDimensions;this.x=1-a,this.y=r,this.width=o*d/h,this.height=c*h/d;break}}const{lastPoint:u}=l(this,Ei).box;y(this,bc,[(u[0]-r)/o,(u[1]-a)/c])},Fk=function(e){const t=n=>{var s,r;this.color=n,(s=this.parent)==null||s.drawLayer.changeColor(l(this,Ne),n),(r=l(this,vc))==null||r.updateColor(n)},i=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:K.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},Ok=function(e){const t=l(this,Rn),i=n=>{y(this,Rn,n),w(this,vt,py).call(this,n)};this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:K.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},py=function(e){if(!l(this,fi))return;w(this,vt,Ym).call(this,{highlightOutlines:l(this,Vi).getNewOutline(e/2)}),this.fixAndSetPosition();const[t,i]=this.parentDimensions;this.setDims(this.width*t,this.height*i)},Qm=function(){l(this,Ne)===null||!this.parent||(this.parent.drawLayer.remove(l(this,Ne)),y(this,Ne,null),this.parent.drawLayer.remove(l(this,Xt)),y(this,Xt,null))},Gl=function(e=this.parent){l(this,Ne)===null&&({id:bi(this,Ne)._,clipPathId:bi(this,Qa)._}=e.drawLayer.highlight(l(this,Vi),this.color,l(this,Ja)),y(this,Xt,e.drawLayer.highlightOutline(l(this,Ei))),l(this,go)&&(l(this,go).style.clipPath=l(this,Qa)))},Pn=new WeakSet,mo=function({x:e,y:t,width:i,height:n},s){switch(s){case 90:return{x:1-t-n,y:e,width:n,height:i};case 180:return{x:1-e-i,y:1-t-n,width:i,height:n};case 270:return{x:t,y:1-e-i,width:n,height:i}}return{x:e,y:t,width:i,height:n}},Wk=function(e){Ie._keyboardManager.exec(this,e)},ud=function(e){if(!l(this,mc))return;const t=window.getSelection();e?t.setPosition(l(this,mc),l(this,xf)):t.setPosition(l(this,Ef),l(this,Cf))},yc=function(){return l(this,fi)?this.rotation:0},jk=function(){if(l(this,fi))return null;const[e,t]=this.pageDimensions,i=l(this,Mr),n=new Float32Array(i.length*8);let s=0;for(const{x:r,y:a,width:o,height:c}of i){const u=r*e,h=(1-a-c)*t;n[s]=n[s+4]=u,n[s+1]=n[s+3]=h,n[s+2]=n[s+6]=u+o*e,n[s+5]=n[s+7]=h+c*t,s+=8}return n},zk=function(e){return l(this,Vi).serialize(e,w(this,vt,yc).call(this))},Bk=function(e,t){this._freeHighlight.add(t)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},Hk=function(e,t){this._freeHighlight.isEmpty()?e.drawLayer.removeFreeHighlight(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},k(Ie,Pn),X(Ie,"_defaultColor",null),X(Ie,"_defaultOpacity",1),X(Ie,"_defaultThickness",12),X(Ie,"_l10nPromise"),X(Ie,"_type","highlight"),X(Ie,"_editorType",nt.HIGHLIGHT),X(Ie,"_freeHighlightId",-1),X(Ie,"_freeHighlight",null),X(Ie,"_freeHighlightClipId","");let gy=Ie;var Za,to,hd,dd,fd,vo,Ln,ts,Ti,Ca,eo,ws,io,no,ur,V,$k,Uk,Vk,Gk,Yp,qk,Jm,my,vy,by,yy,wy,yr,Zm,Mf,Tf,bo,tv,Ou,so,Kk,Qp,Xk,Yk,ev,Wu,wc;const ai=class Si extends pt{constructor(t){super({...t,name:"inkEditor"}),k(this,V),k(this,Za,0),k(this,to,0),k(this,hd,this.canvasPointermove.bind(this)),k(this,dd,this.canvasPointerleave.bind(this)),k(this,fd,this.canvasPointerup.bind(this)),k(this,vo,this.canvasPointerdown.bind(this)),k(this,Ln,null),k(this,ts,new Path2D),k(this,Ti,!1),k(this,Ca,!1),k(this,eo,!1),k(this,ws,null),k(this,io,0),k(this,no,0),k(this,ur,null),this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,i){pt.initialize(t,i)}static updateDefaultParams(t,i){switch(t){case K.INK_THICKNESS:Si._defaultThickness=i;break;case K.INK_COLOR:Si._defaultColor=i;break;case K.INK_OPACITY:Si._defaultOpacity=i/100;break}}updateParams(t,i){switch(t){case K.INK_THICKNESS:w(this,V,$k).call(this,i);break;case K.INK_COLOR:w(this,V,Uk).call(this,i);break;case K.INK_OPACITY:w(this,V,Vk).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[K.INK_THICKNESS,Si._defaultThickness],[K.INK_COLOR,Si._defaultColor||pt._defaultLineColor],[K.INK_OPACITY,Math.round(Si._defaultOpacity*100)]]}get propertiesToUpdate(){return[[K.INK_THICKNESS,this.thickness||Si._defaultThickness],[K.INK_COLOR,this.color||Si._defaultColor||pt._defaultLineColor],[K.INK_OPACITY,Math.round(100*(this.opacity??Si._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(w(this,V,Mf).call(this),w(this,V,Tf).call(this)),this.isAttachedToDOM||(this.parent.add(this),w(this,V,bo).call(this)),w(this,V,wc).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,l(this,Ln)&&(clearTimeout(l(this,Ln)),y(this,Ln,null)),(t=l(this,ws))==null||t.disconnect(),y(this,ws,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,i]=this.parentDimensions,n=this.width*t,s=this.height*i;this.setDimensions(n,s)}enableEditMode(){l(this,Ti)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",l(this,vo),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",l(this,vo)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){l(this,Ti)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),y(this,Ti,!0),this.div.classList.add("disabled"),w(this,V,wc).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||l(this,Ti)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),w(this,V,qk).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),w(this,V,Jm).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),w(this,V,Zm).call(this,t)}canvasPointerleave(t){w(this,V,Zm).call(this,t)}get isResizable(){return!this.isEmpty()&&l(this,Ti)}render(){if(this.div)return this.div;let t,i;this.width&&(t=this.x,i=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[n,s,r,a]=w(this,V,Gk).call(this);if(this.setAt(n,s,0,0),this.setDims(r,a),w(this,V,Mf).call(this),this.width){const[o,c]=this.parentDimensions;this.setAspectRatio(this.width*o,this.height*c),this.setAt(t*o,i*c,this.width*o,this.height*c),y(this,eo,!0),w(this,V,bo).call(this),this.setDims(this.width*o,this.height*c),w(this,V,yr).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return w(this,V,Tf).call(this),this.div}setDimensions(t,i){const n=Math.round(t),s=Math.round(i);if(l(this,io)===n&&l(this,no)===s)return;y(this,io,n),y(this,no,s),this.canvas.style.visibility="hidden";const[r,a]=this.parentDimensions;this.width=t/r,this.height=i/a,this.fixAndSetPosition(),l(this,Ti)&&w(this,V,tv).call(this,t,i),w(this,V,bo).call(this),w(this,V,yr).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(t,i,n){var s,r,a;if(t instanceof yk)return null;const o=super.deserialize(t,i,n);o.thickness=t.thickness,o.color=j.makeHexColor(...t.color),o.opacity=t.opacity;const[c,u]=o.pageDimensions,h=o.width*c,d=o.height*u,f=o.parentScale,p=t.thickness/2;y(o,Ti,!0),y(o,io,Math.round(h)),y(o,no,Math.round(d));const{paths:g,rect:b,rotation:_}=t;for(let{bezier:m}of g){m=w(s=Si,so,Xk).call(s,m,b,_);const A=[];o.paths.push(A);let S=f*(m[0]-p),x=f*(m[1]-p);for(let T=2,M=m.length;T<M;T+=6){const I=f*(m[T]-p),P=f*(m[T+1]-p),O=f*(m[T+2]-p),Y=f*(m[T+3]-p),B=f*(m[T+4]-p),ut=f*(m[T+5]-p);A.push([[S,x],[I,P],[O,Y],[B,ut]]),S=B,x=ut}const C=w(this,so,Kk).call(this,A);o.bezierPath2D.push(C)}const v=w(r=o,V,ev).call(r);return y(o,to,Math.max(pt.MIN_SIZE,v[2]-v[0])),y(o,Za,Math.max(pt.MIN_SIZE,v[3]-v[1])),w(a=o,V,tv).call(a,h,d),o}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),i=pt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:nt.INK,color:i,thickness:this.thickness,opacity:this.opacity,paths:w(this,V,Yk).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Za=new WeakMap,to=new WeakMap,hd=new WeakMap,dd=new WeakMap,fd=new WeakMap,vo=new WeakMap,Ln=new WeakMap,ts=new WeakMap,Ti=new WeakMap,Ca=new WeakMap,eo=new WeakMap,ws=new WeakMap,io=new WeakMap,no=new WeakMap,ur=new WeakMap,V=new WeakSet,$k=function(e){const t=n=>{this.thickness=n,w(this,V,wc).call(this)},i=this.thickness;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:K.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Uk=function(e){const t=n=>{this.color=n,w(this,V,yr).call(this)},i=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:K.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Vk=function(e){const t=n=>{this.opacity=n,w(this,V,yr).call(this)};e/=100;const i=this.opacity;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:K.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Gk=function(){const{parentRotation:e,parentDimensions:[t,i]}=this;switch(e){case 90:return[0,i,i,t];case 180:return[t,i,t,i];case 270:return[t,0,i,t];default:return[0,0,t,i]}},Yp=function(){const{ctx:e,color:t,opacity:i,thickness:n,parentScale:s,scaleFactor:r}=this;e.lineWidth=n*s/r,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${t}${KC(i)}`},qk=function(e,t){const i=this._uiManager._signal;this.canvas.addEventListener("contextmenu",$e,{signal:i}),this.canvas.addEventListener("pointerleave",l(this,dd),{signal:i}),this.canvas.addEventListener("pointermove",l(this,hd),{signal:i}),this.canvas.addEventListener("pointerup",l(this,fd),{signal:i}),this.canvas.removeEventListener("pointerdown",l(this,vo)),this.isEditing=!0,l(this,eo)||(y(this,eo,!0),w(this,V,bo).call(this),this.thickness||(this.thickness=ai._defaultThickness),this.color||(this.color=ai._defaultColor||pt._defaultLineColor),this.opacity??(this.opacity=ai._defaultOpacity)),this.currentPath.push([e,t]),y(this,Ca,!1),w(this,V,Yp).call(this),y(this,ur,()=>{w(this,V,by).call(this),l(this,ur)&&window.requestAnimationFrame(l(this,ur))}),window.requestAnimationFrame(l(this,ur))},Jm=function(e,t){const[i,n]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===i&&t===n)return;const s=this.currentPath;let r=l(this,ts);if(s.push([e,t]),y(this,Ca,!0),s.length<=2){r.moveTo(...s[0]),r.lineTo(e,t);return}s.length===3&&(y(this,ts,r=new Path2D),r.moveTo(...s[0])),w(this,V,yy).call(this,r,...s.at(-3),...s.at(-2),e,t)},my=function(){if(this.currentPath.length===0)return;const e=this.currentPath.at(-1);l(this,ts).lineTo(...e)},vy=function(e,t){y(this,ur,null),e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height),w(this,V,Jm).call(this,e,t),w(this,V,my).call(this);let i;if(this.currentPath.length!==1)i=w(this,V,wy).call(this);else{const o=[e,t];i=[[o,o.slice(),o.slice(),o]]}const n=l(this,ts),s=this.currentPath;this.currentPath=[],y(this,ts,new Path2D);const r=()=>{this.allRawPaths.push(s),this.paths.push(i),this.bezierPath2D.push(n),this._uiManager.rebuild(this)},a=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(w(this,V,Mf).call(this),w(this,V,Tf).call(this)),w(this,V,wc).call(this))};this.addCommands({cmd:r,undo:a,mustExec:!0})},by=function(){if(!l(this,Ca))return;y(this,Ca,!1);const e=Math.ceil(this.thickness*this.parentScale),t=this.currentPath.slice(-3),i=t.map(r=>r[0]),n=t.map(r=>r[1]);Math.min(...i)-e,Math.max(...i)+e,Math.min(...n)-e,Math.max(...n)+e;const{ctx:s}=this;s.save(),s.clearRect(0,0,this.canvas.width,this.canvas.height);for(const r of this.bezierPath2D)s.stroke(r);s.stroke(l(this,ts)),s.restore()},yy=function(e,t,i,n,s,r,a){const o=(t+n)/2,c=(i+s)/2,u=(n+r)/2,h=(s+a)/2;e.bezierCurveTo(o+2*(n-o)/3,c+2*(s-c)/3,u+2*(n-u)/3,h+2*(s-h)/3,u,h)},wy=function(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const t=[];let i,[n,s]=e[0];for(i=1;i<e.length-2;i++){const[d,f]=e[i],[p,g]=e[i+1],b=(d+p)/2,_=(f+g)/2,v=[n+2*(d-n)/3,s+2*(f-s)/3],m=[b+2*(d-b)/3,_+2*(f-_)/3];t.push([[n,s],v,m,[b,_]]),[n,s]=[b,_]}const[r,a]=e[i],[o,c]=e[i+1],u=[n+2*(r-n)/3,s+2*(a-s)/3],h=[o+2*(r-o)/3,c+2*(a-c)/3];return t.push([[n,s],u,h,[o,c]]),t},yr=function(){if(this.isEmpty()){w(this,V,Ou).call(this);return}w(this,V,Yp).call(this);const{canvas:e,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),w(this,V,Ou).call(this);for(const i of this.bezierPath2D)t.stroke(i)},Zm=function(e){this.canvas.removeEventListener("pointerleave",l(this,dd)),this.canvas.removeEventListener("pointermove",l(this,hd)),this.canvas.removeEventListener("pointerup",l(this,fd)),this.canvas.addEventListener("pointerdown",l(this,vo),{signal:this._uiManager._signal}),l(this,Ln)&&clearTimeout(l(this,Ln)),y(this,Ln,setTimeout(()=>{y(this,Ln,null),this.canvas.removeEventListener("contextmenu",$e)},10)),w(this,V,vy).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Mf=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Tf=function(){y(this,ws,new ResizeObserver(e=>{const t=e[0].contentRect;t.width&&t.height&&this.setDimensions(t.width,t.height)})),l(this,ws).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=l(this,ws))==null||e.disconnect(),y(this,ws,null)},{once:!0})},bo=function(){if(!l(this,eo))return;const[e,t]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*t),w(this,V,Ou).call(this)},tv=function(e,t){const i=w(this,V,Wu).call(this),n=(e-i)/l(this,to),s=(t-i)/l(this,Za);this.scaleFactor=Math.min(n,s)},Ou=function(){const e=w(this,V,Wu).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)},so=new WeakSet,Kk=function(e){const t=new Path2D;for(let i=0,n=e.length;i<n;i++){const[s,r,a,o]=e[i];i===0&&t.moveTo(...s),t.bezierCurveTo(r[0],r[1],a[0],a[1],o[0],o[1])}return t},Qp=function(e,t,i){const[n,s,r,a]=t;switch(i){case 0:for(let o=0,c=e.length;o<c;o+=2)e[o]+=n,e[o+1]=a-e[o+1];break;case 90:for(let o=0,c=e.length;o<c;o+=2){const u=e[o];e[o]=e[o+1]+n,e[o+1]=u+s}break;case 180:for(let o=0,c=e.length;o<c;o+=2)e[o]=r-e[o],e[o+1]+=s;break;case 270:for(let o=0,c=e.length;o<c;o+=2){const u=e[o];e[o]=r-e[o+1],e[o+1]=a-u}break;default:throw new Error("Invalid rotation")}return e},Xk=function(e,t,i){const[n,s,r,a]=t;switch(i){case 0:for(let o=0,c=e.length;o<c;o+=2)e[o]-=n,e[o+1]=a-e[o+1];break;case 90:for(let o=0,c=e.length;o<c;o+=2){const u=e[o];e[o]=e[o+1]-s,e[o+1]=u-n}break;case 180:for(let o=0,c=e.length;o<c;o+=2)e[o]=r-e[o],e[o+1]-=s;break;case 270:for(let o=0,c=e.length;o<c;o+=2){const u=e[o];e[o]=a-e[o+1],e[o+1]=r-u}break;default:throw new Error("Invalid rotation")}return e},Yk=function(e,t,i,n){var s,r;const a=[],o=this.thickness/2,c=e*t+o,u=e*i+o;for(const h of this.paths){const d=[],f=[];for(let p=0,g=h.length;p<g;p++){const[b,_,v,m]=h[p];if(b[0]===m[0]&&b[1]===m[1]&&g===1){const O=e*b[0]+c,Y=e*b[1]+u;d.push(O,Y),f.push(O,Y);break}const A=e*b[0]+c,S=e*b[1]+u,x=e*_[0]+c,C=e*_[1]+u,T=e*v[0]+c,M=e*v[1]+u,I=e*m[0]+c,P=e*m[1]+u;p===0&&(d.push(A,S),f.push(A,S)),d.push(x,C,T,M,I,P),f.push(x,C),p===g-1&&f.push(I,P)}a.push({bezier:w(s=ai,so,Qp).call(s,d,n,this.rotation),points:w(r=ai,so,Qp).call(r,f,n,this.rotation)})}return a},ev=function(){let e=1/0,t=-1/0,i=1/0,n=-1/0;for(const s of this.paths)for(const[r,a,o,c]of s){const u=j.bezierBoundingBox(...r,...a,...o,...c);e=Math.min(e,u[0]),i=Math.min(i,u[1]),t=Math.max(t,u[2]),n=Math.max(n,u[3])}return[e,i,t,n]},Wu=function(){return l(this,Ti)?Math.ceil(this.thickness*this.parentScale):0},wc=function(e=!1){if(this.isEmpty())return;if(!l(this,Ti)){w(this,V,yr).call(this);return}const t=w(this,V,ev).call(this),i=w(this,V,Wu).call(this);y(this,to,Math.max(pt.MIN_SIZE,t[2]-t[0])),y(this,Za,Math.max(pt.MIN_SIZE,t[3]-t[1]));const n=Math.ceil(i+l(this,to)*this.scaleFactor),s=Math.ceil(i+l(this,Za)*this.scaleFactor),[r,a]=this.parentDimensions;this.width=n/r,this.height=s/a,this.setAspectRatio(n,s);const o=this.translationX,c=this.translationY;this.translationX=-t[0],this.translationY=-t[1],w(this,V,bo).call(this),w(this,V,yr).call(this),y(this,io,n),y(this,no,s),this.setDims(n,s);const u=e?i/this.scaleFactor/2:0;this.translate(o-this.translationX-u,c-this.translationY-u)},k(ai,so),X(ai,"_defaultColor",null),X(ai,"_defaultOpacity",1),X(ai,"_defaultThickness",1),X(ai,"_type","ink"),X(ai,"_editorType",nt.INK);let IT=ai;var ge,me,wr,Es,Tr,ql,In,As,Nn,nn,pd,St,el,il,gd,iv,Ay,ky,Jp,md,_y;const vd=class extends pt{constructor(t){super({...t,name:"stampEditor"}),k(this,St),k(this,ge,null),k(this,me,null),k(this,wr,null),k(this,Es,null),k(this,Tr,null),k(this,ql,""),k(this,In,null),k(this,As,null),k(this,Nn,null),k(this,nn,!1),k(this,pd,!1),y(this,Es,t.bitmapUrl),y(this,Tr,t.bitmapFile)}static initialize(t,i){pt.initialize(t,i)}static get supportedTypes(){return st(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(t=>`image/${t}`))}static get supportedTypesStr(){return st(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,i){i.pasteEditor(nt.STAMP,{bitmapFile:t.getAsFile()})}remove(){var t,i;l(this,me)&&(y(this,ge,null),this._uiManager.imageManager.deleteId(l(this,me)),(t=l(this,In))==null||t.remove(),y(this,In,null),(i=l(this,As))==null||i.disconnect(),y(this,As,null),l(this,Nn)&&(clearTimeout(l(this,Nn)),y(this,Nn,null))),super.remove()}rebuild(){if(!this.parent){l(this,me)&&w(this,St,gd).call(this);return}super.rebuild(),this.div!==null&&(l(this,me)&&l(this,In)===null&&w(this,St,gd).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(l(this,wr)||l(this,ge)||l(this,Es)||l(this,Tr)||l(this,me))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,i;if(this.width&&(t=this.x,i=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),l(this,ge)?w(this,St,iv).call(this):w(this,St,gd).call(this),this.width){const[n,s]=this.parentDimensions;this.setAt(t*n,i*s,this.width*n,this.height*s)}return this.div}getImageForAltText(){return l(this,In)}static deserialize(t,i,n){if(t instanceof wk)return null;const s=super.deserialize(t,i,n),{rect:r,bitmapUrl:a,bitmapId:o,isSvg:c,accessibilityData:u}=t;o&&n.imageManager.isValidId(o)?y(s,me,o):y(s,Es,a),y(s,nn,c);const[h,d]=s.pageDimensions;return s.width=(r[2]-r[0])/h,s.height=(r[3]-r[1])/d,u&&(s.altTextData=u),s}serialize(t=!1,i=null){if(this.isEmpty())return null;const n={annotationType:nt.STAMP,bitmapId:l(this,me),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:l(this,nn),structTreeParentId:this._structTreeParentId};if(t)return n.bitmapUrl=w(this,St,md).call(this,!0),n.accessibilityData=this.altTextData,n;const{decorative:s,altText:r}=this.altTextData;if(!s&&r&&(n.accessibilityData={type:"Figure",alt:r}),i===null)return n;i.stamps||(i.stamps=new Map);const a=l(this,nn)?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!i.stamps.has(l(this,me)))i.stamps.set(l(this,me),{area:a,serialized:n}),n.bitmap=w(this,St,md).call(this,!1);else if(l(this,nn)){const o=i.stamps.get(l(this,me));a>o.area&&(o.area=a,o.serialized.bitmap.close(),o.serialized.bitmap=w(this,St,md).call(this,!1))}return n}};ge=new WeakMap,me=new WeakMap,wr=new WeakMap,Es=new WeakMap,Tr=new WeakMap,ql=new WeakMap,In=new WeakMap,As=new WeakMap,Nn=new WeakMap,nn=new WeakMap,pd=new WeakMap,St=new WeakSet,el=function(e,t=!1){if(!e){this.remove();return}y(this,ge,e.bitmap),t||(y(this,me,e.id),y(this,nn,e.isSvg)),e.file&&y(this,ql,e.file.name),w(this,St,iv).call(this)},il=function(){y(this,wr,null),this._uiManager.enableWaiting(!1),l(this,In)&&this.div.focus()},gd=function(){if(l(this,me)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(l(this,me)).then(i=>w(this,St,el).call(this,i,!0)).finally(()=>w(this,St,il).call(this));return}if(l(this,Es)){const i=l(this,Es);y(this,Es,null),this._uiManager.enableWaiting(!0),y(this,wr,this._uiManager.imageManager.getFromUrl(i).then(n=>w(this,St,el).call(this,n)).finally(()=>w(this,St,il).call(this)));return}if(l(this,Tr)){const i=l(this,Tr);y(this,Tr,null),this._uiManager.enableWaiting(!0),y(this,wr,this._uiManager.imageManager.getFromFile(i).then(n=>w(this,St,el).call(this,n)).finally(()=>w(this,St,il).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=vd.supportedTypesStr;const t=this._uiManager._signal;y(this,wr,new Promise(i=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const n=await this._uiManager.imageManager.getFromFile(e.files[0]);w(this,St,el).call(this,n)}i()},{signal:t}),e.addEventListener("cancel",()=>{this.remove(),i()},{signal:t})}).finally(()=>w(this,St,il).call(this))),e.click()},iv=function(){const{div:e}=this;let{width:t,height:i}=l(this,ge);const[n,s]=this.pageDimensions,r=.75;if(this.width)t=this.width*n,i=this.height*s;else if(t>r*n||i>r*s){const u=Math.min(r*n/t,r*s/i);t*=u,i*=u}const[a,o]=this.parentDimensions;this.setDims(t*a/n,i*o/s),this._uiManager.enableWaiting(!1);const c=y(this,In,document.createElement("canvas"));e.append(c),e.hidden=!1,w(this,St,Jp).call(this,t,i),w(this,St,_y).call(this),l(this,pd)||(this.parent.addUndoableEditor(this),y(this,pd,!0)),this._reportTelemetry({action:"inserted_image"}),l(this,ql)&&c.setAttribute("aria-label",l(this,ql))},Ay=function(e,t){var i;const[n,s]=this.parentDimensions;this.width=e/n,this.height=t/s,this.setDims(e,t),(i=this._initialOptions)!=null&&i.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,l(this,Nn)!==null&&clearTimeout(l(this,Nn)),y(this,Nn,setTimeout(()=>{y(this,Nn,null),w(this,St,Jp).call(this,e,t)},200))},ky=function(e,t){const{width:i,height:n}=l(this,ge);let s=i,r=n,a=l(this,ge);for(;s>2*e||r>2*t;){const o=s,c=r;s>2*e&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),r>2*t&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2));const u=new OffscreenCanvas(s,r);u.getContext("2d").drawImage(a,0,0,o,c,0,0,s,r),a=u.transferToImageBitmap()}return a},Jp=function(e,t){e=Math.ceil(e),t=Math.ceil(t);const i=l(this,In);if(!i||i.width===e&&i.height===t)return;i.width=e,i.height=t;const n=l(this,nn)?l(this,ge):w(this,St,ky).call(this,e,t);if(this._uiManager.hasMLManager&&!this.hasAltText()){const r=new OffscreenCanvas(e,t).getContext("2d");r.drawImage(n,0,0,n.width,n.height,0,0,e,t),this._uiManager.mlGuess({service:"image-to-text",request:{data:r.getImageData(0,0,e,t).data,width:e,height:t,channels:4}}).then(a=>{const o=(a==null?void 0:a.output)||"";this.parent&&o&&!this.hasAltText()&&(this.altTextData={altText:o,decorative:!1})})}const s=i.getContext("2d");s.filter=this._uiManager.hcmFilter,s.drawImage(n,0,0,n.width,n.height,0,0,e,t)},md=function(e){if(e){if(l(this,nn)){const i=this._uiManager.imageManager.getSvgUrl(l(this,me));if(i)return i}const t=document.createElement("canvas");return{width:t.width,height:t.height}=l(this,ge),t.getContext("2d").drawImage(l(this,ge),0,0),t.toDataURL()}if(l(this,nn)){const[t,i]=this.pageDimensions,n=Math.round(this.width*t*To.PDF_TO_CSS_UNITS),s=Math.round(this.height*i*To.PDF_TO_CSS_UNITS),r=new OffscreenCanvas(n,s);return r.getContext("2d").drawImage(l(this,ge),0,0,l(this,ge).width,l(this,ge).height,0,0,n,s),r.transferToImageBitmap()}return structuredClone(l(this,ge))},_y=function(){this._uiManager._signal&&(y(this,As,new ResizeObserver(e=>{const t=e[0].contentRect;t.width&&t.height&&w(this,St,Ay).call(this,t.width,t.height)})),l(this,As).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=l(this,As))==null||e.disconnect(),y(this,As,null)},{once:!0}))},X(vd,"_type","stamp"),X(vd,"_editorType",nt.STAMP);let NT=vd;var Ma,Kl,_n,Ta,es,is,ns,oi,hr,Ac,Xl,Fe,z,Rr,li,Qk,nv,sv,rv,bd;const yd=class dr{constructor({uiManager:t,pageIndex:i,div:n,accessibilityManager:s,annotationLayer:r,drawLayer:a,textLayer:o,viewport:c,l10n:u}){k(this,li),k(this,Ma),k(this,Kl,!1),k(this,_n,null),k(this,Ta,null),k(this,es,null),k(this,is,null),k(this,ns,null),k(this,oi,new Map),k(this,hr,!1),k(this,Ac,!1),k(this,Xl,!1),k(this,Fe,null),k(this,z);const h=[...l(dr,Rr).values()];if(!dr._initialized){dr._initialized=!0;for(const d of h)d.initialize(u,t)}t.registerEditorTypes(h),y(this,z,t),this.pageIndex=i,this.div=n,y(this,Ma,s),y(this,_n,r),this.viewport=c,y(this,Fe,o),this.drawLayer=a,l(this,z).addLayer(this)}get isEmpty(){return l(this,oi).size===0}get isInvisible(){return this.isEmpty&&l(this,z).getMode()===nt.NONE}updateToolbar(t){l(this,z).updateToolbar(t)}updateMode(t=l(this,z).getMode()){switch(w(this,li,bd).call(this),t){case nt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case nt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case nt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:i}=this.div;for(const n of l(dr,Rr).values())i.toggle(`${n._type}Editing`,t===n._editorType);this.div.hidden=!1}hasTextLayer(t){var i;return t===((i=l(this,Fe))==null?void 0:i.div)}addInkEditorIfNeeded(t){if(l(this,z).getMode()===nt.INK){if(!t){for(const i of l(this,oi).values())if(i.isEmpty()){i.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}}setEditingState(t){l(this,z).setEditingState(t)}addCommands(t){l(this,z).addCommands(t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var i;(i=l(this,_n))==null||i.div.classList.toggle("disabled",!t)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const n of l(this,oi).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(l(this,z).removeChangedExistingAnnotation(n),t.add(n.annotationElementId));if(!l(this,_n))return;const i=l(this,_n).getEditableAnnotations();for(const n of i){if(n.hide(),l(this,z).isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const s=this.deserialize(n);s&&(this.addOrRebuild(s),s.enableEditing())}}disable(){var t;y(this,Xl,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const i=new Map,n=new Map;for(const r of l(this,oi).values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){i.set(r.annotationElementId,r);continue}else n.set(r.annotationElementId,r);(t=this.getEditableAnnotation(r.annotationElementId))==null||t.show(),r.remove()}if(l(this,_n)){const r=l(this,_n).getEditableAnnotations();for(const a of r){const{id:o}=a.data;if(l(this,z).isDeletedAnnotationElement(o))continue;let c=n.get(o);if(c){c.resetAnnotationElement(a),c.show(!1),a.show();continue}c=i.get(o),c&&(l(this,z).addChangedExistingAnnotation(c),c.renderAnnotationElement(a),c.show(!1)),a.show()}}w(this,li,bd).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const r of l(dr,Rr).values())s.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),y(this,Xl,!1)}getEditableAnnotation(t){var i;return((i=l(this,_n))==null?void 0:i.getEditableAnnotation(t))||null}setActiveEditor(t){l(this,z).getActive()!==t&&l(this,z).setActiveEditor(t)}enableTextSelection(){var t;this.div.tabIndex=-1,(t=l(this,Fe))!=null&&t.div&&!l(this,is)&&(y(this,is,w(this,li,Qk).bind(this)),l(this,Fe).div.addEventListener("pointerdown",l(this,is),{signal:l(this,z)._signal}),l(this,Fe).div.classList.add("highlighting"))}disableTextSelection(){var t;this.div.tabIndex=0,(t=l(this,Fe))!=null&&t.div&&l(this,is)&&(l(this,Fe).div.removeEventListener("pointerdown",l(this,is)),y(this,is,null),l(this,Fe).div.classList.remove("highlighting"))}enableClick(){if(l(this,es))return;const t=l(this,z)._signal;y(this,es,this.pointerdown.bind(this)),y(this,Ta,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",l(this,es),{signal:t}),this.div.addEventListener("pointerup",l(this,Ta),{signal:t})}disableClick(){l(this,es)&&(this.div.removeEventListener("pointerdown",l(this,es)),this.div.removeEventListener("pointerup",l(this,Ta)),y(this,es,null),y(this,Ta,null))}attach(t){l(this,oi).set(t.id,t);const{annotationElementId:i}=t;i&&l(this,z).isDeletedAnnotationElement(i)&&l(this,z).removeDeletedAnnotationElement(t)}detach(t){var i;l(this,oi).delete(t.id),(i=l(this,Ma))==null||i.removePointerInTextLayer(t.contentDiv),!l(this,Xl)&&t.annotationElementId&&l(this,z).addDeletedAnnotationElement(t)}remove(t){this.detach(t),l(this,z).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,l(this,Ac)||this.addInkEditorIfNeeded(!1)}changeParent(t){var i;t.parent!==this&&(t.parent&&t.annotationElementId&&(l(this,z).addDeletedAnnotationElement(t.annotationElementId),pt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(i=t.parent)==null||i.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),l(this,z).addEditor(t),this.attach(t),!t.isAttachedToDOM){const i=t.render();this.div.append(i),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),l(this,z).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var i;if(!t.isAttachedToDOM)return;const{activeElement:n}=document;t.div.contains(n)&&!l(this,ns)&&(t._focusEventsAllowed=!1,y(this,ns,setTimeout(()=>{y(this,ns,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:l(this,z)._signal}),n.focus())},0))),t._structTreeParentId=(i=l(this,Ma))==null?void 0:i.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const i=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:i,undo:n,mustExec:!1})}getNextId(){return l(this,z).getId()}get _signal(){return l(this,z)._signal}canCreateNewEmptyEditor(){var t;return(t=l(this,li,nv))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,i){l(this,z).updateToolbar(t),l(this,z).updateMode(t);const{offsetX:n,offsetY:s}=w(this,li,rv).call(this),r=this.getNextId(),a=w(this,li,sv).call(this,{parent:this,id:r,x:n,y:s,uiManager:l(this,z),isCentered:!0,...i});a&&this.add(a)}deserialize(t){var i;return((i=l(dr,Rr).get(t.annotationType??t.annotationEditorType))==null?void 0:i.deserialize(t,this,l(this,z)))||null}createAndAddNewEditor(t,i,n={}){const s=this.getNextId(),r=w(this,li,sv).call(this,{parent:this,id:s,x:t.offsetX,y:t.offsetY,uiManager:l(this,z),isCentered:i,...n});return r&&this.add(r),r}addNewEditor(){this.createAndAddNewEditor(w(this,li,rv).call(this),!0)}setSelected(t){l(this,z).setSelected(t)}toggleSelected(t){l(this,z).toggleSelected(t)}isSelected(t){return l(this,z).isSelected(t)}unselect(t){l(this,z).unselect(t)}pointerup(t){const{isMac:i}=Ue.platform;if(!(t.button!==0||t.ctrlKey&&i)&&t.target===this.div&&l(this,hr)){if(y(this,hr,!1),!l(this,Kl)){y(this,Kl,!0);return}if(l(this,z).getMode()===nt.STAMP){l(this,z).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(l(this,z).getMode()===nt.HIGHLIGHT&&this.enableTextSelection(),l(this,hr)){y(this,hr,!1);return}const{isMac:i}=Ue.platform;if(t.button!==0||t.ctrlKey&&i||t.target!==this.div)return;y(this,hr,!0);const n=l(this,z).getActive();y(this,Kl,!n||n.isEmpty())}findNewParent(t,i,n){const s=l(this,z).findParent(i,n);return s===null||s===this?!1:(s.changeParent(t),!0)}destroy(){var t,i;((t=l(this,z).getActive())==null?void 0:t.parent)===this&&(l(this,z).commitOrRemove(),l(this,z).setActiveEditor(null)),l(this,ns)&&(clearTimeout(l(this,ns)),y(this,ns,null));for(const n of l(this,oi).values())(i=l(this,Ma))==null||i.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,l(this,oi).clear(),l(this,z).removeLayer(this)}render({viewport:t}){this.viewport=t,Wr(this.div,t);for(const i of l(this,z).getEditors(this.pageIndex))this.add(i),i.rebuild();this.updateMode()}update({viewport:t}){l(this,z).commitOrRemove(),w(this,li,bd).call(this);const i=this.viewport.rotation,n=t.rotation;if(this.viewport=t,Wr(this.div,{rotation:n}),i!==n)for(const s of l(this,oi).values())s.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:i}=this.viewport.rawDims;return[t,i]}get scale(){return l(this,z).viewParameters.realScale}};Ma=new WeakMap,Kl=new WeakMap,_n=new WeakMap,Ta=new WeakMap,es=new WeakMap,is=new WeakMap,ns=new WeakMap,oi=new WeakMap,hr=new WeakMap,Ac=new WeakMap,Xl=new WeakMap,Fe=new WeakMap,z=new WeakMap,Rr=new WeakMap,li=new WeakSet,Qk=function(e){if(l(this,z).unselectAll(),e.target===l(this,Fe).div){const{isMac:t}=Ue.platform;if(e.button!==0||e.ctrlKey&&t)return;l(this,z).showAllEditors("highlight",!0,!0),l(this,Fe).div.classList.add("free"),gy.startHighlighting(this,l(this,z).direction==="ltr",e),l(this,Fe).div.addEventListener("pointerup",()=>{l(this,Fe).div.classList.remove("free")},{once:!0,signal:l(this,z)._signal}),e.preventDefault()}},nv=function(){return l(yd,Rr).get(l(this,z).getMode())},sv=function(e){const t=l(this,li,nv);return t?new t.prototype.constructor(e):null},rv=function(){const{x:e,y:t,width:i,height:n}=this.div.getBoundingClientRect(),s=Math.max(0,e),r=Math.max(0,t),a=Math.min(window.innerWidth,e+i),o=Math.min(window.innerHeight,t+n),c=(s+a)/2-e,u=(r+o)/2-t,[h,d]=this.viewport.rotation%180===0?[c,u]:[u,c];return{offsetX:h,offsetY:d}},bd=function(){y(this,Ac,!0);for(const e of l(this,oi).values())e.isEmpty()&&e.remove();y(this,Ac,!1)},X(yd,"_initialized",!1),k(yd,Rr,new Map([PT,IT,NT,gy].map(e=>[e._editorType,e])));let DT=yd;var En,wd,Gt,fr,Ad,av,Yl,ov,Jk;const Ra=class xi{constructor({pageIndex:t}){k(this,Yl),k(this,En,null),k(this,wd,0),k(this,Gt,new Map),k(this,fr,new Map),this.pageIndex=t}setParent(t){if(!l(this,En)){y(this,En,t);return}if(l(this,En)!==t){if(l(this,Gt).size>0)for(const i of l(this,Gt).values())i.remove(),t.append(i);y(this,En,t)}}static get _svgFactory(){return st(this,"_svgFactory",new o0)}highlight(t,i,n,s=!1){const r=bi(this,wd)._++,a=w(this,Yl,ov).call(this,t.box);a.classList.add("highlight"),t.free&&a.classList.add("free");const o=xi._svgFactory.createElement("defs");a.append(o);const c=xi._svgFactory.createElement("path");o.append(c);const u=`path_p${this.pageIndex}_${r}`;c.setAttribute("id",u),c.setAttribute("d",t.toSVGPath()),s&&l(this,fr).set(r,c);const h=w(this,Yl,Jk).call(this,o,u),d=xi._svgFactory.createElement("use");return a.append(d),a.setAttribute("fill",i),a.setAttribute("fill-opacity",n),d.setAttribute("href",`#${u}`),l(this,Gt).set(r,a),{id:r,clipPathId:`url(#${h})`}}highlightOutline(t){const i=bi(this,wd)._++,n=w(this,Yl,ov).call(this,t.box);n.classList.add("highlightOutline");const s=xi._svgFactory.createElement("defs");n.append(s);const r=xi._svgFactory.createElement("path");s.append(r);const a=`path_p${this.pageIndex}_${i}`;r.setAttribute("id",a),r.setAttribute("d",t.toSVGPath()),r.setAttribute("vector-effect","non-scaling-stroke");let o;if(t.free){n.classList.add("free");const h=xi._svgFactory.createElement("mask");s.append(h),o=`mask_p${this.pageIndex}_${i}`,h.setAttribute("id",o),h.setAttribute("maskUnits","objectBoundingBox");const d=xi._svgFactory.createElement("rect");h.append(d),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("fill","white");const f=xi._svgFactory.createElement("use");h.append(f),f.setAttribute("href",`#${a}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const c=xi._svgFactory.createElement("use");n.append(c),c.setAttribute("href",`#${a}`),o&&c.setAttribute("mask",`url(#${o})`);const u=c.cloneNode();return n.append(u),c.classList.add("mainOutline"),u.classList.add("secondaryOutline"),l(this,Gt).set(i,n),i}finalizeLine(t,i){const n=l(this,fr).get(t);l(this,fr).delete(t),this.updateBox(t,i.box),n.setAttribute("d",i.toSVGPath())}updateLine(t,i){l(this,Gt).get(t).firstChild.firstChild.setAttribute("d",i.toSVGPath())}removeFreeHighlight(t){this.remove(t),l(this,fr).delete(t)}updatePath(t,i){l(this,fr).get(t).setAttribute("d",i.toSVGPath())}updateBox(t,i){var n;w(n=xi,Ad,av).call(n,l(this,Gt).get(t),i)}show(t,i){l(this,Gt).get(t).classList.toggle("hidden",!i)}rotate(t,i){l(this,Gt).get(t).setAttribute("data-main-rotation",i)}changeColor(t,i){l(this,Gt).get(t).setAttribute("fill",i)}changeOpacity(t,i){l(this,Gt).get(t).setAttribute("fill-opacity",i)}addClass(t,i){l(this,Gt).get(t).classList.add(i)}removeClass(t,i){l(this,Gt).get(t).classList.remove(i)}remove(t){l(this,En)!==null&&(l(this,Gt).get(t).remove(),l(this,Gt).delete(t))}destroy(){y(this,En,null);for(const t of l(this,Gt).values())t.remove();l(this,Gt).clear()}};En=new WeakMap,wd=new WeakMap,Gt=new WeakMap,fr=new WeakMap,Ad=new WeakSet,av=function(e,{x:t=0,y:i=0,width:n=1,height:s=1}={}){const{style:r}=e;r.top=`${100*i}%`,r.left=`${100*t}%`,r.width=`${100*n}%`,r.height=`${100*s}%`},Yl=new WeakSet,ov=function(e){var t;const i=Ra._svgFactory.create(1,1,!0);return l(this,En).append(i),i.setAttribute("aria-hidden",!0),w(t=Ra,Ad,av).call(t,i,e),i},Jk=function(e,t){const i=Ra._svgFactory.createElement("clipPath");e.append(i);const n=`clip_${t}`;i.setAttribute("id",n),i.setAttribute("clipPathUnits","objectBoundingBox");const s=Ra._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),n},k(Ra,Ad);let FT=Ra;var OT=q.AbortException,WT=q.AnnotationEditorLayer,jT=q.AnnotationEditorParamsType,zT=q.AnnotationEditorType,BT=q.AnnotationEditorUIManager,Zk=q.AnnotationLayer,t_=q.AnnotationMode,HT=q.CMapCompressionType,$T=q.ColorPicker,UT=q.DOMSVGFactory,VT=q.DrawLayer,GT=q.FeatureTest,g0=q.GlobalWorkerOptions,qT=q.ImageKind,KT=q.InvalidPDFException,XT=q.MissingPDFException,YT=q.OPS,QT=q.Outliner,JT=q.PDFDataRangeTransport,ZT=q.PDFDateString,tR=q.PDFWorker,eR=q.PasswordResponses,iR=q.PermissionFlag,nR=q.PixelsPerInch,sR=q.RenderingCancelledException,e_=q.TextLayer,rR=q.UnexpectedResponseException,aR=q.Util,oR=q.VerbosityLevel,lR=q.XfaLayer,cR=q.build,uR=q.createValidAbsoluteUrl,hR=q.fetchData,i_=q.getDocument,dR=q.getFilenameFromUrl,fR=q.getPdfFilenameFromUrl,pR=q.getXfaPageViewport,gR=q.isDataScheme,mR=q.isPdfFile,vR=q.noContextMenu,bR=q.normalizeUnicode,yR=q.renderTextLayer,wR=q.setLayerDimensions,AR=q.shadow,kR=q.updateTextLayer,_R=q.version;const SR=Object.freeze(Object.defineProperty({__proto__:null,AbortException:OT,AnnotationEditorLayer:WT,AnnotationEditorParamsType:jT,AnnotationEditorType:zT,AnnotationEditorUIManager:BT,AnnotationLayer:Zk,AnnotationMode:t_,CMapCompressionType:HT,ColorPicker:$T,DOMSVGFactory:UT,DrawLayer:VT,FeatureTest:GT,GlobalWorkerOptions:g0,ImageKind:qT,InvalidPDFException:KT,MissingPDFException:XT,OPS:YT,Outliner:QT,PDFDataRangeTransport:JT,PDFDateString:ZT,PDFWorker:tR,PasswordResponses:eR,PermissionFlag:iR,PixelsPerInch:nR,RenderingCancelledException:sR,TextLayer:e_,UnexpectedResponseException:rR,Util:aR,VerbosityLevel:oR,XfaLayer:lR,build:cR,createValidAbsoluteUrl:uR,fetchData:hR,getDocument:i_,getFilenameFromUrl:dR,getPdfFilenameFromUrl:fR,getXfaPageViewport:pR,isDataScheme:gR,isPdfFile:mR,noContextMenu:vR,normalizeUnicode:bR,renderTextLayer:yR,setLayerDimensions:wR,shadow:AR,updateTextLayer:kR,version:_R},Symbol.toStringTag,{value:"Module"}));var Vt=function(e,t,i){for(var n=0,s=t.length,r;n<s;n++)(r||!(n in t))&&(r||(r=Array.prototype.slice.call(t,0,n)),r[n]=t[n]);return e.concat(r||Array.prototype.slice.call(t))},xR=["onCopy","onCut","onPaste"],ER=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],CR=["onFocus","onBlur"],MR=["onInput","onInvalid","onReset","onSubmit"],TR=["onLoad","onError"],RR=["onKeyDown","onKeyPress","onKeyUp"],PR=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],LR=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],IR=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],NR=["onSelect"],DR=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],FR=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],OR=["onScroll"],WR=["onWheel"],jR=["onAnimationStart","onAnimationEnd","onAnimationIteration"],zR=["onTransitionEnd"],BR=["onToggle"],HR=["onChange"],$R=Vt(Vt(Vt(Vt(Vt(Vt(Vt(Vt(Vt(Vt(Vt(Vt(Vt(Vt(Vt(Vt(Vt(Vt([],xR,!0),ER,!0),CR,!0),MR,!0),TR,!0),RR,!0),PR,!0),LR,!0),IR,!0),NR,!0),DR,!0),FR,!0),OR,!0),WR,!0),jR,!0),zR,!0),HR,!0),BR);function n_(e,t){var i={};return $R.forEach(function(n){var s=e[n];s&&(t?i[n]=function(r){return s(r,t(n))}:i[n]=s)}),i}function tu(e){var t=!1,i=new Promise(function(n,s){e.then(function(r){return!t&&n(r)}).catch(function(r){return!t&&s(r)})});return{promise:i,cancel:function(){t=!0}}}function s_(e){var t,i,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(i=s_(e[t]))&&(n&&(n+=" "),n+=i)}else for(i in e)e[i]&&(n&&(n+=" "),n+=i);return n}function rp(){for(var e,t,i=0,n="",s=arguments.length;i<s;i++)(e=arguments[i])&&(t=s_(e))&&(n&&(n+=" "),n+=t);return n}var UR="Invariant failed";function ft(e,t){if(!e)throw new Error(UR)}var VR=function(){},GR=VR;const we=Ny(GR);var Sy=Object.prototype.hasOwnProperty;function xy(e,t,i){for(i of e.keys())if(yo(i,t))return i}function yo(e,t){var i,n,s;if(e===t)return!0;if(e&&t&&(i=e.constructor)===t.constructor){if(i===Date)return e.getTime()===t.getTime();if(i===RegExp)return e.toString()===t.toString();if(i===Array){if((n=e.length)===t.length)for(;n--&&yo(e[n],t[n]););return n===-1}if(i===Set){if(e.size!==t.size)return!1;for(n of e)if(s=n,s&&typeof s=="object"&&(s=xy(t,s),!s)||!t.has(s))return!1;return!0}if(i===Map){if(e.size!==t.size)return!1;for(n of e)if(s=n[0],s&&typeof s=="object"&&(s=xy(t,s),!s)||!yo(n[1],t.get(s)))return!1;return!0}if(i===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(i===DataView){if((n=e.byteLength)===t.byteLength)for(;n--&&e.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(e)){if((n=e.byteLength)===t.byteLength)for(;n--&&e[n]===t[n];);return n===-1}if(!i||typeof e=="object"){n=0;for(i in e)if(Sy.call(e,i)&&++n&&!Sy.call(t,i)||!(i in t)||!yo(e[i],t[i]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}const r_=R.createContext(null);function wo({children:e,type:t}){return E.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:e})}const qR="noopener noreferrer nofollow";class KR{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return ft(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){ft(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(i=>{ft(this.pdfDocument),ft(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(i):Array.isArray(t)?i(t):t.then(i)}).then(i=>{ft(Array.isArray(i));const n=i[0];new Promise(s=>{ft(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(r=>{s(r)}).catch(()=>{ft(!1)}):typeof n=="number"?s(n):ft(!1)}).then(s=>{const r=s+1;ft(this.pdfViewer),ft(r>=1&&r<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:i,pageIndex:s,pageNumber:r})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const i=t-1;ft(this.pdfViewer),ft(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:i,pageNumber:t})}addLinkAttributes(t,i,n){t.href=i,t.rel=this.externalLinkRel||qR,t.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const Ey={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},ap=typeof document<"u",a_=ap&&window.location.protocol==="file:";function XR(e){return typeof e<"u"}function Xs(e){return XR(e)&&e!==null}function YR(e){return typeof e=="string"}function QR(e){return e instanceof ArrayBuffer}function JR(e){return ft(ap),e instanceof Blob}function lv(e){return YR(e)&&/^data:/.test(e)}function Cy(e){ft(lv(e));const[t="",i=""]=e.split(",");return t.split(";").indexOf("base64")!==-1?atob(i):unescape(i)}function ZR(){return ap&&window.devicePixelRatio||1}const o_="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function My(){we(!a_,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${o_}`)}function t2(){we(!a_,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${o_}`)}function zr(e){e!=null&&e.cancel&&e.cancel()}function cv(e,t){return Object.defineProperty(e,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(e,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(e,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get(){return this.view[3]},configurable:!0}),e}function e2(e){return e.name==="RenderingCancelledException"}function i2(e){return new Promise((t,i)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return i(new Error("Error while reading a file."));t(n.result)},n.onerror=s=>{if(!s.target)return i(new Error("Error while reading a file."));const{error:r}=s.target;if(!r)return i(new Error("Error while reading a file."));switch(r.code){case r.NOT_FOUND_ERR:return i(new Error("Error while reading a file: File not found."));case r.SECURITY_ERR:return i(new Error("Error while reading a file: Security error."));case r.ABORT_ERR:return i(new Error("Error while reading a file: Aborted."));default:return i(new Error("Error while reading a file."))}},n.readAsArrayBuffer(e)})}function n2(e,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return e}}function Ro(){return R.useReducer(n2,{value:void 0,error:void 0})}var s2=function(e,t,i,n){function s(r){return r instanceof i?r:new i(function(a){a(r)})}return new(i||(i=Promise))(function(r,a){function o(h){try{u(n.next(h))}catch(d){a(d)}}function c(h){try{u(n.throw(h))}catch(d){a(d)}}function u(h){h.done?r(h.value):s(h.value).then(o,c)}u((n=n.apply(e,[])).next())})},Ty=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]]);return i};const{PDFDataRangeTransport:r2}=SR,a2=(e,t)=>{switch(t){case Ey.NEED_PASSWORD:{const i=prompt("Enter the password to open this PDF file.");e(i);break}case Ey.INCORRECT_PASSWORD:{const i=prompt("Invalid password. Please try again.");e(i);break}}};function Ry(e){return typeof e=="object"&&e!==null&&("data"in e||"range"in e||"url"in e)}const o2=R.forwardRef(function(e,t){var{children:i,className:n,error:s="Failed to load PDF file.",externalLinkRel:r,externalLinkTarget:a,file:o,inputRef:c,imageResourcesPath:u,loading:h="Loading PDF…",noData:d="No PDF file specified.",onItemClick:f,onLoadError:p,onLoadProgress:g,onLoadSuccess:b,onPassword:_=a2,onSourceError:v,onSourceSuccess:m,options:A,renderMode:S,rotate:x}=e,C=Ty(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[T,M]=Ro(),{value:I,error:P}=T,[O,Y]=Ro(),{value:B,error:ut}=O,tt=R.useRef(new KR),D=R.useRef([]),W=R.useRef(void 0),N=R.useRef(void 0);o&&o!==W.current&&Ry(o)&&(we(!yo(o,W.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),W.current=o),A&&A!==N.current&&(we(!yo(A,N.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),N.current=A);const H=R.useRef({scrollPageIntoView:ae=>{const{dest:wt,pageNumber:Ut,pageIndex:Ve=Ut-1}=ae;if(f){f({dest:wt,pageIndex:Ve,pageNumber:Ut});return}const Pe=D.current[Ve];if(Pe){Pe.scrollIntoView();return}we(!1,`An internal link leading to page ${Ut} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});R.useImperativeHandle(t,()=>({linkService:tt,pages:D,viewer:H}),[]);function G(){m&&m()}function at(){P&&(we(!1,P.toString()),v&&v(P))}function Q(){M({type:"RESET"})}R.useEffect(Q,[o,M]);const ht=R.useCallback(()=>s2(this,void 0,void 0,function*(){if(!o)return null;if(typeof o=="string")return lv(o)?{data:Cy(o)}:(My(),{url:o});if(o instanceof r2)return{range:o};if(QR(o))return{data:o};if(ap&&JR(o))return{data:yield i2(o)};if(ft(typeof o=="object"),ft(Ry(o)),"url"in o&&typeof o.url=="string"){if(lv(o.url)){const{url:ae}=o,wt=Ty(o,["url"]),Ut=Cy(ae);return Object.assign({data:Ut},wt)}My()}return o}),[o]);R.useEffect(()=>{const ae=tu(ht());return ae.promise.then(wt=>{M({type:"RESOLVE",value:wt})}).catch(wt=>{M({type:"REJECT",error:wt})}),()=>{zr(ae)}},[ht,M]),R.useEffect(()=>{if(!(typeof I>"u")){if(I===!1){at();return}G()}},[I]);function Jt(){B&&(b&&b(B),D.current=new Array(B.numPages),tt.current.setDocument(B))}function Zt(){ut&&(we(!1,ut.toString()),p&&p(ut))}R.useEffect(function(){Y({type:"RESET"})},[Y,I]),R.useEffect(function(){if(!I)return;const ae=Object.assign(Object.assign({},I),A),wt=i_(ae);g&&(wt.onProgress=g),_&&(wt.onPassword=_);const Ut=wt;return Ut.promise.then(Ve=>{Y({type:"RESOLVE",value:Ve})}).catch(Ve=>{Ut.destroyed||Y({type:"REJECT",error:Ve})}),()=>{Ut.destroy()}},[A,Y,I]),R.useEffect(()=>{if(!(typeof B>"u")){if(B===!1){Zt();return}Jt()}},[B]),R.useEffect(function(){tt.current.setViewer(H.current),tt.current.setExternalLinkRel(r),tt.current.setExternalLinkTarget(a)},[r,a]);const yt=R.useCallback((ae,wt)=>{D.current[ae]=wt},[]),et=R.useCallback(ae=>{delete D.current[ae]},[]),Kr=R.useMemo(()=>({imageResourcesPath:u,linkService:tt.current,onItemClick:f,pdf:B,registerPage:yt,renderMode:S,rotate:x,unregisterPage:et}),[u,f,B,yt,S,x,et]),on=R.useMemo(()=>n_(C,()=>B),[C,B]);function Rt(){return E.jsx(r_.Provider,{value:Kr,children:i})}function Do(){return o?B==null?E.jsx(wo,{type:"loading",children:typeof h=="function"?h():h}):B===!1?E.jsx(wo,{type:"error",children:typeof s=="function"?s():s}):Rt():E.jsx(wo,{type:"no-data",children:typeof d=="function"?d():d})}return E.jsx("div",Object.assign({className:rp("react-pdf__Document",n),ref:c,style:{"--scale-factor":"1"}},on,{children:Do()}))});function l_(){return R.useContext(r_)}function c_(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=e.filter(Boolean);if(i.length<=1){var n=i[0];return n||null}return function(s){i.forEach(function(r){typeof r=="function"?r(s):r&&(r.current=s)})}}const u_=R.createContext(null),h_={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},l2=/^H(\d+)$/;function c2(e){return e in h_}function op(e){return"children"in e}function d_(e){return op(e)?e.children.length===1&&0 in e.children&&"id"in e.children[0]:!1}function u2(e){const t={};if(op(e)){const{role:i}=e,n=i.match(l2);if(n)t.role="heading",t["aria-level"]=Number(n[1]);else if(c2(i)){const s=h_[i];s&&(t.role=s)}}return t}function f_(e){const t={};if(op(e)){if(e.alt!==void 0&&(t["aria-label"]=e.alt),e.lang!==void 0&&(t.lang=e.lang),d_(e)){const[i]=e.children;if(i){const n=f_(i);return Object.assign(Object.assign({},t),n)}}}else"id"in e&&(t["aria-owns"]=e.id);return t}function h2(e){return e?Object.assign(Object.assign({},u2(e)),f_(e)):null}function p_({className:e,node:t}){const i=R.useMemo(()=>h2(t),[t]),n=R.useMemo(()=>!op(t)||d_(t)?null:t.children.map((s,r)=>E.jsx(p_,{node:s},r)),[t]);return E.jsx("span",Object.assign({className:e},i,{children:n}))}function lp(){return R.useContext(u_)}function d2(){const e=lp();ft(e);const{onGetStructTreeError:t,onGetStructTreeSuccess:i}=e,[n,s]=Ro(),{value:r,error:a}=n,{customTextRenderer:o,page:c}=e;function u(){r&&i&&i(r)}function h(){a&&(we(!1,a.toString()),t&&t(a))}return R.useEffect(function(){s({type:"RESET"})},[s,c]),R.useEffect(function(){if(o||!c)return;const d=tu(c.getStructTree()),f=d;return d.promise.then(p=>{s({type:"RESOLVE",value:p})}).catch(p=>{s({type:"REJECT",error:p})}),()=>zr(f)},[o,c,s]),R.useEffect(()=>{if(r!==void 0){if(r===!1){h();return}u()}},[r]),r?E.jsx(p_,{className:"react-pdf__Page__structTree structTree",node:r}):null}const Py=t_;function f2(e){const t=lp();ft(t);const i=Object.assign(Object.assign({},t),e),{_className:n,canvasBackground:s,devicePixelRatio:r=ZR(),onRenderError:a,onRenderSuccess:o,page:c,renderForms:u,renderTextLayer:h,rotate:d,scale:f}=i,{canvasRef:p}=e;ft(c);const g=R.useRef(null);function b(){c&&o&&o(cv(c,f))}function _(S){e2(S)||(we(!1,S.toString()),a&&a(S))}const v=R.useMemo(()=>c.getViewport({scale:f*r,rotation:d}),[r,c,d,f]),m=R.useMemo(()=>c.getViewport({scale:f,rotation:d}),[c,d,f]);R.useEffect(function(){if(!c)return;c.cleanup();const{current:S}=g;if(!S)return;S.width=v.width,S.height=v.height,S.style.width=`${Math.floor(m.width)}px`,S.style.height=`${Math.floor(m.height)}px`,S.style.visibility="hidden";const x={annotationMode:u?Py.ENABLE_FORMS:Py.ENABLE,canvasContext:S.getContext("2d",{alpha:!1}),viewport:v};s&&(x.background=s);const C=c.render(x),T=C;return C.promise.then(()=>{S.style.visibility="",b()}).catch(_),()=>zr(T)},[s,c,u,v,m]);const A=R.useCallback(()=>{const{current:S}=g;S&&(S.width=0,S.height=0)},[]);return R.useEffect(()=>A,[A]),E.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:c_(p,g),style:{display:"block",userSelect:"none"},children:h?E.jsx(d2,{}):null})}function p2(e){return"str"in e}function g2(){const e=lp();ft(e);const{customTextRenderer:t,onGetTextError:i,onGetTextSuccess:n,onRenderTextLayerError:s,onRenderTextLayerSuccess:r,page:a,pageIndex:o,pageNumber:c,rotate:u,scale:h}=e;ft(a);const[d,f]=Ro(),{value:p,error:g}=d,b=R.useRef(null),_=R.useRef(void 0);we(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function v(){p&&n&&n(p)}function m(){g&&(we(!1,g.toString()),i&&i(g))}R.useEffect(function(){f({type:"RESET"})},[a,f]),R.useEffect(function(){if(!a)return;const M=tu(a.getTextContent()),I=M;return M.promise.then(P=>{f({type:"RESOLVE",value:P})}).catch(P=>{f({type:"REJECT",error:P})}),()=>zr(I)},[a,f]),R.useEffect(()=>{if(p!==void 0){if(p===!1){m();return}v()}},[p]);const A=R.useCallback(()=>{r&&r()},[r]),S=R.useCallback(M=>{we(!1,M.toString()),s&&s(M)},[s]);function x(){const M=_.current;M&&M.classList.add("active")}function C(){const M=_.current;M&&M.classList.remove("active")}const T=R.useMemo(()=>a.getViewport({scale:h,rotation:u}),[a,u,h]);return R.useLayoutEffect(function(){if(!a||!p)return;const{current:M}=b;if(!M)return;M.innerHTML="";const I=a.streamTextContent({includeMarkedContent:!0}),P={container:M,textContentSource:I,viewport:T},O=new e_(P),Y=O;return O.render().then(()=>{const B=document.createElement("div");B.className="endOfContent",M.append(B),_.current=B;const ut=M.querySelectorAll('[role="presentation"]');if(t){let tt=0;p.items.forEach((D,W)=>{if(!p2(D))return;const N=ut[tt];if(!N)return;const H=t(Object.assign({pageIndex:o,pageNumber:c,itemIndex:W},D));N.innerHTML=H,tt+=D.str&&D.hasEOL?2:1})}A()}).catch(S),()=>zr(Y)},[t,S,A,a,o,c,p,T]),E.jsx("div",{className:rp("react-pdf__Page__textContent","textLayer"),onMouseUp:C,onMouseDown:x,ref:b})}function m2(){const e=l_(),t=lp();ft(t);const i=Object.assign(Object.assign({},e),t),{imageResourcesPath:n,linkService:s,onGetAnnotationsError:r,onGetAnnotationsSuccess:a,onRenderAnnotationLayerError:o,onRenderAnnotationLayerSuccess:c,page:u,pdf:h,renderForms:d,rotate:f,scale:p=1}=i;ft(h),ft(u),ft(s);const[g,b]=Ro(),{value:_,error:v}=g,m=R.useRef(null);we(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function A(){_&&a&&a(_)}function S(){v&&(we(!1,v.toString()),r&&r(v))}R.useEffect(function(){b({type:"RESET"})},[b,u]),R.useEffect(function(){if(!u)return;const M=tu(u.getAnnotations()),I=M;return M.promise.then(P=>{b({type:"RESOLVE",value:P})}).catch(P=>{b({type:"REJECT",error:P})}),()=>{zr(I)}},[b,u]),R.useEffect(()=>{if(_!==void 0){if(_===!1){S();return}A()}},[_]);function x(){c&&c()}function C(M){we(!1,`${M}`),o&&o(M)}const T=R.useMemo(()=>u.getViewport({scale:p,rotation:f}),[u,f,p]);return R.useEffect(function(){if(!h||!u||!s||!_)return;const{current:M}=m;if(!M)return;const I=T.clone({dontFlip:!0}),P={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:M,l10n:null,page:u,viewport:I},O={annotations:_,annotationStorage:h.annotationStorage,div:M,imageResourcesPath:n,linkService:s,page:u,renderForms:d,viewport:I};M.innerHTML="";try{new Zk(P).render(O),x()}catch(Y){C(Y)}return()=>{}},[_,n,s,u,h,d,T]),E.jsx("div",{className:rp("react-pdf__Page__annotations","annotationLayer"),ref:m})}var v2=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]]);return i};const Ly=1;function b2(e){const t=l_(),i=Object.assign(Object.assign({},t),e),{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:r,canvasRef:a,children:o,className:c,customRenderer:u,customTextRenderer:h,devicePixelRatio:d,error:f="Failed to load the page.",height:p,inputRef:g,loading:b="Loading page…",noData:_="No page specified.",onGetAnnotationsError:v,onGetAnnotationsSuccess:m,onGetStructTreeError:A,onGetStructTreeSuccess:S,onGetTextError:x,onGetTextSuccess:C,onLoadError:T,onLoadSuccess:M,onRenderAnnotationLayerError:I,onRenderAnnotationLayerSuccess:P,onRenderError:O,onRenderSuccess:Y,onRenderTextLayerError:B,onRenderTextLayerSuccess:ut,pageIndex:tt,pageNumber:D,pdf:W,registerPage:N,renderAnnotationLayer:H=!0,renderForms:G=!1,renderMode:at="canvas",renderTextLayer:Q=!0,rotate:ht,scale:Jt=Ly,unregisterPage:Zt,width:yt}=i,et=v2(i,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Kr,on]=Ro(),{value:Rt,error:Do}=Kr,ae=R.useRef(null);ft(W);const wt=Xs(D)?D-1:tt??null,Ut=D??(Xs(tt)?tt+1:null),Ve=ht??(Rt?Rt.rotate:null),Pe=R.useMemo(()=>{if(!Rt)return null;let Xr=1;const cp=Jt??Ly;if(yt||p){const Yr=Rt.getViewport({scale:1,rotation:Ve});yt?Xr=yt/Yr.width:p&&(Xr=p/Yr.height)}return cp*Xr},[p,Rt,Ve,Jt,yt]);R.useEffect(function(){return()=>{Xs(wt)&&s&&Zt&&Zt(wt)}},[s,W,wt,Zt]);function g_(){if(M){if(!Rt||!Pe)return;M(cv(Rt,Pe))}if(s&&N){if(!Xs(wt)||!ae.current)return;N(wt,ae.current)}}function m_(){Do&&(we(!1,Do.toString()),T&&T(Do))}R.useEffect(function(){on({type:"RESET"})},[on,W,wt]),R.useEffect(function(){if(!W||!Ut)return;const Xr=tu(W.getPage(Ut)),cp=Xr;return Xr.promise.then(Yr=>{on({type:"RESOLVE",value:Yr})}).catch(Yr=>{on({type:"REJECT",error:Yr})}),()=>zr(cp)},[on,W,Ut]),R.useEffect(()=>{if(Rt!==void 0){if(Rt===!1){m_();return}g_()}},[Rt,Pe]);const v_=R.useMemo(()=>Rt&&Xs(wt)&&Ut&&Xs(Ve)&&Xs(Pe)?{_className:n,canvasBackground:r,customTextRenderer:h,devicePixelRatio:d,onGetAnnotationsError:v,onGetAnnotationsSuccess:m,onGetStructTreeError:A,onGetStructTreeSuccess:S,onGetTextError:x,onGetTextSuccess:C,onRenderAnnotationLayerError:I,onRenderAnnotationLayerSuccess:P,onRenderError:O,onRenderSuccess:Y,onRenderTextLayerError:B,onRenderTextLayerSuccess:ut,page:Rt,pageIndex:wt,pageNumber:Ut,renderForms:G,renderTextLayer:Q,rotate:Ve,scale:Pe}:null,[n,r,h,d,v,m,A,S,x,C,I,P,O,Y,B,ut,Rt,wt,Ut,G,Q,Ve,Pe]),b_=R.useMemo(()=>n_(et,()=>Rt&&(Pe?cv(Rt,Pe):void 0)),[et,Rt,Pe]),eu=`${wt}@${Pe}/${Ve}`;function y_(){switch(at){case"custom":return ft(u),E.jsx(u,{},`${eu}_custom`);case"none":return null;case"canvas":default:return E.jsx(f2,{canvasRef:a},`${eu}_canvas`)}}function w_(){return Q?E.jsx(g2,{},`${eu}_text`):null}function A_(){return H?E.jsx(m2,{},`${eu}_annotations`):null}function k_(){return E.jsxs(u_.Provider,{value:v_,children:[y_(),w_(),A_(),o]})}function __(){return Ut?W===null||Rt===void 0||Rt===null?E.jsx(wo,{type:"loading",children:typeof b=="function"?b():b}):W===!1||Rt===!1?E.jsx(wo,{type:"error",children:typeof f=="function"?f():f}):k_():E.jsx(wo,{type:"no-data",children:typeof _=="function"?_():_})}return E.jsx("div",Object.assign({className:rp(n,c),"data-page-number":Ut,ref:c_(g,ae),style:{"--scale-factor":`${Pe}`,backgroundColor:r||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},b_,{children:__()}))}t2();g0.workerSrc="pdf.worker.mjs";const y2="4.4.168";g0.workerSrc=`//unpkg.com/pdfjs-dist@${y2}/build/pdf.worker.min.mjs`;function w2(){const[e,t]=R.useState(1),[i,n]=R.useState(null),[s,r]=R.useState(""),[a,o]=R.useState({width:window.innerWidth,height:window.innerHeight});R.useEffect(()=>{function g(){o({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]);function c({numPages:g}){n(g)}function u(){r("page-exit-left"),setTimeout(()=>{t(g=>Math.max(g-1,1)),r("page-enter-right")},500)}function h(){r("page-exit-right"),setTimeout(()=>{t(g=>Math.min(g+1,i)),r("page-enter-left")},500)}function d(){const g=document.createElement("a");g.href="/Resume.pdf",g.download="Simon-Ehrlich-Resume.pdf",document.body.appendChild(g),g.click(),document.body.removeChild(g)}const{width:f,height:p}=a;return E.jsxs("div",{className:"resume-container",children:[E.jsxs("div",{className:"arrows-resume-container",children:[E.jsx("button",{className:e===1?"arrow-inactive":"arrow-active",onClick:u,disabled:e<=1,children:E.jsx(bC,{})}),E.jsx("div",{className:"document-container",children:E.jsx(o2,{className:`page-flip ${s}`,file:"/Resume.pdf",onLoadSuccess:c,children:E.jsx(b2,{pageNumber:e,width:f<="768"?.8*f:null,height:p<="768"?.8*p:null})})}),E.jsx("button",{className:e===i?"arrow-inactive":"arrow-active",onClick:h,disabled:e>=i,children:E.jsx(yC,{})})]}),E.jsx("div",{className:"btn2-container",children:E.jsx("button",{onClick:d,children:"Download CV"})})]})}function A2(){return E.jsxs("div",{className:"container",children:[E.jsx("h1",{children:"Coming soon..."}),E.jsx("div",{className:"progress-bar",children:E.jsx("div",{className:"progress-bar-fill"})})]})}function k2(){return E.jsxs("div",{id:"container",children:[E.jsx(sC,{}),E.jsxs($E,{children:[E.jsx(ol,{path:"/",element:E.jsx(wC,{})}),E.jsx(ol,{path:"/about",element:E.jsx(AC,{})}),E.jsx(ol,{path:"/projects",element:E.jsx(A2,{})}),E.jsx(ol,{path:"/resume",element:E.jsx(w2,{})})]}),E.jsx(rC,{})]})}Zp.createRoot(document.getElementById("root")).render(E.jsx(On.StrictMode,{children:E.jsx(QE,{children:E.jsx(k2,{})})}));
